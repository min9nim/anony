!function(c){function t(t){for(var e,n,o=t[0],r=t[1],i=t[2],a=0,s=[];a<o.length;a++)n=o[a],Object.prototype.hasOwnProperty.call(l,n)&&l[n]&&s.push(l[n][0]),l[n]=0;for(e in r)Object.prototype.hasOwnProperty.call(r,e)&&(c[e]=r[e]);for(h&&h(t);s.length;)s.shift()();return p.push.apply(p,i||[]),u()}function u(){for(var t,e=0;e<p.length;e++){for(var n=p[e],o=!0,r=1;r<n.length;r++){var i=n[r];0!==l[i]&&(o=!1)}o&&(p.splice(e--,1),t=f(f.s=n[0]))}return t}var n={},l={5:0},p=[];function f(t){if(n[t])return n[t].exports;var e=n[t]={i:t,l:!1,exports:{}};return c[t].call(e.exports,e,e.exports,f),e.l=!0,e.exports}f.e=function(r){var t,e=[],n=l[r];if(0!==n)if(n)e.push(n[2]);else{var o=new Promise(function(t,e){n=l[r]=[t,e]});e.push(n[2]=o);var i,a=document.createElement("script");a.charset="utf-8",a.timeout=120,f.nc&&a.setAttribute("nonce",f.nc),a.src=f.p+""+({1:"List",2:"Post",3:"PostHistory",4:"Write",7:"vendors~Post",8:"vendors~highlightjs"}[t=r]||t)+".chunk.js";var s=new Error;i=function(t){a.onerror=a.onload=null,clearTimeout(c);var e=l[r];if(0!==e){if(e){var n=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;s.message="Loading chunk "+r+" failed.\n("+n+": "+o+")",s.name="ChunkLoadError",s.type=n,s.request=o,e[1](s)}l[r]=void 0}};var c=setTimeout(function(){i({type:"timeout",target:a})},12e4);a.onerror=a.onload=i,document.head.appendChild(a)}return Promise.all(e)},f.m=c,f.c=n,f.d=function(t,e,n){f.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},f.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},f.t=function(e,t){if(1&t&&(e=f(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(f.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)f.d(n,o,function(t){return e[t]}.bind(null,o));return n},f.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return f.d(e,"a",e),e},f.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},f.p="/",f.oe=function(t){throw console.error(t),t};var e=window.webpackJsonp=window.webpackJsonp||[],o=e.push.bind(e);e.push=t,e=e.slice();for(var r=0;r<e.length;r++)t(e[r]);var h=o;p.push([385,0,9]),u()}({100:function(t,e,n){"use strict";n.d(e,"a",function(){return d});var o=n(0),c=n.n(o),u=n(45),r=n(9),l=n.n(r),p=n(46);n(267);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function s(i){return function(){var t,e,n,o=f(i);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return;if(Reflect.construct.sham)return;if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(t){return}}()){var r=f(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return e=this,!(n=t)||"object"!==a(n)&&"function"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):n}}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n(73);var d=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(r,c.a.Component);var t,e,n,o=s(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=o.call(this,t)).state={postMetaClicked:!1},e.contextPath=e.props.context?"/"+e.props.context:"",l.a.locale("ko"),e}return t=r,(e=[{key:"shouldComponentUpdate",value:function(){return!0}},{key:"postMetaClick",value:function(){this.setState({postMetaClicked:!0})}},{key:"render",value:function(){var t=this.props.post.deleted?"deleted":"",e=this.props.post.isPrivate?"private":"",n="title h4 ".concat(t," ").concat(e),o="content ".concat(t," ").concat(e),r=tp.store.getState().view.search,i=tp.highlight(this.props.post.title,r);i=(this.props.post.isPrivate?'<i class="icon-lock"></i>':"")+i;var a=tp.$m.removeTag(this.props.post.content),s=tp.highlight(a,r);return c.a.createElement("div",{id:this.props.post.key,className:"excerpt"},c.a.createElement("div",{className:"title1"},c.a.createElement(p.a,{to:this.contextPath+"/post/"+this.props.post.key},c.a.createElement("div",{className:n,dangerouslySetInnerHTML:{__html:i}}))),c.a.createElement("div",{className:"meta",onClick:this.editPost},this.props.post.writer," -"," ",/postHistory/.test(location.pathname)&&"edited"," ",l()(this.props.post.date).fromNow()),c.a.createElement("div",{className:o,dangerouslySetInnerHTML:{__html:s}}),c.a.createElement("div",{className:"meta-wrapper"},this.state.postMetaClicked?c.a.createElement(u.m,{post:this.props.post}):c.a.createElement("div",{className:"postMetaBtn",onClick:this.postMetaClick.bind(this)},"..."),c.a.createElement(u.l,{history:this.props.history,context:this.props.context,postKey:this.props.post.key,post:this.props.post,postOrigin:this.props.post.origin,postDeleted:this.props.post.deleted})))}}])&&i(t.prototype,e),n&&i(t,n),r}()},263:function(t,e,n){var o=n(17),r=n(264);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]);var i={insert:"head",singleton:!1},a=(o(r,i),r.locals?r.locals:{});t.exports=a},264:function(t,e,n){(e=n(18)(!1)).push([t.i,'body{overflow-y:scroll}#root{max-width:800px;margin:auto}img{max-width:100%}textarea{resize:vertical}.form-control{box-shadow:initial}.btn{padding:5px 6px}.btn:active{transform:rotate(10deg);-webkit-transform:rotate(10deg)}div[class^="icon-"]{transition:all 0.1s ease-in-out}div[class^="icon-"]:hover{transform:scale(1.2);-webkit-transform:scale(1.2)}div[class^="icon-"]:active{transform:rotate(10deg);-webkit-transform:rotate(10deg)}#nprogress .spinner{top:50%;right:50%}\n',""]),t.exports=e},266:function(t,e,n){var o={"./af":103,"./af.js":103,"./ar":104,"./ar-dz":105,"./ar-dz.js":105,"./ar-kw":106,"./ar-kw.js":106,"./ar-ly":107,"./ar-ly.js":107,"./ar-ma":108,"./ar-ma.js":108,"./ar-sa":109,"./ar-sa.js":109,"./ar-tn":110,"./ar-tn.js":110,"./ar.js":104,"./az":111,"./az.js":111,"./be":112,"./be.js":112,"./bg":113,"./bg.js":113,"./bm":114,"./bm.js":114,"./bn":115,"./bn.js":115,"./bo":116,"./bo.js":116,"./br":117,"./br.js":117,"./bs":118,"./bs.js":118,"./ca":119,"./ca.js":119,"./cs":120,"./cs.js":120,"./cv":121,"./cv.js":121,"./cy":122,"./cy.js":122,"./da":123,"./da.js":123,"./de":124,"./de-at":125,"./de-at.js":125,"./de-ch":126,"./de-ch.js":126,"./de.js":124,"./dv":127,"./dv.js":127,"./el":128,"./el.js":128,"./en-au":129,"./en-au.js":129,"./en-ca":130,"./en-ca.js":130,"./en-gb":131,"./en-gb.js":131,"./en-ie":132,"./en-ie.js":132,"./en-il":133,"./en-il.js":133,"./en-nz":134,"./en-nz.js":134,"./eo":135,"./eo.js":135,"./es":136,"./es-do":137,"./es-do.js":137,"./es-us":138,"./es-us.js":138,"./es.js":136,"./et":139,"./et.js":139,"./eu":140,"./eu.js":140,"./fa":141,"./fa.js":141,"./fi":142,"./fi.js":142,"./fo":143,"./fo.js":143,"./fr":144,"./fr-ca":145,"./fr-ca.js":145,"./fr-ch":146,"./fr-ch.js":146,"./fr.js":144,"./fy":147,"./fy.js":147,"./gd":148,"./gd.js":148,"./gl":149,"./gl.js":149,"./gom-latn":150,"./gom-latn.js":150,"./gu":151,"./gu.js":151,"./he":152,"./he.js":152,"./hi":153,"./hi.js":153,"./hr":154,"./hr.js":154,"./hu":155,"./hu.js":155,"./hy-am":156,"./hy-am.js":156,"./id":157,"./id.js":157,"./is":158,"./is.js":158,"./it":159,"./it.js":159,"./ja":160,"./ja.js":160,"./jv":161,"./jv.js":161,"./ka":162,"./ka.js":162,"./kk":163,"./kk.js":163,"./km":164,"./km.js":164,"./kn":165,"./kn.js":165,"./ko":166,"./ko.js":166,"./ky":167,"./ky.js":167,"./lb":168,"./lb.js":168,"./lo":169,"./lo.js":169,"./lt":170,"./lt.js":170,"./lv":171,"./lv.js":171,"./me":172,"./me.js":172,"./mi":173,"./mi.js":173,"./mk":174,"./mk.js":174,"./ml":175,"./ml.js":175,"./mn":176,"./mn.js":176,"./mr":177,"./mr.js":177,"./ms":178,"./ms-my":179,"./ms-my.js":179,"./ms.js":178,"./mt":180,"./mt.js":180,"./my":181,"./my.js":181,"./nb":182,"./nb.js":182,"./ne":183,"./ne.js":183,"./nl":184,"./nl-be":185,"./nl-be.js":185,"./nl.js":184,"./nn":186,"./nn.js":186,"./pa-in":187,"./pa-in.js":187,"./pl":188,"./pl.js":188,"./pt":189,"./pt-br":190,"./pt-br.js":190,"./pt.js":189,"./ro":191,"./ro.js":191,"./ru":192,"./ru.js":192,"./sd":193,"./sd.js":193,"./se":194,"./se.js":194,"./si":195,"./si.js":195,"./sk":196,"./sk.js":196,"./sl":197,"./sl.js":197,"./sq":198,"./sq.js":198,"./sr":199,"./sr-cyrl":200,"./sr-cyrl.js":200,"./sr.js":199,"./ss":201,"./ss.js":201,"./sv":202,"./sv.js":202,"./sw":203,"./sw.js":203,"./ta":204,"./ta.js":204,"./te":205,"./te.js":205,"./tet":206,"./tet.js":206,"./tg":207,"./tg.js":207,"./th":208,"./th.js":208,"./tl-ph":209,"./tl-ph.js":209,"./tlh":210,"./tlh.js":210,"./tr":211,"./tr.js":211,"./tzl":212,"./tzl.js":212,"./tzm":213,"./tzm-latn":214,"./tzm-latn.js":214,"./tzm.js":213,"./ug-cn":215,"./ug-cn.js":215,"./uk":216,"./uk.js":216,"./ur":217,"./ur.js":217,"./uz":218,"./uz-latn":219,"./uz-latn.js":219,"./uz.js":218,"./vi":220,"./vi.js":220,"./x-pseudo":221,"./x-pseudo.js":221,"./yo":222,"./yo.js":222,"./zh-cn":223,"./zh-cn.js":223,"./zh-hk":224,"./zh-hk.js":224,"./zh-tw":225,"./zh-tw.js":225};function r(t){var e=i(t);return n(e)}function i(t){if(n.o(o,t))return o[t];var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}r.keys=function(){return Object.keys(o)},r.resolve=i,(t.exports=r).id=266},267:function(t,e,n){var o=n(17),r=n(268);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]);var i={insert:"head",singleton:!1},a=(o(r,i),r.locals?r.locals:{});t.exports=a},268:function(t,e,n){(e=n(18)(!1)).push([t.i,".excerpt{display:inline-block;border-bottom:1px solid #eee;margin:-2px 0px;width:100%;background-color:#fff;padding:15px 15px;overflow:hidden;-webkit-transition:-webkit-transform 0.5s;transition:transform 0.5s}.excerpt .title1{margin-bottom:3px}.excerpt .title{display:inline-block;text-align:right;width:100%;margin:0px}.excerpt .title a{color:#555}.excerpt .title sup{font-size:14px;margin-left:5px;color:#999}.excerpt .meta{color:#aaa;text-align:right;font-size:12px;display:inline-block;margin:0px 0px 0px 0px}.excerpt .meta-wrapper{margin-top:10px;display:flex;flex-wrap:wrap}.excerpt .meta-wrapper .postMeta{flex:1;min-width:262px}.excerpt .meta-wrapper .postMetaBtn{color:#aaa;cursor:pointer}.excerpt .meta-wrapper .postMenu{flex:1;min-width:241px;text-align:right}.excerpt .meta2{color:#aaa;text-align:right;font-size:12px;display:inline-block;margin:10px 0px}.excerpt .content{display:block;max-height:60px;overflow:hidden;margin-top:4px;color:#555}.excerpt .deleted{text-decoration:line-through;color:#ccc}.excerpt .private{color:#bbb}\n",""]),t.exports=e},278:function(t,e,n){var o=n(17),r=n(279);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]);var i={insert:"head",singleton:!1},a=(o(r,i),r.locals?r.locals:{});t.exports=a},279:function(t,e,n){(e=n(18)(!1)).push([t.i,".postMenu{cursor:pointer;color:#aaa;flex:1;min-width:234px;text-align:right;font-size:12px}.postMenu .navi{font-size:12px}.postMenu .navi div{font-size:12px;display:inline-block;font-style:italic;margin-left:10px}.postMenu .navi .icon-list{margin-left:0px}\n",""]),t.exports=e},280:function(t,e,n){var o=n(17),r=n(281);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]);var i={insert:"head",singleton:!1},a=(o(r,i),r.locals?r.locals:{});t.exports=a},281:function(t,e,n){(e=n(18)(!1)).push([t.i,".postMeta{color:#aaa;font-size:12px;text-align:left}.postMeta i{display:inline-block;margin-right:20px}.postMeta .liked{cursor:pointer;font-weight:bold}.postMeta .like{cursor:pointer}\n",""]),t.exports=e},282:function(t,e,n){var o=n(17),r=n(283);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]);var i={insert:"head",singleton:!1},a=(o(r,i),r.locals?r.locals:{});t.exports=a},283:function(t,e,n){(e=n(18)(!1)).push([t.i,".search{text-align:right;justify-content:center}.search .btn1{position:relative;left:25px;cursor:pointer;display:inline-block;font-size:14px}.search .btn2{cursor:pointer;display:inline-block;font-size:18px}.search .ipt-wrapper{display:inline-block;min-width:57px;max-width:200px;flex:1}.search .ipt-wrapper .ipt-search{width:100%;font-size:14px;padding:0px 4px 0px 25px;border-width:1px;border-style:solid;border-color:#eee;border-image:initial;border-radius:15px;outline:none;transition:all 0.2s ease 0s}\n",""]),t.exports=e},284:function(t,e,n){var o=n(17),r=n(285);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]);var i={insert:"head",singleton:!1},a=(o(r,i),r.locals?r.locals:{});t.exports=a},285:function(t,e,n){(e=n(18)(!1)).push([t.i,".searchBox .modal_div{position:absolute;left:0px;top:0px;width:100%;height:100%;opacity:0.5;background-color:#808080}.searchBox .search_div{position:absolute;width:90%;max-width:600px;height:20%;top:30%;left:50%;transform:translateX(-50%) translateY(-30%)}.searchBox .search_div .input{height:100px;width:100%;border:1px solid #69f;background-color:#fff;padding:5px;overflow:auto;font-size:20px}.searchBox .search_div .cancelBtn{margin-left:3px}.searchBox .search_div .btn_grp{margin-top:5px;text-align:center}\n",""]),t.exports=e},362:function(t,e,n){var o=n(17),r=n(363);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]);var i={insert:"head",singleton:!1},a=(o(r,i),r.locals?r.locals:{});t.exports=a},363:function(t,e,n){(e=n(18)(!1)).push([t.i,".comment-write{margin:20px;display:flex;flex-direction:row;max-width:800px}.comment-write .writer{display:inline-block;width:100px;margin-bottom:auto;margin-top:auto;margin-right:10px}.comment-write .writer input{border-top:0px;border-left:0px;border-right:0px;border-radius:0px;padding-top:0px;padding-bottom:0px;height:20px}.comment-write .content{margin-left:3px;margin-right:10px;flex-grow:1;margin-bottom:auto;margin-top:auto}.comment-write .content textarea{overflow:hidden;border-top:0px;border-left:0px;border-right:0px;border-radius:0px;padding-top:0px;padding-bottom:0px;height:20px;resize:none}.comment-write .confirmBtn{width:70px;margin:1px 0px}.comment-write .confirmBtn .btn{font-size:12px;margin-right:3px;padding-top:3px;padding-bottom:2px;padding-left:3px;padding-right:6px}\n",""]),t.exports=e},364:function(t,e,n){var o=n(17),r=n(365);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]);var i={insert:"head",singleton:!1},a=(o(r,i),r.locals?r.locals:{});t.exports=a},365:function(t,e,n){(e=n(18)(!1)).push([t.i,".CommentEditBox .modal_div{position:absolute;left:0px;top:0px;width:100%;height:100%;opacity:0.5;background-color:#808080}.CommentEditBox .inner_div{position:absolute;width:90%;max-width:600px;height:20%;top:30%;left:50%;transform:translateX(-50%) translateY(-30%)}.CommentEditBox .inner_div .form-group{margin-bottom:5px}.CommentEditBox .inner_div .writer{margin-bottom:5px;height:40px;width:40%;border:1px solid #69f;background-color:#fff;padding:5px;overflow:auto;font-size:20px}.CommentEditBox .inner_div .content{height:100px;width:100%;border:1px solid #69f;background-color:#fff;padding:5px;overflow:auto;font-size:20px}.CommentEditBox .inner_div .btn_grp{margin-top:5px;text-align:center}.CommentEditBox .inner_div .btn_grp .cancelBtn{margin-left:3px}\n",""]),t.exports=e},366:function(t,e,n){var o=n(17),r=n(367);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]);var i={insert:"head",singleton:!1},a=(o(r,i),r.locals?r.locals:{});t.exports=a},367:function(t,e,n){(e=n(18)(!1)).push([t.i,"",""]),t.exports=e},368:function(t,e,n){var o=n(17),r=n(369);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]);var i={insert:"head",singleton:!1},a=(o(r,i),r.locals?r.locals:{});t.exports=a},369:function(t,e,n){(e=n(18)(!1)).push([t.i,".commentMenu{cursor:pointer;color:#aaa;float:right}.commentMenu .navi{text-align:right;font-size:18px}.commentMenu .navi div{margin-left:10px;font-size:12px;display:inline-block;font-style:italic}\n",""]),t.exports=e},370:function(t,e,n){var o=n(17),r=n(371);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]);var i={insert:"head",singleton:!1},a=(o(r,i),r.locals?r.locals:{});t.exports=a},371:function(t,e,n){(e=n(18)(!1)).push([t.i,".comment{margin:10px 20px}.comment .meta{color:#aaa;text-align:left;font-size:12px;display:inline-block}.comment .content{color:#777;font-size:14px}.comment .deleted{text-decoration:line-through;color:#ccc}\n",""]),t.exports=e},372:function(t,e,n){var o=n(17),r=n(373);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]);var i={insert:"head",singleton:!1},a=(o(r,i),r.locals?r.locals:{});t.exports=a},373:function(t,e,n){(e=n(18)(!1)).push([t.i,".alertDismissable .alert{position:fixed;display:inline;top:50%;left:50%;-webkit-transform:translate(-50%, -50%);-ms-transform:translate(-50%, -50%);-moz-transform:translate(-50%, -50%);-o-transform:translate(-50%, -50%);transform:translate(-50%, -50%)}.alertDismissable .modal_div{position:fixed;left:0px;top:0px;width:100%;height:100%;opacity:0.3;background-color:#808080}\n",""]),t.exports=e},374:function(t,e,n){var o=n(17),r=n(375);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]);var i={insert:"head",singleton:!1},a=(o(r,i),r.locals?r.locals:{});t.exports=a},375:function(t,e,n){(e=n(18)(!1)).push([t.i,".confirm .alert{position:fixed;display:inline;top:50%;left:50%;-webkit-transform:translate(-50%, -50%);-ms-transform:translate(-50%, -50%);-moz-transform:translate(-50%, -50%);-o-transform:translate(-50%, -50%);transform:translate(-50%, -50%)}.confirm .modal_div{position:fixed;left:0px;top:0px;width:100%;height:100%;opacity:0.3;background-color:#808080}\n",""]),t.exports=e},376:function(t,e,n){var o=n(17),r=n(377);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]);var i={insert:"head",singleton:!1},a=(o(r,i),r.locals?r.locals:{});t.exports=a},377:function(t,e,n){(e=n(18)(!1)).push([t.i,".my-channels{color:#777;border:1px solid #eee;padding:10px;border-radius:6px;background-color:#fff}.my-channels .loading2{margin-top:5px}.my-channels .title{border-bottom:1px solid #eee;padding-bottom:7px}.my-channels .item{margin-top:10px;cursor:pointer}.my-channels .selected{font-weight:bold}\n",""]),t.exports=e},378:function(t,e,n){var o=n(17),r=n(379);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]);var i={insert:"head",singleton:!1},a=(o(r,i),r.locals?r.locals:{});t.exports=a},379:function(t,e,n){(e=n(18)(!1)).push([t.i,".uuid-setting{height:22px}.uuid-setting .modal_div{position:fixed;left:0px;top:0px;width:100%;height:100%;opacity:0.5;background-color:#808080}.uuid-setting .inner_div{position:absolute;top:50%;left:50%;-ms-transform:translate(-50%, -50%);-moz-transform:translate(-50%, -50%);-o-transform:translate(-50%, -50%);transform:translate(-50%, -50%);max-width:800px}.uuid-setting .inner_div .upper_grp .form{margin-bottom:7px}.uuid-setting .inner_div .upper_grp .form #uuid{width:248px;text-indent:3px;height:40px;font-size:20px}.uuid-setting .inner_div .upper_grp .form .form-control-feedback{top:3px;left:170px}.uuid-setting .inner_div .upper_grp .delete{font-size:15px;font-weight:bold;position:absolute;display:inline;color:#999;top:10px;left:198px;cursor:pointer}.uuid-setting .inner_div .upper_grp .refresh{font-size:15px;font-weight:bold;position:absolute;display:inline;color:#999;top:10px;left:220px;cursor:pointer}.uuid-setting .inner_div .btn_grp{margin-top:5px;margin-bottom:20px;text-align:center;width:245px}.uuid-setting .inner_div .btn_grp .cancelBtn{margin-left:3px}\n",""]),t.exports=e},385:function(t,e,a){"use strict";a.r(e);var n=a(0),s=a.n(n),o=a(13),r=a.n(o),i=a(251),c=(a(261),a(263),a(244)),u=a(67),l=a(45),p=a(245),f=a(65),h=a.n(f),d=a(8),m=a(249),y=a(68);function v(t){return function(t){if(Array.isArray(t))return b(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return b(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}var g=a(73),w=y.a.type;function x(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length?arguments[1]:void 0;return{view:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length?arguments[1]:void 0;switch(e.type){case w.SETSEARCH:return Object.assign({},t,{search:e.search});case w.SETUUID:return Object.assign({},t,{uuid:e.uuid});default:return t}}(t.view,e),data:{posts:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e=1<arguments.length?arguments[1]:void 0;switch(e.type){case w.ADDPOST:return[e.post].concat(v(t));case w.SCROLLEND:case w.ADDPOSTS:return[].concat(v(t),v(e.posts));case w.INITPOSTS:return[];case w.SETPOSTS:return e.posts;case w.DELETEPOST:var n=g.clone(t),o=n.findIndex(function(t){return t.key===e.key});return n[o].deleted=!0,n;case w.VIEWPOST:var r=g.clone(t),i=r.findIndex(function(t){return t.key===e.key});return r[i]=Object.assign({},r[i]),r[i].viewCnt=r[i].viewCnt?r[i].viewCnt+1:1,r;case w.RESTOREPOST:var a=g.clone(t),s=a.findIndex(function(t){return t.key===e.key});return a[s].deleted=!1,a;case w.REMOVEPOST:return g.clone(t).filter(function(t){return!e.predi(t)});case w.UPDATEPOST:var c=g.clone(t),u=c.findIndex(function(t){return t.key===e.post.key});return c.splice(u,1,e.post),c.sort(function(t,e){return e.date-t.date}),c;default:return t}}(t.data.posts,e),comments:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e=1<arguments.length?arguments[1]:void 0;switch(e.type){case w.ADDCOMMENT:return[].concat(v(t),[e.comment]);case w.ADDCOMMENTS:return[].concat(v(t),v(e.comments));case w.DELETECOMMENT:var n=g.clone(t),o=n.findIndex(function(t){return t.key===e.key});return n[o].deleted=!0,n;case w.REMOVECOMMENT:var r=g.clone(t),i=r.findIndex(function(t){return t.key===e.key});return r.splice(i,1),r;case w.UPDATECOMMENT:var a=g.clone(t),s=a.findIndex(function(t){return t.key===e.comment.key});return a.splice(s,1,e.comment),a;case w.RESTORECOMMENT:var c=g.clone(t),u=c.findIndex(function(t){return t.key===e.key});return c[u].deleted=!1,c;default:return t}}(t.data.comments,e),channels:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e=1<arguments.length?arguments[1]:void 0;switch(e.type){case w.MYCHANNELS:return e.channels;default:return t}}(t.data.channels,e)}}}function E(t){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function S(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function k(i){return function(){var t,e,n,o=O(i);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return;if(Reflect.construct.sham)return;if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(t){return}}()){var r=O(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return e=this,!(n=t)||"object"!==E(n)&&"function"!=typeof n?C(e):n}}function C(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function O(t){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function j(t,e){return(j=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}a(73);function _(){return s.a.createElement(c.a,null,s.a.createElement(u.a,{path:"/",component:P}))}var P=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&j(t,e)}(i,s.a.Component);var t,e,n,r=k(i);function i(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=r.call(this,t);var n=location.pathname.split("/")[1],o=["","list","post","edit","postHistory","write"].includes(n)?"":"/"+n;return h.a.add("Alt+W",function(){return e.props.history.push(o+"/write")}),h.a.add("Alt+L",function(){return e.props.history.push(o+"/list")}),d.a.history=e.props.history,d.a.view.App=C(e),d.a.store=Object(m.a)(x,{view:{search:"",uuid:d.a.user.uuid},data:{posts:[],comments:[]}}),e}return t=i,(e=[{key:"shouldComponentUpdate",value:function(t){return t.location.pathname!==this.props.location.pathname}},{key:"render",value:function(){var t=decodeURI(location.pathname.split("/")[1]);d.a.context="post"===t?"":t;function e(t){var e=t.history,n=t.match;d.a.thispage="List";var o=d.a.asyncComponent(function(){return a.e(1).then(a.bind(null,635))},"/pages/List");return s.a.createElement(o,{history:e,context:n.params.context})}function n(t){var e=t.history,n=t.match;d.a.thispage="Post";var o=d.a.asyncComponent(function(){return Promise.all([a.e(7),a.e(2)]).then(a.bind(null,636))},"/pages/Post");return s.a.createElement(o,{history:e,postKey:n.params.key,context:n.params.context})}function o(t){var e=t.history,n=t.match;d.a.thispage="Edit";var o=d.a.asyncComponent(function(){return a.e(4).then(a.bind(null,637))},"/pages/Write");return s.a.createElement(o,{type:"edit",history:e,postKey:n.params.key,context:n.params.context})}function r(t){var e=t.history,n=t.match;d.a.thispage="Write";var o=d.a.asyncComponent(function(){return a.e(4).then(a.bind(null,637))},"/pages/Write");return s.a.createElement(o,{history:e,context:n.params.context})}function i(t){var e=t.history,n=t.match;d.a.thispage="PostHistory";var o=d.a.asyncComponent(function(){return a.e(3).then(a.bind(null,638))},"/pages/PostHistory");return s.a.createElement(o,{history:e,postKey:n.params.key,context:n.params.context})}return s.a.createElement("div",null,s.a.createElement(p.a,null,s.a.createElement(u.a,{path:"/post/:key",render:n}),s.a.createElement(u.a,{path:"/postHistory/:key",render:i}),s.a.createElement(u.a,{path:"/edit/:key",render:o}),s.a.createElement(u.a,{path:"/write",render:r}),s.a.createElement(u.a,{path:"/list",render:e}),s.a.createElement(u.a,{path:"/:context/post/:key",render:n}),s.a.createElement(u.a,{path:"/:context/postHistory/:key",render:i}),s.a.createElement(u.a,{path:"/:context/edit/:key",render:o}),s.a.createElement(u.a,{path:"/:context/write",render:r}),s.a.createElement(u.a,{path:"/:context/list",render:e}),s.a.createElement(u.a,{path:"/:context",render:e}),s.a.createElement(u.a,{path:"/",render:r})),s.a.createElement(l.a,null),s.a.createElement(l.g,null))}}])&&S(t.prototype,e),n&&S(t,n),i}();r.a.render(s.a.createElement(i.AppContainer,null,s.a.createElement(_,null)),document.getElementById("root"))},42:function(t,e){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t){return new i.fn.init(t)}((t.exports=i).fn={init:function(t){"string"==typeof t?(this.sel=t,this.doms=document.querySelectorAll(t),this.length=this.doms.length):t instanceof i.fn.init?(this.sel=t.sel,this.doms=t.doms,this.length=t.length):t instanceof Node?(this.doms=[t],this.length=1):t[0]instanceof Node&&(this.doms=t,this.length=t.length),1===this.length&&(this.dom=this.doms[0])},html:function(e){if(0!=this.length)return void 0===e?this.doms[0].innerHTML:(i._each(this.doms,function(t){t.innerHTML=e}),this)},text:function(e){if(0!=this.length)return void 0===e?this.doms[0].textContent:(i._each(this.doms,function(t){t.textContent=e}),this)},css:function(e,n){if(0!=this.length){if(void 0===n)return this.doms[0].style[e];if("number"==typeof n){0<=["left","top","right","bottom","width","height"].indexOf(e)&&(n+="px")}return i._each(this.doms,function(t){t.style[e]=n}),this}},position:function(){if(0!=this.length){var t=this.doms[0].style.top;t=Number(t.substring(0,t.length-2));var e=this.doms[0].style.left;return{top:t,left:e=Number(e.substring(0,e.length-2))}}},parent:function(t,e){if(0!==this.length){if(void 0===e)e=this.doms[0];else if("BODY"===e.tagName)return;return void 0===t?e.parentNode:"#"!==t[0]&&"."!==t[0]?e.parentNode.tagName===t.toUpperCase()?e.parentNode:this.parent(t,e.parentNode):void 0}},animate:function(){},bind:function(){},attr:function(e,n){if(0!=this.length)return void 0===n?this.doms[0].getAttribute(e):(i._each(this.doms,function(t){t.setAttribute(e,n)}),this)},removeAttr:function(e){if(0!=this.length)return i._each(this.doms,function(t){t.removeAttribute(e)}),this},addClass:function(n){return i._each(this.doms,function(t){var e=t.getAttribute("class");e=null===e?n:e+" "+n,t.setAttribute("class",e)}),this},removeClass:function(r){return i._each(this.doms,function(t){var e=t.getAttribute("class");if(null===e)return this;var n=e.split(" "),o=n.indexOf(r);o<0||(n.splice(o,1),t.setAttribute("class",n.join(" ")))}),this},each:function(o){return i._each(this.doms,function(t,e,n){o.call(t,t,e,n)}),this},remove:function(){i._each(this.doms,function(t){t.parentNode.removeChild(t)})},append:function(e){return i._each(this.doms,function(t){1!==t.nodeType&&11!==t.nodeType&&9!==t.nodeType||t.appendChild(i.clone(e))}),this},prepend:function(e){return i._each(this.doms,function(t){1!==t.nodeType&&11!==t.nodeType&&9!==t.nodeType||t.insertBefore(i.clone(e),t.firstChild)}),this},show:function(){return i._each(this.doms,function(t){t.style.display="block"}),this},hide:function(){return i._each(this.doms,function(t){t.style.display="none"}),this},val:function(e){if(0!=this.length)return void 0===e?this.doms[0].value:(i._each(this.doms,function(t){t.value=e}),this)},focus:function(){0!=this.length&&this.doms[0].focus()}}).init.prototype=i.fn,i.clone=function(t){var e;if("string"==typeof t){var n=document.createElement("div");n.innerHTML=t,e=n.firstChild}else e=t.cloneNode(!0);return e},i.scrollTo=function(t,e){return window.scrollTo(t,e)},i.txtToHtml=function(t,n){if(n)var o=new RegExp("("+n+")","gi");return t.split("\n").map(function(t){return t.split(" ").map(function(t){var e=t;return n&&(e=e.replace(o,'<span style="background-color:yellow;">$1</span>')),0==t.indexOf("http://")||0==t.indexOf("https://")?'<a href="'.concat(t,'" target="_blank">').concat(e,"</a>"):e}).join(" ").replace(/  /gi,"&nbsp;&nbsp")}).join("<br/>")},i.html=function(t,e){return i(t).html(e)},i.css=function(t,e,n){return i(t).css(e,n)},i.val=function(t,e){return i(t).val(e)},i.show=function(t){return i(t).show()},i.hide=function(t){return i(t).hide()},i._curry=function(n){return function(e,t){return 2===arguments.length?n(e,t):function(t){return n(e,t)}}},i._each=(i._curryr=function(n){return function(e,t){return 2===arguments.length?n(e,t):function(t){return n(t,e)}}})(function(t,e){if("object"!==r(t)||!t)return[];for(var n=Object.keys(t),o=0;o<n.length;o++)e(t[n[o]],n[o],t);return t}),i._map=i._curryr(function(t,o){var r=[];return i._each(t,function(t,e,n){r.push(o(t,e,n))}),r}),i._filter=i._curryr(function(t,o){var r=[];return i._each(t,function(t,e,n){o(t,e,n)&&r.push(t)}),r}),i._reduce=function(t,o,e){var r=e;return void 0===e&&(r=t&&t[0],t=t&&t.slice(1)),i._each(t,function(t,e,n){r=o(t,r,e,n)}),r},i._slice=function(t,e,n){if("number"!=typeof t)return Array.prototype.slice.call(t,e,n);n=e=t;return function(t){return Array.prototype.slice.call(t,e,n)}},i._join=i._curryr(function(t,e){return Array.prototype.join.call(t,e)}),i._split=i._curryr(function(t,e){return String.prototype.split.call(t,e)}),i._go=function(){var t=arguments,e=i._slice(t,1);return i._pipe(e)(t[0])},i._pipe=function(){var t=Array.isArray(arguments[0])?arguments[0]:arguments;return function(){return i._reduce(t,function(t,e,n,o){return t(e)},arguments[0])}},i._find=i._curryr(function(t,e){if("object"===r(t)&&t)for(var n=Object.keys(t),o=0;o<n.length;o++)if(e(t[n[o]],n[o],t))return t[n[o]]}),i._findIndex=i._curryr(function(t,e){if("object"===r(t)&&t)for(var n=Object.keys(t),o=0;o<n.length;o++)if(e(t[n[o]],n[o],t))return n[o]}),i.removeTag=function(t){return void 0===t?"":t.replace(/(<([^>]+)>)/gi,"")}},45:function(t,e,n){"use strict";n.d(e,"h",function(){return o.a}),n.d(e,"l",function(){return r}),n.d(e,"m",function(){return w}),n.d(e,"n",function(){return j}),n.d(e,"o",function(){return L}),n.d(e,"f",function(){return V}),n.d(e,"c",function(){return Q}),n.d(e,"d",function(){return it}),n.d(e,"e",function(){return ft}),n.d(e,"b",function(){return xt}),n.d(e,"a",function(){return Tt}),n.d(e,"g",function(){return Ut}),n.d(e,"i",function(){return Jt}),n.d(e,"k",function(){return Xt}),n.d(e,"j",function(){return ne});var o=n(100),i=n(0),a=n.n(i),s=n(8);n(278);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function l(i){return function(){var t,e,n,o=f(i);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return;if(Reflect.construct.sham)return;if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(t){return}}()){var r=f(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return e=this,!(n=t)||"object"!==c(n)&&"function"!=typeof n?p(e):n}}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var r=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(r,a.a.Component);var t,e,n,o=l(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=o.call(this,t)).cancelMenu=e.cancelMenu.bind(p(e)),e.state={clicked:!0},e.contextPath=e.props.context?"/"+e.props.context:"",e}return t=r,(e=[{key:"deletePost",value:function(){var e=this;s.a.confirm({message:"Delete this?",onYes:function(){s.a.api.deletePost({key:e.props.postKey,uuid:s.a.user.uuid}).then(function(t){"Fail"===t.status?s.a.alert({message:t.message,style:"warning"}):0<s.a.store.getState().data.posts.length&&s.a.store.dispatch(s.a.action.deletePost(e.props.postKey))})}})}},{key:"removePost",value:function(){var e=this;s.a.confirm({message:"Remove this?",width:"155px",onYes:function(){s.a.api.removePost({key:e.props.postKey,uuid:s.a.user.uuid}).then(function(t){"Fail"===t.status?s.a.alert({message:"Fail<br>"+t.message,style:"danger",width:"200px"}):["PostHistory","List"].includes(s.a.thispage)?(document.getElementById(e.props.postKey).style.transform="scaleY(0)",setTimeout(function(){s.a.store.dispatch(s.a.action.removePost(function(t){return t.key===e.props.postKey}))},500)):(document.getElementsByClassName("post")[0].style.transform="scaleX(0)",setTimeout(function(){if(s.a.store.dispatch(s.a.action.removePost(function(t){return t.key===e.props.postKey})),e.props.postOrigin){var t=location.pathname.split("/");t.splice(2,2,"postHistory",e.props.postOrigin),e.props.history.push(t.join("/"))}else e.props.history.push(e.contextPath+"/list")},500))})}})}},{key:"restorePost",value:function(){var e=this;s.a.confirm({message:"Restore this?",onYes:function(){s.a.api.restorePost({key:e.props.postKey,uuid:s.a.user.uuid}).then(function(t){"Fail"===t.status?s.a.alert(JSON.stringify(t,null,2)):s.a.store.dispatch(s.a.action.restorePost(e.props.postKey)),e.cancelMenu()})}})}},{key:"editPost",value:function(){var e=this;s.a.api.authPost({key:this.props.postKey,uuid:s.a.user.uuid}).then(function(t){"Success"===t.status?e.props.history.push(e.contextPath+"/edit/"+e.props.postKey):s.a.alert({message:t.message,style:"warning",width:"160px"})})}},{key:"postHistory",value:function(){var e=this;s.a.store.dispatch(s.a.action.removePost(function(t){return t.origin===e.props.postKey})),s.a.api.getPostHistory(this.props.postKey).then(function(t){0<t.posts.length?(s.a.store.dispatch(s.a.action.addPosts(t.posts)),e.props.history.push(e.contextPath+"/postHistory/"+e.props.postKey)):(s.a.alert({message:"Have no changes",style:"info"}),e.cancelMenu())})}},{key:"cancelMenu",value:function(){this.setState({clicked:!1})}},{key:"showMenu",value:function(){this.setState({clicked:!0})}},{key:"list",value:function(){this.props.history.push(this.contextPath+"/list/")}},{key:"render",value:function(){var t;return this.props.post&&this.props.post.historyCnt&&(t="("+this.props.post.historyCnt+")"),a.a.createElement("div",{className:"postMenu"},this.state.clicked?a.a.createElement("div",{className:"navi"},0<=s.a.history.location.pathname.indexOf("/post/")&&a.a.createElement("div",{className:"icon-list",onClick:this.list.bind(this)},"List"),!this.props.postOrigin&&a.a.createElement("div",{className:"icon-history",onClick:this.postHistory.bind(this)},"History",t),this.props.postDeleted?a.a.createElement("div",{className:"icon-ccw",onClick:this.restorePost.bind(this)},"Restore"):a.a.createElement(i.Fragment,null,!this.props.postOrigin&&a.a.createElement("div",{className:"icon-pencil",onClick:this.editPost.bind(this)},"Edit"),a.a.createElement("div",{className:"icon-trash-empty",onClick:this.deletePost.bind(this),title:"Delete this, whenever you can restore this"},"Delete")),a.a.createElement("div",{className:"icon-trash",onClick:this.removePost.bind(this),title:"Delete this, you cannot undo"},"Remove")):a.a.createElement("div",{className:"navi",onClick:this.showMenu.bind(this)},"..."))}}])&&u(t.prototype,e),n&&u(t,n),r}();n(280);function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function m(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function y(i){return function(){var t,e,n,o=b(i);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return;if(Reflect.construct.sham)return;if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(t){return}}()){var r=b(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return e=this,!(n=t)||"object"!==d(n)&&"function"!=typeof n?v(e):n}}function v(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function g(t,e){return(g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var w=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g(t,e)}(r,a.a.Component);var t,e,n,o=y(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=o.call(this,t)).likePost=e.likePost.bind(v(e)),e}return t=r,(e=[{key:"likePost",value:function(){this.props.post.liked?s.a.api.cancelLike(this.props.post.key).then(function(t){s.a.store.dispatch(s.a.action.updatePost(t.output))}):s.a.api.likePost(this.props.post.key).then(function(t){s.a.store.dispatch(s.a.action.updatePost(t.output))})}},{key:"render",value:function(){return a.a.createElement("div",{className:"postMeta"},a.a.createElement("i",{className:"icon-eye"},"View: ",this.props.post.viewCnt||0," "),a.a.createElement("i",{className:"icon-comment-empty"},"Comments: ",this.props.post.commentCnt||0),a.a.createElement("i",{className:this.props.post.liked?"icon-thumbs-up-alt liked":" icon-thumbs-up like",onClick:this.likePost},"like: ",this.props.post.likeCnt," "))}}])&&m(t.prototype,e),n&&m(t,n),r}();n(65),n(282);function x(t){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function E(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function S(i){return function(){var t,e,n,o=C(i);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return;if(Reflect.construct.sham)return;if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(t){return}}()){var r=C(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return e=this,!(n=t)||"object"!==x(n)&&"function"!=typeof n?k(e):n}}function k(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C(t){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function O(t,e){return(O=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var j=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&O(t,e)}(r,a.a.Component);var t,e,n,o=S(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=o.call(this,t)).showSearch=e.showSearch.bind(k(e)),e.hideSearch=e.hideSearch.bind(k(e)),e.handleChange=e.handleChange.bind(k(e)),e.handleKeyPress=e.handleKeyPress.bind(k(e)),e.search=e.search.bind(k(e)),e.onTyping=0,e.state={clicked:!1,word:""},e.unsubscribe=tp.store.subscribe(function(){e.state.word!==tp.store.getState().view.search&&e.setState({word:tp.store.getState().view.search})}),e}return t=r,(e=[{key:"shouldComponentUpdate",value:function(t,e){return this.state.word!==e.word||this.state.clicked!==e.clicked}},{key:"hideSearch",value:function(){this.setState({clicked:!1,word:""})}},{key:"showSearch",value:function(){this.setState({clicked:!0})}},{key:"handleChange",value:function(t){var e=this;tp.view.ListLoader.state.loading&&this.fetchController.abort();var n=t.target.value;this.setState({word:t.target.value},function(){e.onTyping&&clearTimeout(e.onTyping),e.onTyping=setTimeout(function(){e.search(n),e.onTyping=0},300)})}},{key:"handleKeyPress",value:function(){}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"componentDidMount",value:function(){console.log("Search componentDidMount")}},{key:"search",value:function(t){var e=this;tp.view.ListLoader.state.loading&&this.fetchController.abort(),this.fetchController=new AbortController;var n=this.fetchController.signal,o=t.trim();tp.store.dispatch(tp.action.setSearch(o)),tp.store.dispatch(tp.action.initPosts()),tp.view.ListLoader.state.loading=!0,this.ipt.style.backgroundColor="#eee",tp.isScrollLast=!1,tp.api.getPosts({idx:0,cnt:10,search:o,context:this.props.context,signal:n}).then(tp.checkStatus).then(function(t){tp.view.ListLoader.setState({loading:!1}),e.ipt.style.backgroundColor="",tp.store.dispatch(tp.action.addPosts(t.posts))}).catch(console.log)}},{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"search"},tp.isDesktop()?a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"icon-search btn1",onClick:this.search}),a.a.createElement("div",{className:"ipt-wrapper"},a.a.createElement("input",{className:"ipt-search",ref:function(t){e.ipt=t},value:this.state.word,onChange:this.handleChange,onKeyPress:this.handleKeyPress}))):a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"icon-search btn2",onClick:this.showSearch}),this.state.clicked&&a.a.createElement(L,{hideSearch:this.hideSearch,context:this.props.context,title:"Search button"})))}}])&&E(t.prototype,e),n&&E(t,n),r}(),_=(n(284),n(12));function P(t){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function T(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function N(i){return function(){var t,e,n,o=R(i);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return;if(Reflect.construct.sham)return;if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(t){return}}()){var r=R(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return e=this,!(n=t)||"object"!==P(n)&&"function"!=typeof n?M(e):n}}function M(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function R(t){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function D(t,e){return(D=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var L=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&D(t,e)}(r,a.a.Component);var t,e,n,o=N(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=o.call(this,t)).hideSearch=e.props.hideSearch,e.search=e.search.bind(M(e)),e.handleChange=e.handleChange.bind(M(e)),e.state={word:"",uuid:s.a.user.uuid},e}return t=r,(e=[{key:"search",value:function(){var t=this.state.word.trim();""!==t?(s.a.store.dispatch(s.a.action.initPosts()),s.a.isScrollLast=!1,s.a.api.getPosts({idx:0,cnt:10,search:t,context:this.props.context}).then(s.a.checkStatus).then(function(t){return s.a.store.dispatch(s.a.action.addPosts(t.posts))}),s.a.store.dispatch(s.a.action.setSearch(t)),this.hideSearch()):s.a.alert({message:"Keyword is empty",style:"warning",width:"180px"})}},{key:"handleChange",value:function(t){this.setState({word:t.target.value})}},{key:"render",value:function(){return a.a.createElement("div",{className:"searchBox"},a.a.createElement("div",{className:"modal_div"}),a.a.createElement("div",{className:"search_div"},a.a.createElement(_.FormGroup,{controlId:"word"},a.a.createElement(_.FormControl,{className:"input",autoFocus:!0,value:this.state.word,onChange:this.handleChange,componentClass:"textarea",placeholder:"word.."})),a.a.createElement("div",{className:"btn_grp"},a.a.createElement(_.Button,{className:"searchBtn",bsStyle:"success",onClick:this.search},"Search"),a.a.createElement(_.Button,{className:"cancelBtn",bsStyle:"success",onClick:this.hideSearch},"Cancel"))))}}])&&T(t.prototype,e),n&&T(t,n),r}(),A=n(26),U=n.n(A);n(362);function B(t){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function H(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function I(i){return function(){var t,e,n,o=F(i);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return;if(Reflect.construct.sham)return;if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(t){return}}()){var r=F(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return e=this,!(n=t)||"object"!==B(n)&&"function"!=typeof n?K(e):n}}function K(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function F(t){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Y(t,e){return(Y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var V=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Y(t,e)}(r,a.a.Component);var t,e,n,o=I(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=o.call(this,t)).handleChange=e.handleChange.bind(K(e)),e.saveComment=e.saveComment.bind(K(e)),e.state={key:"",writer:tp.user.writer,content:"",uuid:tp.user.uuid,postKey:e.props.postKey,commentKey:"",date:"",isLoading:!1},e}return t=r,(e=[{key:"handleChange",value:function(t){var e={};e[t.target.id]=t.target.value,this.setState(e),"content"===t.target.id&&(t.target.style.height=20<t.target.scrollHeight?t.target.scrollHeight+1+"px":"20px")}},{key:"saveComment",value:function(){var t,n=this;if(""!==this.state.content){this.setState({isLoading:!0});var o=(H(t={key:U.a.generate(),writer:this.state.writer.trim(),content:this.state.content.trim(),uuid:this.state.uuid,postKey:this.state.postKey,date:Date.now()},"uuid",tp.user.uuid),H(t,"commentKey",""),t);tp.api.addComment(o).then(function(t){tp.store.dispatch(tp.action.addComment(o));var e=tp.store.getState().data.posts.find(function(t){return t.key===n.state.postKey});e.commentCnt=e.commentCnt?e.commentCnt+1:1,tp.store.dispatch(tp.action.updatePost(e)),n.setState({content:""}),tp.setUser({writer:o.writer}),n.content.style.height="",n.setState({isLoading:!1})})}else tp.alert({message:"Comment is empty",style:"warning",width:"185px"})}},{key:"render",value:function(){var e=this,t=this.state.isLoading;return a.a.createElement("div",{className:"comment-write"},a.a.createElement("div",{className:"writer"},a.a.createElement(_.FormControl,{id:"writer",value:this.state.writer,onChange:this.handleChange,placeholder:"Writer.."})),a.a.createElement("div",{className:"content"},a.a.createElement(_.FormControl,{id:"content",value:this.state.content,inputRef:function(t){e.content=t},onChange:this.handleChange,componentClass:"textarea",placeholder:"Comment.."})),a.a.createElement("div",{className:"confirmBtn"},a.a.createElement(_.Button,{bsStyle:"success",disabled:t,onClick:t?null:this.saveComment},a.a.createElement("i",{className:"icon-floppy"}),"Confirm")))}}])&&z(t.prototype,e),n&&z(t,n),r}();n(364);function J(t){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function G(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function W(i){return function(){var t,e,n,o=$(i);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return;if(Reflect.construct.sham)return;if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(t){return}}()){var r=$(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return e=this,!(n=t)||"object"!==J(n)&&"function"!=typeof n?X(e):n}}function X(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $(t){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function q(t,e){return(q=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Q=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&q(t,e)}(r,a.a.Component);var t,e,n,o=W(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=o.call(this,t)).hideEdit=e.props.hideEdit,e.hideMenu=e.props.hideMenu,e.save=e.save.bind(X(e)),e.handleChange=e.handleChange.bind(X(e)),e.state=e.props.comment,e.state.uuid=s.a.user.uuid,e}return t=r,(e=[{key:"save",value:function(){""!==this.state.content.trim()?(s.a.api.updateComment(this.state).then(s.a.checkStatus).then(function(t){return s.a.store.dispatch(s.a.action.updateComment(t.output))}),this.hideEdit(),this.hideMenu()):s.a.alert("Comment is empty")}},{key:"handleChange",value:function(t){var e={};e[t.target.id]=t.target.value,this.setState(e)}},{key:"render",value:function(){return console.log("Search "),a.a.createElement("div",{className:"CommentEditBox"},a.a.createElement("div",{className:"modal_div"}),a.a.createElement("div",{className:"inner_div"},a.a.createElement(_.FormGroup,{controlId:"writer"},a.a.createElement(_.FormControl,{className:"writer",value:this.state.writer,onChange:this.handleChange,componentClass:"textarea",placeholder:"writer.."})),a.a.createElement(_.FormGroup,{controlId:"content"},a.a.createElement(_.FormControl,{className:"content",autoFocus:!0,value:this.state.content,onChange:this.handleChange,componentClass:"textarea",placeholder:"comment.."})),a.a.createElement("div",{className:"btn_grp"},a.a.createElement(_.Button,{className:"searchBtn",bsStyle:"success",onClick:this.save},"Save"),a.a.createElement(_.Button,{className:"cancelBtn",bsStyle:"success",onClick:this.hideEdit},"Cancel"))))}}])&&G(t.prototype,e),n&&G(t,n),r}();n(366);function Z(t){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function et(i){return function(){var t,e,n,o=ot(i);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return;if(Reflect.construct.sham)return;if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(t){return}}()){var r=ot(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return e=this,!(n=t)||"object"!==Z(n)&&"function"!=typeof n?nt(e):n}}function nt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ot(t){return(ot=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function rt(t,e){return(rt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var it=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rt(t,e)}(r,a.a.Component);var t,e,n,o=et(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=o.call(this,t)).state={comments:s.a.store.getState().data.comments.filter(function(t){return t.postKey===e.props.postKey})},s.a.view.CommentList=nt(e),e.unsubscribe=s.a.store.subscribe(function(){e.setState({comments:s.a.store.getState().data.comments.filter(function(t){return t.postKey===e.props.postKey})})}),0===e.state.comments.length&&0<e.props.commentCnt&&s.a.api.getComments(e.props.postKey).then(s.a.checkStatus).then(function(t){return s.a.store.dispatch(s.a.action.addComments(t.comments))}),e}return t=r,(e=[{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"CommentList"},this.state.comments.map(function(t){return a.a.createElement(xt,{history:e.props.history,key:t.key,comment:t,context:e.props.context})}))}}])&&tt(t.prototype,e),n&&tt(t,n),r}();n(368);function at(t){return(at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function st(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function ct(i){return function(){var t,e,n,o=lt(i);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return;if(Reflect.construct.sham)return;if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(t){return}}()){var r=lt(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return e=this,!(n=t)||"object"!==at(n)&&"function"!=typeof n?ut(e):n}}function ut(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lt(t){return(lt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function pt(t,e){return(pt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ft=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pt(t,e)}(r,a.a.Component);var t,e,n,o=ct(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=o.call(this,t)).showMenu=e.showMenu.bind(ut(e)),e.hideMenu=e.hideMenu.bind(ut(e)),e.showEdit=e.showEdit.bind(ut(e)),e.hideEdit=e.hideEdit.bind(ut(e)),e.editComment=e.editComment.bind(ut(e)),e.deleteComment=e.deleteComment.bind(ut(e)),e.removeComment=e.removeComment.bind(ut(e)),e.restoreComment=e.restoreComment.bind(ut(e)),e.state={clicked:!1,editClicekd:!1},e}return t=r,(e=[{key:"deleteComment",value:function(){var e=this;s.a.confirm({message:"Delete this?",width:"inherit",onYes:function(){s.a.api.deleteComment({key:e.props.comment.key,uuid:s.a.user.uuid}).then(function(t){"Fail"===t.status?s.a.alert({message:t.message,style:"danger",width:"175px"}):s.a.store.dispatch(s.a.action.deleteComment(e.props.comment.key)),e.hideMenu()})},onNo:function(){e.hideMenu()}})}},{key:"removeComment",value:function(){var o=this;s.a.confirm({message:"Remove this?",onYes:function(){s.a.api.removeComment({key:o.props.comment.key,uuid:s.a.user.uuid}).then(function(t){if("Fail"===t.status)s.a.alert({message:t.message,style:"danger"});else{s.a.store.dispatch(s.a.action.removeComment(o.props.comment.key));var e=o.props.comment.postKey,n=s.a.store.getState().data.posts.find(function(t){return t.key===e});n.commentCnt=n.commentCnt?n.commentCnt-1:1,s.a.store.dispatch(s.a.action.updatePost(n))}})},onNo:function(){o.hideMenu()}})}},{key:"restoreComment",value:function(){var e=this;s.a.confirm({message:"Restore this?",onYes:function(){s.a.api.restoreComment({key:e.props.comment.key,uuid:s.a.user.uuid}).then(function(t){"Fail"===t.status?s.a.alert({message:t.message,style:"danger"}):s.a.store.dispatch(s.a.action.restoreComment(e.props.comment.key)),e.hideMenu()})}})}},{key:"editComment",value:function(){var e=this;s.a.api.authComment({key:this.props.comment.key,uuid:s.a.user.uuid}).then(function(t){"Success"===t.status?e.showEdit():s.a.alert({message:t.message,style:"danger"})})}},{key:"hideMenu",value:function(){this.setState({clicked:!1})}},{key:"showMenu",value:function(){this.setState({clicked:!0})}},{key:"hideEdit",value:function(){this.setState({editClicked:!1,writer:"",content:""})}},{key:"showEdit",value:function(){this.setState({editClicked:!0})}},{key:"render",value:function(){return a.a.createElement("div",{className:"commentMenu"},this.state.clicked?a.a.createElement("div",{className:"navi"},this.props.comment.deleted?a.a.createElement("div",{className:"icon-ccw",onClick:this.restoreComment},"Restore"):a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"icon-pencil",onClick:this.editComment},"Edit"),a.a.createElement("div",{className:"icon-trash-empty",onClick:this.deleteComment},"Delete")),a.a.createElement("div",{className:"icon-trash",onClick:this.removeComment},"Remove"),a.a.createElement("div",{className:"icon-cancel",onClick:this.hideMenu},"Cancel")):a.a.createElement("div",{className:"navi",onClick:this.showMenu},"..."),this.state.editClicked&&a.a.createElement(Q,{hideEdit:this.hideEdit,hideMenu:this.hideMenu,comment:this.props.comment}))}}])&&st(t.prototype,e),n&&st(t,n),r}(),ht=n(9),dt=n.n(ht);n(370);function mt(t){return(mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function vt(i){return function(){var t,e,n,o=gt(i);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return;if(Reflect.construct.sham)return;if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(t){return}}()){var r=gt(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return e=this,!(n=t)||"object"!==mt(n)&&"function"!=typeof n?bt(e):n}}function bt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gt(t){return(gt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function wt(t,e){return(wt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var xt=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wt(t,e)}(r,a.a.Component);var t,e,n,o=vt(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=o.call(this,t)).state={key:"",writer:"",content:"",date:"",uuid:"",postKey:""},e.deleteComment=e.deleteComment.bind(bt(e)),e}return t=r,(e=[{key:"deleteComment",value:function(){var e=this;confirm("delete this comment?")&&s.a.api.deleteComment({key:this.state.key,uuid:s.a.user.uuid}).then(function(t){"Fail"===t.status?s.a.alert({message:t.message,style:"danger"}):(s.a.store&&s.a.store.dispatch(s.a.action.deleteComment(e.state.key)),e.props.history.push("/list"))})}},{key:"render",value:function(){this.props.comment&&(this.state=this.props.comment);var t=s.a.$m.txtToHtml(this.state.content);return a.a.createElement("div",{className:"comment"},a.a.createElement("div",null,a.a.createElement("div",{className:"meta"},this.state.writer," -"," ",dt()(this.state.date).format("MM/DD dd HH:mm")),a.a.createElement(ft,{comment:this.state})),a.a.createElement("div",{className:this.state.deleted?"content deleted":"content",dangerouslySetInnerHTML:{__html:t}}))}}])&&yt(t.prototype,e),n&&yt(t,n),r}(),Et=n(13),St=n.n(Et);n(372);function kt(t){return(kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ct(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Ot(i){return function(){var t,e,n,o=_t(i);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return;if(Reflect.construct.sham)return;if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(t){return}}()){var r=_t(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return e=this,!(n=t)||"object"!==kt(n)&&"function"!=typeof n?jt(e):n}}function jt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _t(t){return(_t=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Pt(t,e){return(Pt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Tt=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pt(t,e)}(r,a.a.Component);var t,e,n,o=Ot(r);function r(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(n=o.call(this,t,e)).handleDismiss=n.handleDismiss.bind(jt(n)),n.handleShow=n.handleShow.bind(jt(n)),n.state={show:!1,style:"warning",message:"",width:void 0},tp.view.AlertDismissable=jt(n),n}return t=r,(e=[{key:"handleDismiss",value:function(){this.setState({show:!1,message:""}),"function"==typeof this.onClose&&(this.onClose(),this.onClose=void 0)}},{key:"handleShow",value:function(t){var e=t.message,n=t.style,o=void 0===n?"warning":n,r=t.width,i=t.onClose;this.setState({show:!0,message:e,style:o,width:r}),this.onClose=i}},{key:"componentDidUpdate",value:function(){this.state.show&&Object(Et.findDOMNode)(this.refs.closeBtn).focus()}},{key:"render",value:function(){return this.state.show?a.a.createElement("div",{className:"alertDismissable"},a.a.createElement("div",{className:"modal_div"}),a.a.createElement(_.Alert,{bsStyle:this.state.style,style:{width:this.state.width},onDismiss:this.handleDismiss},a.a.createElement("p",{dangerouslySetInnerHTML:{__html:this.state.message}}),a.a.createElement("p",null,a.a.createElement(_.Button,{bsStyle:this.state.style,ref:"closeBtn",onClick:this.handleDismiss},"Close")))):null}}])&&Ct(t.prototype,e),n&&Ct(t,n),r}();n(374);function Nt(t){return(Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Rt(i){return function(){var t,e,n,o=Lt(i);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return;if(Reflect.construct.sham)return;if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(t){return}}()){var r=Lt(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return e=this,!(n=t)||"object"!==Nt(n)&&"function"!=typeof n?Dt(e):n}}function Dt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lt(t){return(Lt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function At(t,e){return(At=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ut=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&At(t,e)}(r,a.a.Component);var t,e,n,o=Rt(r);function r(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(n=o.call(this,t,e)).handleDismiss=n.handleDismiss.bind(Dt(n)),n.handleShow=n.handleShow.bind(Dt(n)),n.handleYes=n.handleYes.bind(Dt(n)),n.handleNo=n.handleNo.bind(Dt(n)),n.state={show:!1,style:"info",message:"",width:void 0},tp.view.Confirm=Dt(n),n}return t=r,(e=[{key:"handleDismiss",value:function(){this.setState({show:!1,message:""})}},{key:"handleYes",value:function(){this.handleDismiss(),"function"==typeof this.onYes&&(this.onYes(),this.onYes=void 0)}},{key:"handleNo",value:function(){this.handleDismiss(),"function"==typeof this.onNo&&(this.onNo(),this.onNo=void 0)}},{key:"componentDidUpdate",value:function(){this.state.show&&St.a.findDOMNode(this.refs.yesBtn).focus()}},{key:"handleShow",value:function(t){var e=t.message,n=t.style,o=void 0===n?"info":n,r=t.width,i=t.onYes,a=t.onNo;this.setState({show:!0,message:e,style:o,width:r}),this.onYes=i,this.onNo=a}},{key:"render",value:function(){return this.state.show?a.a.createElement("div",{className:"confirm"},a.a.createElement("div",{className:"modal_div"}),a.a.createElement(_.Alert,{bsStyle:this.state.style,style:{width:this.state.width},onDismiss:this.handleDismiss},a.a.createElement("p",{dangerouslySetInnerHTML:{__html:this.state.message}}),a.a.createElement("p",null,a.a.createElement(_.Button,{bsStyle:"info",ref:"yesBtn",onClick:this.handleYes},"YES"),a.a.createElement("span",null," or "),a.a.createElement(_.Button,{bsStyle:"warning",onClick:this.handleNo},"NO")))):null}}])&&Mt(t.prototype,e),n&&Mt(t,n),r}(),Bt=n(248);function Ht(t){return(Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zt(){return(zt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}).apply(this,arguments)}function It(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Kt(i){return function(){var t,e,n,o=Yt(i);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return;if(Reflect.construct.sham)return;if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(t){return}}()){var r=Yt(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return e=this,!(n=t)||"object"!==Ht(n)&&"function"!=typeof n?Ft(e):n}}function Ft(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yt(t){return(Yt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Vt(t,e){return(Vt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Jt=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Vt(t,e)}(r,a.a.Component);var t,e,n,o=Kt(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=o.call(this,t)).state={loading:!1},s.a.view.ListLoader=Ft(e),e}return t=r,(e=[{key:"render",value:function(){var n=this;return this.state.loading&&new Array(5).fill().map(function(t,e){return a.a.createElement("div",{className:"excerpt",key:e},a.a.createElement(Bt.a,zt({height:50,width:400,speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},n.props),a.a.createElement("rect",{x:"300",y:"3",rx:"4",ry:"4",width:"100.5",height:"10"}),a.a.createElement("rect",{x:"2",y:"21",rx:"3",ry:"3",width:"399",height:"7"}),a.a.createElement("rect",{x:"2",y:"31",rx:"3",ry:"3",width:"399",height:"7"}),a.a.createElement("rect",{x:"2",y:"41",rx:"3",ry:"3",width:"100",height:"7"})))})}}])&&It(t.prototype,e),n&&It(t,n),r}(),Gt=n(42),Wt=n.n(Gt),Xt=(n(376),function(){function n(){"block"===Wt()(".my-channels").css("display")?Wt()(".my-channels").hide():Wt()(".my-channels").show()}0===tp.store.getState().data.channels.length&&tp.api.myChannels().then(function(t){tp.store.dispatch(tp.action.myChannels(t.output))});var t=tp.store.getState().data.channels;return a.a.createElement("div",{className:"my-channels"},a.a.createElement("div",{className:"title"},"My channels"),0===t.length?a.a.createElement("div",{className:"loading2"},a.a.createElement("i",{className:"icon-spin3 animate-spin"})," Loading.."):t.map(function(e,t){return a.a.createElement("div",{key:t,className:tp.context===e.name?"item selected":"item",onClick:function(){return t=e.name,tp.context=t,void tp.api.getPosts({idx:0,cnt:10,context:t}).then(tp.checkStatus).then(function(t){return tp.store.dispatch(tp.action.setPosts(t.posts))}).then(function(){tp.isScrollLast=!1}).then(n).then(function(){tp.history.push("/"+t)});var t}},e.name+"("+e.count+")")}))});n(378);function $t(t){return($t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Qt(i){return function(){var t,e,n,o=te(i);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return;if(Reflect.construct.sham)return;if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(t){return}}()){var r=te(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return e=this,!(n=t)||"object"!==$t(n)&&"function"!=typeof n?Zt(e):n}}function Zt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function te(t){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ee(t,e){return(ee=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ne=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ee(t,e)}(r,a.a.Component);var t,e,n,o=Qt(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=o.call(this,t)).confirm=e.confirm.bind(Zt(e)),e.refreshUuid=e.refreshUuid.bind(Zt(e)),e.deleteUuid=e.deleteUuid.bind(Zt(e)),e.cancel=e.cancel.bind(Zt(e)),e.handleChange=e.handleChange.bind(Zt(e)),e.state={uuid:s.a.user.uuid},e}return t=r,(e=[{key:"confirm",value:function(){"success"===this.getValidationState()?(s.a.setUser({uuid:this.state.uuid}),s.a.alert({message:"uuid changed",style:"info",width:"152px"}),s.a.store.dispatch(s.a.action.myChannels([])),s.a.api.myChannels().then(function(t){s.a.store.dispatch(s.a.action.myChannels(t.output))}),s.a.view.List.setState({menuClicked:!1})):s.a.alert({message:"Invalid uuid",style:"warning",width:"152px"})}},{key:"cancel",value:function(){this.setState({uuid:s.a.user.uuid}),s.a.view.List.setState({menuClicked:!1})}},{key:"refreshUuid",value:function(){this.setState({uuid:U.a.generate()})}},{key:"deleteUuid",value:function(){this.setState({uuid:""}),this.uuidinput.focus()}},{key:"getValidationState",value:function(){var t=s.a.$m.removeTag(this.state.uuid).trim().length;return U.a.isValid(this.state.uuid)&&9<=t?"success":5<t?"warning":0<t?"error":null}},{key:"handleChange",value:function(t){if(!(10<t.target.value.length)){var e={};e[t.target.id]=t.target.value,this.setState(e)}}},{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"uuid-setting"},a.a.createElement("div",{className:"modal_div"}),a.a.createElement("div",{className:"inner_div"},a.a.createElement("div",{className:"upper_grp"},a.a.createElement(_.FormGroup,{className:"form",controlId:"uuid",validationState:this.getValidationState()},a.a.createElement(_.FormControl,{type:"text",autoFocus:!0,inputRef:function(t){e.uuidinput=t},value:this.state.uuid,onChange:this.handleChange,placeholder:"uuid.."}),a.a.createElement(_.FormControl.Feedback,null)),a.a.createElement("div",{className:"icon-cancel delete",onClick:this.deleteUuid,title:"Delete uuid"}),a.a.createElement("div",{className:"icon-spin3 refresh",onClick:this.refreshUuid,title:"Generate random uuid"})),a.a.createElement("div",{className:"btn_grp"},a.a.createElement(_.Button,{className:"searchBtn",bsStyle:"success",onClick:this.confirm},"Save"),a.a.createElement(_.Button,{className:"cancelBtn",bsStyle:"success",onClick:this.cancel},"Cancel")),a.a.createElement(Xt,{channels:s.a.store.getState().data.channels})))}}])&&qt(t.prototype,e),n&&qt(t,n),r}()},65:function(t,e){var n={all_shortcuts:{},add:function(p,f,h){var t={type:"keydown",propagate:!1,disable_in_input:!1,target:document,keycode:!1};if(h)for(var e in t)void 0===h[e]&&(h[e]=t[e]);else h=t;var n=h.target;"string"==typeof h.target&&(n=document.getElementById(h.target));p=p.toLowerCase();function o(t){var e,n,o;if(t=t||window.event,!h.disable_in_input||(t.target?o=t.target:t.srcElement&&(o=t.srcElement),3==o.nodeType&&(o=o.parentNode),"INPUT"!=o.tagName&&"TEXTAREA"!=o.tagName)){t.keyCode?e=t.keyCode:t.which&&(e=t.which);var r=String.fromCharCode(e).toLowerCase();188==e&&(r=","),190==e&&(r=".");var i=p.split("+"),a=0,s={"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":":","'":'"',",":"<",".":">","/":"?","\\":"|"},c={esc:27,escape:27,tab:9,space:32,return:13,enter:13,backspace:8,scrolllock:145,scroll_lock:145,scroll:145,capslock:20,caps_lock:20,caps:20,numlock:144,num_lock:144,num:144,pause:19,break:19,insert:45,home:36,delete:46,end:35,pageup:33,page_up:33,pu:33,pagedown:34,page_down:34,pd:34,left:37,up:38,right:39,down:40,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},u={shift:{wanted:!1,pressed:!1},ctrl:{wanted:!1,pressed:!1},alt:{wanted:!1,pressed:!1},meta:{wanted:!1,pressed:!1}};t.ctrlKey&&(u.ctrl.pressed=!0),t.shiftKey&&(u.shift.pressed=!0),t.altKey&&(u.alt.pressed=!0),t.metaKey&&(u.meta.pressed=!0);for(var l=0;n=i[l],l<i.length;l++)"ctrl"==n||"control"==n?(a++,u.ctrl.wanted=!0):"shift"==n?(a++,u.shift.wanted=!0):"alt"==n?(a++,u.alt.wanted=!0):"meta"==n?(a++,u.meta.wanted=!0):1<n.length?c[n]==e&&a++:h.keycode?h.keycode==e&&a++:(r==n||s[r]&&t.shiftKey&&(r=s[r])==n)&&a++;return a!=i.length||u.ctrl.pressed!=u.ctrl.wanted||u.shift.pressed!=u.shift.wanted||u.alt.pressed!=u.alt.wanted||u.meta.pressed!=u.meta.wanted||(f(t),h.propagate)?void 0:(t.cancelBubble=!0,t.returnValue=!1,t.stopPropagation&&(t.stopPropagation(),t.preventDefault()),!1)}}this.all_shortcuts[p]={callback:o,target:n,event:h.type},n.addEventListener?n.addEventListener(h.type,o,!1):n.attachEvent?n.attachEvent("on"+h.type,o):n["on"+h.type]=o},remove:function(t){t=t.toLowerCase();var e=this.all_shortcuts[t];if(delete this.all_shortcuts[t],e){var n=e.event,o=e.target,r=e.callback;o.detachEvent?o.detachEvent("on"+n,r):o.removeEventListener?o.removeEventListener(n,r,!1):o["on"+n]=!1}}};t.exports=n},68:function(t,e,n){"use strict";var o=n(26),r=n.n(o),i={},a=(e.a=i).type={ADDPOST:"ADDPOST",ADDPOSTS:"ADDPOSTS",INITPOSTS:"INITPOSTS",SETPOSTS:"SETPOSTS",DELETEPOST:"DELETEPOST",UPDATEPOST:"UPDATEPOST",REMOVEPOST:"REMOVEPOST",RESTOREPOST:"RESTOREPOST",VIEWPOST:"VIEWPOST",ADDCOMMENT:"ADDCOMMENT",ADDCOMMENTS:"ADDCOMMENTS",DELETECOMMENT:"DELETECOMMENT",UPDATECOMMENT:"UPDATECOMMENT",REMOVECOMMENT:"REMOVECOMMENT",RESTORECOMMENT:"RESTORECOMMENT",SETSEARCH:"SETSEARCH",SETUUID:"SETUUID",SCROLLEND:"SCROLLEND",MYCHANNELS:"MYCHANNELS"};i.addPost=function(t){return t.key=t.key||r.a.generate(),{type:a.ADDPOST,post:t}},i.initPosts=function(){return{type:a.INITPOSTS}},i.setPosts=function(t){return{type:a.SETPOSTS,posts:t}},i.scrollEnd=function(t){return{type:a.SCROLLEND,posts:t}},i.addPosts=function(t){return{type:a.ADDPOSTS,posts:t}},i.deletePost=function(t){return{type:a.DELETEPOST,key:t}},i.removePost=function(t){return{type:a.REMOVEPOST,predi:t}},i.viewPost=function(t){return{type:a.VIEWPOST,key:t}},i.restorePost=function(t){return{type:a.RESTOREPOST,key:t}},i.updatePost=function(t){return{type:a.UPDATEPOST,post:t}},i.updateComment=function(t){return{type:a.UPDATECOMMENT,comment:t}},i.deleteComment=function(t){return{type:a.DELETECOMMENT,key:t}},i.removeComment=function(t){return{type:a.REMOVECOMMENT,key:t}},i.addComment=function(t){return{type:a.ADDCOMMENT,comment:t}},i.addComments=function(t){return{type:a.ADDCOMMENTS,comments:t}},i.restoreComment=function(t){return{type:a.RESTORECOMMENT,key:t}},i.setSearch=function(t){return{type:a.SETSEARCH,search:t}},i.setUuid=function(t){return{type:a.SETUUID,uuid:t}},i.myChannels=function(t){return{type:a.MYCHANNELS,channels:t}}},8:function(t,e,n){"use strict";n.d(e,"a",function(){return w});var o=n(68),r=n(56),i=n.n(r);function p(n){return i.a.done(),n.ok?n.json():new Promise(function(t,e){e(new Error(n.statusText))})}function f(t,e){return e.hideProgress||i.a.start(),delete e.hideProgress,fetch(t,Object.assign({},{credentials:"omit"},e))}var a={addPost:function(t){return f("/api/posts/add",{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(t,null,2)}).then(p)},addComment:function(t){return f("/api/comments/add",{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(t,null,2)}).then(p)},getPosts:function(t){var e=t.idx,n=void 0===e?0:e,o=t.cnt,r=void 0===o?10:o,i=t.context,a=void 0===i?"public":i,s=t.signal,c=t.search,u=void 0===c?"":c,l=t.hideProgress;return f("/api/posts/get/"+a+"/"+n+"/"+r,{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify({uuid:tp.user.uuid,search:u}),signal:s,hideProgress:l}).then(p)},getComments:function(t){return f("/api/comments/get/"+t,{method:"GET"}).then(p)},getPost:function(t){return f("/api/posts/get/"+t,{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify({uuid:tp.user.uuid})}).then(p)},deletePost:function(t){return f("/api/posts/delete/"+t.key+"/"+t.uuid,{method:"GET"}).then(p)},removePost:function(t){return f("/api/posts/remove/"+t.key+"/"+t.uuid,{method:"GET"}).then(p)},restorePost:function(t){return f("/api/posts/restore/"+t.key+"/"+t.uuid,{method:"GET"}).then(p)},restoreComment:function(t){return f("/api/comments/restore/"+t.key+"/"+t.uuid,{method:"GET"}).then(p)},viewPost:function(t){return f("/api/posts/view/"+t,{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify({uuid:tp.user.uuid})}).then(p)},deleteComment:function(t){return f("/api/comments/delete/"+t.key+"/"+t.uuid,{method:"GET"}).then(p)},removeComment:function(t){return f("/api/comments/remove/"+t.key+"/"+t.uuid,{method:"GET"}).then(p)},authPost:function(t){return f("/api/posts/auth/"+t.key+"/"+t.uuid,{method:"GET"}).then(p)},authComment:function(t){return f("/api/comments/auth/"+t.key+"/"+t.uuid,{method:"GET"}).then(p)},updatePost:function(t){return f("/api/posts/edit/"+tp.user.uuid,{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(t,null,2)}).then(p)},updateComment:function(t){return f("/api/comments/edit/"+tp.user.uuid,{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(t,null,2)}).then(p)},getPostHistory:function(t){return f("/api/posts/history/"+t,{method:"GET"}).then(p)},likePost:function(t){return f("/api/posts/likePost/"+t,{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify({uuid:tp.user.uuid})}).then(p)},cancelLike:function(t,e){return f("/api/posts/cancelLike/"+t,{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify({uuid:tp.user.uuid})}).then(p)}};a.cancelLike=function(t,e){return f("/api/posts/cancelLike/"+t,{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify({uuid:tp.user.uuid})}).then(p)},a.myChannels=function(){return f("/api/posts/myChannels/",{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify({uuid:tp.user.uuid})}).then(p).then(function(t){return 0===t.output.length&&(t.output=[{name:"public",count:0}]),t})};var s=n(26),c=n.n(s),u=n(42),l=n.n(u),h=n(0),d=n.n(h);function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function v(i){return function(){var t,e,n,o=b(i);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return;if(Reflect.construct.sham)return;if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(t){return}}()){var r=b(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return e=this,!(n=t)||"object"!==m(n)&&"function"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):n}}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function g(t,e){return(g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var w={view:{},asyncCache:{},action:o.a,store:void 0,user:void 0,api:a,nprogress:i.a,isScrollLast:!1,temp:void 0,$m:l.a,hljs:void 0,scrollTop:0,MAXCONTEXTLEN:16,MAXUUIDLEN:10,MAXTITLELEN:20,checkStatus:function(n){return"Success"===n.status?n:(w.alert({message:n.message,style:"danger",width:"200px"}),new Promise(function(t,e){e(new Error(n.message))}))},setCookie:function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1e3,o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3);var r="expires="+o.toUTCString();document.cookie=t+"="+e+";"+r+";path=/"},getCookie:function(t){for(var e=t+"=",n=decodeURIComponent(document.cookie).split(";"),o=0;o<n.length;o++){for(var r=n[o];" "==r.charAt(0);)r=r.substring(1);if(0==r.indexOf(e))return r.substring(e.length,r.length)}return""},isDesktop:function(){return["win16","win32","win64","mac","macintel"].includes(navigator.platform.toLowerCase())},isMobileChrome:function(){return!w.isDesktop()&&navigator.userAgent.includes("Chrome")},highlight:function(t,e){if(e){var n=new RegExp("("+e+")","gi");t=t.replace(n,'<span style="background-color:yellow;">$1</span>')}return t},setUser:function(t){var e,n={uuid:c.a.generate(),writer:""};return e="string"==typeof t?Object.assign(w.user,{uuid:t}):t?Object.assign(w.user,t):n,w.setCookie("user",JSON.stringify(e)),w.store&&w.store.dispatch(w.action.setUuid(w.user.uuid)),e},getUser:function(){try{return w.getCookie("user")?JSON.parse(w.getCookie("user")):w.setUser()}catch(t){return w.setUser()}}};w.asyncComponent=function(i,a){return function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g(t,e)}(r,d.a.Component);var t,e,n,o=v(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=o.call(this,t)).state={Component:w.asyncCache[a]},e}return t=r,(e=[{key:"componentWillMount",value:function(){var e=this;this.state.Component||i().then(function(t){w.asyncCache[a]=t.default,e.setState({Component:t.default})})}},{key:"render",value:function(){var t=this.state.Component;return t?d.a.createElement(t,this.props):d.a.createElement("div",null,d.a.createElement("i",{className:"icon-spin3 animate-spin"})," Loading.. [",a,"]")}}])&&y(t.prototype,e),n&&y(t,n),r}()},w.alert=function(t){var e=t.message,n=t.style,o=t.width,r=t.onClose;"string"==typeof t?w.view.AlertDismissable.handleShow({message:t}):w.view.AlertDismissable.handleShow({message:e,style:n,width:o,onClose:r})},w.confirm=function(t){var e=t.message,n=t.style,o=t.width,r=t.onYes,i=t.onNo;w.view.Confirm.handleShow({message:e,style:n,width:o,onYes:r,onNo:i})},w.init=function(){w.user=w.getUser()},w.init(),window.tp=w}});
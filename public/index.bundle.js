!function(e){function t(t){for(var o,s,a=t[0],u=t[1],c=t[2],p=0,d=[];p<a.length;p++)s=a[p],r[s]&&d.push(r[s][0]),r[s]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(e[o]=u[o]);for(l&&l(t);d.length;)d.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],o=!0,a=1;a<n.length;a++){var u=n[a];0!==r[u]&&(o=!1)}o&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var o={},r={1:0},i=[];function s(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var o=new Promise(function(t,o){n=r[e]=[t,o]});t.push(n[2]=o);var i,a=document.getElementsByTagName("head")[0],u=document.createElement("script");u.charset="utf-8",u.timeout=120,s.nc&&u.setAttribute("nonce",s.nc),u.src=function(e){return s.p+""+({3:"List",4:"Post",5:"Write",6:"PostHistory",8:"vendors~highlightjs",9:"vendors~Post"}[e]||e)+".chunk.js"}(e),i=function(t){u.onerror=u.onload=null,clearTimeout(c);var n=r[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src,s=new Error("Loading chunk "+e+" failed.\n("+o+": "+i+")");s.type=o,s.request=i,n[1](s)}r[e]=void 0}};var c=setTimeout(function(){i({type:"timeout",target:u})},12e4);u.onerror=u.onload=i,a.appendChild(u)}return Promise.all(t)},s.m=e,s.c=o,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(n,o,function(t){return e[t]}.bind(null,o));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var a=window.webpackJsonp=window.webpackJsonp||[],u=a.push.bind(a);a.push=t,a=a.slice();for(var c=0;c<a.length;c++)t(a[c]);var l=u;i.push([242,0,7]),n()}({216:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){return e&&e.__esModule?e:{default:e}}(n(51));var r={};t.default=r;var i=r.type={ADDPOST:"ADDPOST",ADDPOSTS:"ADDPOSTS",INITPOSTS:"INITPOSTS",SETPOSTS:"SETPOSTS",DELETEPOST:"DELETEPOST",UPDATEPOST:"UPDATEPOST",REMOVEPOST:"REMOVEPOST",RESTOREPOST:"RESTOREPOST",VIEWPOST:"VIEWPOST",ADDCOMMENT:"ADDCOMMENT",ADDCOMMENTS:"ADDCOMMENTS",DELETECOMMENT:"DELETECOMMENT",UPDATECOMMENT:"UPDATECOMMENT",REMOVECOMMENT:"REMOVECOMMENT",RESTORECOMMENT:"RESTORECOMMENT",SETSEARCH:"SETSEARCH",SETUUID:"SETUUID",SCROLLEND:"SCROLLEND"};r.addPost=function(e){return e.key=e.key||o.default.generate(),{type:i.ADDPOST,post:e}},r.initPosts=function(){return{type:i.INITPOSTS}},r.setPosts=function(e){return{type:i.SETPOSTS,posts:e}},r.scrollEnd=function(e){return{type:i.SCROLLEND,posts:e}},r.addPosts=function(e){return{type:i.ADDPOSTS,posts:e}},r.deletePost=function(e){return{type:i.DELETEPOST,key:e}},r.removePost=function(e){return{type:i.REMOVEPOST,predi:e}},r.viewPost=function(e){return{type:i.VIEWPOST,key:e}},r.restorePost=function(e){return{type:i.RESTOREPOST,key:e}},r.updatePost=function(e){return{type:i.UPDATEPOST,post:e}},r.updateComment=function(e){return{type:i.UPDATECOMMENT,comment:e}},r.deleteComment=function(e){return{type:i.DELETECOMMENT,key:e}},r.removeComment=function(e){return{type:i.REMOVECOMMENT,key:e}},r.addComment=function(e){return{type:i.ADDCOMMENT,comment:e}},r.addComments=function(e){return{type:i.ADDCOMMENTS,comments:e}},r.restoreComment=function(e){return{type:i.RESTORECOMMENT,key:e}},r.setSearch=function(e){return{type:i.SETSEARCH,search:e}},r.setUuid=function(e){return{type:i.SETUUID,uuid:e}}},22:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tp=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=l(n(216)),i=n(278),s=l(n(51)),a=l(n(240)),u=l(n(89)),c=l(n(1));function l(e){return e&&e.__esModule?e:{default:e}}console.log("tp.js start");var p=t.tp={view:{},asyncCache:{},action:r.default,store:void 0,user:void 0,api:i.api,nprogress:u.default,isScrollLast:!1,temp:void 0,$m:a.default,hljs:void 0,scrollTop:0,MAXCONTEXTLEN:16,MAXUUIDLEN:10,MAXTITLELEN:20};p.checkStatus=function(e){return"Success"===e.status?e:(p.alert({message:e.message,style:"danger",width:"200px"}),new Promise(function(t,n){n(new Error(e.message))}))},p.setCookie=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3);var r="expires="+o.toUTCString();document.cookie=e+"="+t+";"+r+";path=/"},p.getCookie=function(e){for(var t=e+"=",n=decodeURIComponent(document.cookie).split(";"),o=0;o<n.length;o++){for(var r=n[o];" "==r.charAt(0);)r=r.substring(1);if(0==r.indexOf(t))return r.substring(t.length,r.length)}return""},p.isDesktop=function(){return["win16","win32","win64","mac","macintel"].includes(navigator.platform.toLowerCase())},p.isMobileChrome=function(){return!p.isDesktop()&&navigator.userAgent.includes("Chrome")},p.highlight=function(e,t){if(t){var n=new RegExp("("+t+")","gi");e=e.replace(n,'<span style="background-color:yellow;">$1</span>')}return e},p.setUser=function(e){var t={uuid:s.default.generate(),writer:""},n=void 0;return n="string"==typeof e?Object.assign(p.user,{uuid:e}):e?Object.assign(p.user,e):t,p.setCookie("user",JSON.stringify(n)),p.store&&p.store.dispatch(p.action.setUuid(p.user.uuid)),n},p.getUser=function(){try{return p.getCookie("user")?JSON.parse(p.getCookie("user")):p.setUser()}catch(e){return console.log(e.message),p.setUser()}},p.asyncComponent=function(e,t){return function(n){function r(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));return n.state={Component:p.asyncCache[t]},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,c.default.Component),o(r,[{key:"componentWillMount",value:function(){var n=this;this.state.Component?console.log("## tp.asyncCache["+t+"] used"):e().then(function(e){p.asyncCache[t]=e.default,n.setState({Component:e.default})})}},{key:"render",value:function(){var e=this.state.Component;return e?c.default.createElement(e,this.props):c.default.createElement("div",null,c.default.createElement("i",{className:"icon-spin3 animate-spin"})," Loading.. [",t,"]")}}]),r}()},p.alert=function(e){var t=e.message,n=e.style,o=e.width,r=e.onClose;"string"==typeof arguments[0]?p.view.AlertDismissable.handleShow({message:arguments[0]}):p.view.AlertDismissable.handleShow({message:t,style:n,width:o,onClose:r})},p.confirm=function(e){var t=e.message,n=e.style,o=e.width,r=e.onYes,i=e.onNo;p.view.Confirm.handleShow({message:t,style:n,width:o,onYes:r,onNo:i})},p.init=function(){p.user=p.getUser()},p.init(),window.tp=p},239:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=u(n(1)),i=n(35),s=u(n(8)),a=n(50);function u(e){return e&&e.__esModule?e:{default:e}}n(268);n(62);var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={postMetaClicked:!1},n.contextPath=n.props.context?"/"+n.props.context:"",s.default.locale("en"),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),o(t,[{key:"shouldComponentUpdate",value:function(e,t){return!0}},{key:"postMetaClick",value:function(){this.setState({postMetaClicked:!0})}},{key:"render",value:function(){var e=this.props.post.deleted?"deleted":"",t=this.props.post.isPrivate?"private":"",n="title h4 "+e+" "+t,o="content "+e+" "+t,u=tp.store.getState().view.search,c=tp.highlight(this.props.post.title,u);c=(this.props.post.isPrivate?'<i class="icon-lock"></i>':"")+c;var l=tp.highlight(this.props.post.content,u);return r.default.createElement("div",{id:this.props.post.key,className:"excerpt"},r.default.createElement("div",{className:"title1"},r.default.createElement(a.Link,{to:this.contextPath+"/post/"+this.props.post.key},r.default.createElement("div",{className:n,dangerouslySetInnerHTML:{__html:c}}))),r.default.createElement("div",{className:"meta",onClick:this.editPost},this.props.post.writer," - ",/postHistory/.test(location.pathname)&&"edited"," ",(0,s.default)(this.props.post.date).fromNow()),r.default.createElement("div",{className:o,dangerouslySetInnerHTML:{__html:l}}),r.default.createElement("div",{className:"meta-wrapper"},this.state.postMetaClicked?r.default.createElement(i.PostMeta,{post:this.props.post}):r.default.createElement("div",{className:"postMetaBtn",onClick:this.postMetaClick.bind(this)},"..."),r.default.createElement(i.PostMenu,{history:this.props.history,context:this.props.context,postKey:this.props.post.key,postOrigin:this.props.post.origin,postDeleted:this.props.post.deleted})))}}]),t}();t.default=c},240:function(e,t,n){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function r(e){return new r.fn.init(e)}e.exports=r,r.fn={init:function(e){"string"==typeof e?(this.sel=e,this.doms=document.querySelectorAll(e),this.length=this.doms.length):e instanceof r.fn.init?(this.sel=e.sel,this.doms=e.doms,this.length=e.length):e instanceof Node?(this.doms=[e],this.length=1):e[0]instanceof Node&&(this.doms=e,this.length=e.length),1===this.length&&(this.dom=this.doms[0])},html:function(e){if(0!=this.length)return void 0===e?this.doms[0].innerHTML:(r._each(this.doms,function(t){t.innerHTML=e}),this)},text:function(e){if(0!=this.length)return void 0===e?this.doms[0].textContent:(r._each(this.doms,function(t){t.textContent=e}),this)},css:function(e,t){if(0!=this.length){if(void 0===t)return this.doms[0].style[e];if("number"==typeof t){["left","top","right","bottom","width","height"].indexOf(e)>=0&&(t+="px")}return r._each(this.doms,function(n){n.style[e]=t}),this}},position:function(){if(0!=this.length){var e=this.doms[0].style.top;e=Number(e.substring(0,e.length-2));var t=this.doms[0].style.left;return{top:e,left:t=Number(t.substring(0,t.length-2))}}},parent:function(e,t){if(0!==this.length){if(void 0===t)t=this.doms[0];else if("BODY"===t.tagName)return;if(void 0===e)return t.parentNode;if("#"===e[0]);else if("."!==e[0])return t.parentNode.tagName===e.toUpperCase()?t.parentNode:this.parent(e,t.parentNode)}},animate:function(){},bind:function(){},attr:function(e,t){if(0!=this.length)return void 0===t?this.doms[0].getAttribute(e):(r._each(this.doms,function(n){n.setAttribute(e,t)}),this)},removeAttr:function(e){if(0!=this.length)return r._each(this.doms,function(t){t.removeAttribute(e)}),this},addClass:function(e){return r._each(this.doms,function(t){var n=t.getAttribute("class");n=null===n?e:n+" "+e,t.setAttribute("class",n)}),this},removeClass:function(e){return r._each(this.doms,function(t){var n=t.getAttribute("class");if(null===n)return this;var o=n.split(" "),r=o.indexOf(e);r<0||(o.splice(r,1),t.setAttribute("class",o.join(" ")))}),this},each:function(e){return r._each(this.doms,function(t,n,o){e.call(t,t,n,o)}),this},remove:function(){r._each(this.doms,function(e){e.parentNode.removeChild(e)})},append:function(e){return r._each(this.doms,function(t){1!==t.nodeType&&11!==t.nodeType&&9!==t.nodeType||t.appendChild(r.clone(e))}),this},prepend:function(e){return r._each(this.doms,function(t){1!==t.nodeType&&11!==t.nodeType&&9!==t.nodeType||t.insertBefore(r.clone(e),t.firstChild)}),this},show:function(){return r._each(this.doms,function(e){e.style.display="block"}),this},hide:function(){return r._each(this.doms,function(e){e.style.display="none"}),this},val:function(e){if(0!=this.length)return void 0===e?this.doms[0].value:(r._each(this.doms,function(t){t.value=e}),this)},focus:function(){0!=this.length&&this.doms[0].focus()}},r.fn.init.prototype=r.fn,r.clone=function(e){var t;if("string"==typeof e){var n=document.createElement("div");n.innerHTML=e,t=n.firstChild}else t=e.cloneNode(!0);return t},r.scrollTo=function(e,t){return window.scrollTo(e,t)},r.txtToHtml=function(e,t){if(t)var n=new RegExp("("+t+")","gi");return e.split("\n").map(function(e){return e.split(" ").map(function(e){var o=e;return t&&(o=o.replace(n,'<span style="background-color:yellow;">$1</span>')),0==e.indexOf("http://")||0==e.indexOf("https://")?'<a href="'+e+'" target="_blank">'+o+"</a>":o}).join(" ").replace(/  /gi,"&nbsp;&nbsp")}).join("<br/>")},r.html=function(e,t){return r(e).html(t)},r.css=function(e,t,n){return r(e).css(t,n)},r.val=function(e,t){return r(e).val(t)},r.show=function(e){return r(e).show()},r.hide=function(e){return r(e).hide()},r._curry=function(e){return function(t,n){return 2===arguments.length?e(t,n):function(n){return e(t,n)}}},r._curryr=function(e){return function(t,n){return 2===arguments.length?e(t,n):function(n){return e(n,t)}}},r._each=r._curryr(function(e,t){if("object"!==(void 0===e?"undefined":o(e))||!e)return[];for(var n=Object.keys(e),r=0;r<n.length;r++)t(e[n[r]],n[r],e);return e}),r._map=r._curryr(function(e,t){var n=[];return r._each(e,function(e,o,r){n.push(t(e,o,r))}),n}),r._filter=r._curryr(function(e,t){var n=[];return r._each(e,function(e,o,r){t(e,o,r)&&n.push(e)}),n}),r._reduce=function(e,t,n){var o=n;return void 0===n&&(o=e&&e[0],e=e&&e.slice(1)),r._each(e,function(e,n,r){o=t(e,o,n,r)}),o},r._slice=function(e,t,n){if("number"==typeof arguments[0]){t=arguments[0],n=arguments[1];return function(e){return Array.prototype.slice.call(e,t,n)}}return Array.prototype.slice.call(e,t,n)},r._join=r._curryr(function(e,t){return Array.prototype.join.call(e,t)}),r._split=r._curryr(function(e,t){return String.prototype.split.call(e,t)}),r._go=function(){var e=arguments,t=r._slice(e,1);return r._pipe(t)(e[0])},r._pipe=function(){var e=Array.isArray(arguments[0])?arguments[0]:arguments;return function(){return r._reduce(e,function(e,t,n,o){return e(t)},arguments[0])}},r._find=r._curryr(function(e,t){if("object"===(void 0===e?"undefined":o(e))&&e)for(var n=Object.keys(e),r=0;r<n.length;r++)if(t(e[n[r]],n[r],e))return e[n[r]]}),r._findIndex=r._curryr(function(e,t){if("object"===(void 0===e?"undefined":o(e))&&e)for(var n=Object.keys(e),r=0;r<n.length;r++)if(t(e[n[r]],n[r],e))return n[r]}),r.removeTag=function(e){return void 0===e?"":e.replace(/(<([^>]+)>)/gi,"")}},242:function(e,t,n){"use strict";var o=a(n(1)),r=a(n(11)),i=n(251);n(256),n(259);var s=a(n(261));function a(e){return e&&e.__esModule?e:{default:e}}r.default.render(o.default.createElement(i.AppContainer,null,o.default.createElement(s.default,null)),document.getElementById("root"))},259:function(e,t,n){var o=n(260);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(15)(o,r);o.locals&&(e.exports=o.locals)},260:function(e,t,n){(e.exports=n(14)(!1)).push([e.i,'@charset "UTF-8";\n#root {\n  max-width: 800px;\n  margin: auto; }\n\n/* 공통 css 스타일 설정 */\nimg {\n  max-width: 100%; }\n\ntextarea {\n  resize: vertical; }\n\n/*\r\n* 18.10.16\r\n* min9nim\r\n* 글 내용에 <input type="checkbox" > 를 넣어도 안보이는 문제로 아래 스타일 주석처리 함(안드로이드)\r\n*/\n/* 입력 컨트롤 테두리의 top쪽 그림자 제거(iOS) */\n/*\r\ninput, textarea {\r\n    -webkit-appearance: none;\r\n}\r\n*/\n/* bootstrap.css 커스터마이징 */\n.form-control {\n  box-shadow: initial; }\n\n.btn {\n  padding: 5px 6px; }\n  .btn:active {\n    transform: rotate(10deg);\n    -webkit-transform: rotate(10deg); }\n\ndiv[class^="icon-"] {\n  transition: all 0.1s ease-in-out; }\n  div[class^="icon-"]:hover {\n    transform: scale(1.2);\n    -webkit-transform: scale(1.2); }\n  div[class^="icon-"]:active {\n    transform: rotate(10deg);\n    -webkit-transform: rotate(10deg); }\n\n/* nprogress.css 커스터마이징 */\n#nprogress {\n  /*\r\n    .bar {\r\n        display: none;\r\n        position: absolute;\r\n        top: 30px;\r\n        background: #708c0c;\r\n    }\r\n    */ }\n  #nprogress .spinner {\n    top: 50%;\n    right: 50%; }\n',""])},261:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(1)),r=n(50),i=s(n(265));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(){return o.default.createElement(r.BrowserRouter,null,o.default.createElement(r.Route,{path:"/",component:i.default}))}},265:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=p(n(1)),i=n(35),s=n(50),a=p(n(90)),u=n(22),c=n(395),l=n(398);function p(e){return e&&e.__esModule?e:{default:e}}n(62);var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),console.log("App 생성자 호출!!");var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o=location.pathname.split("/")[1],r=["","list","post","edit","postHistory","write"].includes(o)?"":"/"+o;return a.default.add("Alt+W",function(){return n.props.history.push(r+"/write")}),a.default.add("Alt+L",function(){return n.props.history.push(r+"/list")}),u.tp.view.App=n,u.tp.store=(0,c.createStore)(l.reducer,{view:{search:"",uuid:u.tp.user.uuid},data:{posts:[],comments:[]}}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),o(t,[{key:"shouldComponentUpdate",value:function(e,t){return e.location.pathname!==this.props.location.pathname}},{key:"render",value:function(){console.log("App 렌더링..");var e=function(e){var t=e.history,o=e.match;u.tp.thispage="List";var i=u.tp.asyncComponent(function(){return n.e(3).then(n.t.bind(null,400,7))},"/pages/List");return r.default.createElement(i,{history:t,context:o.params.context})},t=function(e){var t=e.history,o=e.match;u.tp.thispage="Post";var i=u.tp.asyncComponent(function(){return Promise.all([n.e(9),n.e(4)]).then(n.t.bind(null,401,7))},"/pages/Post");return r.default.createElement(i,{history:t,postKey:o.params.key,context:o.params.context})},o=function(e){var t=e.history,o=e.match;u.tp.thispage="Edit";var i=u.tp.asyncComponent(function(){return n.e(5).then(n.t.bind(null,241,7))},"/pages/Write");return r.default.createElement(i,{type:"edit",history:t,postKey:o.params.key,context:o.params.context})},a=function(e){var t=e.history,o=e.match;u.tp.thispage="Write";var i=u.tp.asyncComponent(function(){return n.e(5).then(n.t.bind(null,241,7))},"/pages/Write");return r.default.createElement(i,{history:t,context:o.params.context})},c=function(e){var t=e.history,o=e.match;u.tp.thispage="PostHistory";var i=u.tp.asyncComponent(function(){return n.e(6).then(n.t.bind(null,402,7))},"/pages/PostHistory");return r.default.createElement(i,{history:t,postKey:o.params.key,context:o.params.context})};return r.default.createElement("div",null,r.default.createElement(s.Switch,null,r.default.createElement(s.Route,{path:"/post/:key",render:t}),r.default.createElement(s.Route,{path:"/postHistory/:key",render:c}),r.default.createElement(s.Route,{path:"/edit/:key",render:o}),r.default.createElement(s.Route,{path:"/write",render:a}),r.default.createElement(s.Route,{path:"/list",render:e}),r.default.createElement(s.Route,{path:"/:context/post/:key",render:t}),r.default.createElement(s.Route,{path:"/:context/postHistory/:key",render:c}),r.default.createElement(s.Route,{path:"/:context/edit/:key",render:o}),r.default.createElement(s.Route,{path:"/:context/write",render:a}),r.default.createElement(s.Route,{path:"/:context/list",render:e}),r.default.createElement(s.Route,{path:"/:context",render:e}),r.default.createElement(s.Route,{path:"/",render:a})),r.default.createElement(i.AlertDismissable,null),r.default.createElement(i.Confirm,null))}}]),t}();t.default=d},267:function(e,t,n){var o={"./af":93,"./af.js":93,"./ar":94,"./ar-dz":95,"./ar-dz.js":95,"./ar-kw":96,"./ar-kw.js":96,"./ar-ly":97,"./ar-ly.js":97,"./ar-ma":98,"./ar-ma.js":98,"./ar-sa":99,"./ar-sa.js":99,"./ar-tn":100,"./ar-tn.js":100,"./ar.js":94,"./az":101,"./az.js":101,"./be":102,"./be.js":102,"./bg":103,"./bg.js":103,"./bm":104,"./bm.js":104,"./bn":105,"./bn.js":105,"./bo":106,"./bo.js":106,"./br":107,"./br.js":107,"./bs":108,"./bs.js":108,"./ca":109,"./ca.js":109,"./cs":110,"./cs.js":110,"./cv":111,"./cv.js":111,"./cy":112,"./cy.js":112,"./da":113,"./da.js":113,"./de":114,"./de-at":115,"./de-at.js":115,"./de-ch":116,"./de-ch.js":116,"./de.js":114,"./dv":117,"./dv.js":117,"./el":118,"./el.js":118,"./en-au":119,"./en-au.js":119,"./en-ca":120,"./en-ca.js":120,"./en-gb":121,"./en-gb.js":121,"./en-ie":122,"./en-ie.js":122,"./en-il":123,"./en-il.js":123,"./en-nz":124,"./en-nz.js":124,"./eo":125,"./eo.js":125,"./es":126,"./es-do":127,"./es-do.js":127,"./es-us":128,"./es-us.js":128,"./es.js":126,"./et":129,"./et.js":129,"./eu":130,"./eu.js":130,"./fa":131,"./fa.js":131,"./fi":132,"./fi.js":132,"./fo":133,"./fo.js":133,"./fr":134,"./fr-ca":135,"./fr-ca.js":135,"./fr-ch":136,"./fr-ch.js":136,"./fr.js":134,"./fy":137,"./fy.js":137,"./gd":138,"./gd.js":138,"./gl":139,"./gl.js":139,"./gom-latn":140,"./gom-latn.js":140,"./gu":141,"./gu.js":141,"./he":142,"./he.js":142,"./hi":143,"./hi.js":143,"./hr":144,"./hr.js":144,"./hu":145,"./hu.js":145,"./hy-am":146,"./hy-am.js":146,"./id":147,"./id.js":147,"./is":148,"./is.js":148,"./it":149,"./it.js":149,"./ja":150,"./ja.js":150,"./jv":151,"./jv.js":151,"./ka":152,"./ka.js":152,"./kk":153,"./kk.js":153,"./km":154,"./km.js":154,"./kn":155,"./kn.js":155,"./ko":156,"./ko.js":156,"./ky":157,"./ky.js":157,"./lb":158,"./lb.js":158,"./lo":159,"./lo.js":159,"./lt":160,"./lt.js":160,"./lv":161,"./lv.js":161,"./me":162,"./me.js":162,"./mi":163,"./mi.js":163,"./mk":164,"./mk.js":164,"./ml":165,"./ml.js":165,"./mn":166,"./mn.js":166,"./mr":167,"./mr.js":167,"./ms":168,"./ms-my":169,"./ms-my.js":169,"./ms.js":168,"./mt":170,"./mt.js":170,"./my":171,"./my.js":171,"./nb":172,"./nb.js":172,"./ne":173,"./ne.js":173,"./nl":174,"./nl-be":175,"./nl-be.js":175,"./nl.js":174,"./nn":176,"./nn.js":176,"./pa-in":177,"./pa-in.js":177,"./pl":178,"./pl.js":178,"./pt":179,"./pt-br":180,"./pt-br.js":180,"./pt.js":179,"./ro":181,"./ro.js":181,"./ru":182,"./ru.js":182,"./sd":183,"./sd.js":183,"./se":184,"./se.js":184,"./si":185,"./si.js":185,"./sk":186,"./sk.js":186,"./sl":187,"./sl.js":187,"./sq":188,"./sq.js":188,"./sr":189,"./sr-cyrl":190,"./sr-cyrl.js":190,"./sr.js":189,"./ss":191,"./ss.js":191,"./sv":192,"./sv.js":192,"./sw":193,"./sw.js":193,"./ta":194,"./ta.js":194,"./te":195,"./te.js":195,"./tet":196,"./tet.js":196,"./tg":197,"./tg.js":197,"./th":198,"./th.js":198,"./tl-ph":199,"./tl-ph.js":199,"./tlh":200,"./tlh.js":200,"./tr":201,"./tr.js":201,"./tzl":202,"./tzl.js":202,"./tzm":203,"./tzm-latn":204,"./tzm-latn.js":204,"./tzm.js":203,"./ug-cn":205,"./ug-cn.js":205,"./uk":206,"./uk.js":206,"./ur":207,"./ur.js":207,"./uz":208,"./uz-latn":209,"./uz-latn.js":209,"./uz.js":208,"./vi":210,"./vi.js":210,"./x-pseudo":211,"./x-pseudo.js":211,"./yo":212,"./yo.js":212,"./zh-cn":213,"./zh-cn.js":213,"./zh-hk":214,"./zh-hk.js":214,"./zh-tw":215,"./zh-tw.js":215};function r(e){var t=i(e);return n(t)}function i(e){var t=o[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}r.keys=function(){return Object.keys(o)},r.resolve=i,e.exports=r,r.id=267},268:function(e,t,n){var o=n(269);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(15)(o,r);o.locals&&(e.exports=o.locals)},269:function(e,t,n){(e.exports=n(14)(!1)).push([e.i,'@charset "UTF-8";\n/* Excerpt component */\n.excerpt {\n  display: inline-block;\n  border-bottom: 1px solid #eee;\n  /**\n    * 18.09.17 min9nim\n    * overflow: hidden; 추가후 테두리가 두꺼워져서 margin 설정을 수정함\n    */\n  margin: -2px 0px;\n  width: 100%;\n  background-color: #fff;\n  padding: 15px 15px;\n  /*\n    * 18.09.17 min9nim\n    * 연속된 문자열이 길어질때(긴 URL주소)\n    * 목록에서 가로스크롤이 생기는 것이 싫어서 overflow: hidden; 추가\n    */\n  overflow: hidden;\n  /*\n    * 18.10.02 min9nim\n    * remove 애니메이션 추가\n    */\n  -webkit-transition: -webkit-transform 0.5s;\n  transition: transform 0.5s; }\n  .excerpt .title1 {\n    margin-bottom: 3px; }\n  .excerpt .title {\n    display: inline-block;\n    text-align: right;\n    width: 100%;\n    margin: 0px; }\n    .excerpt .title a {\n      color: #555; }\n    .excerpt .title sup {\n      font-size: 14px;\n      margin-left: 5px;\n      color: #999; }\n  .excerpt .meta {\n    color: #aaa;\n    text-align: right;\n    font-size: 12px;\n    display: inline-block;\n    margin: 0px 0px 0px 0px; }\n  .excerpt .meta-wrapper {\n    margin-top: 10px;\n    display: flex;\n    flex-wrap: wrap; }\n    .excerpt .meta-wrapper .postMeta {\n      flex: 1;\n      min-width: 262px; }\n    .excerpt .meta-wrapper .postMetaBtn {\n      color: #aaa;\n      cursor: pointer; }\n    .excerpt .meta-wrapper .postMenu {\n      flex: 1;\n      min-width: 241px;\n      text-align: right; }\n  .excerpt .meta2 {\n    color: #aaa;\n    text-align: right;\n    font-size: 12px;\n    display: inline-block;\n    margin: 10px 0px; }\n  .excerpt .content {\n    display: block;\n    /* 18.11.08 UI수정 */\n    max-height: 60px;\n    overflow: hidden;\n    margin-top: 4px;\n    color: #555; }\n  .excerpt .deleted {\n    text-decoration: line-through;\n    color: #ccc; }\n  .excerpt .private {\n    color: #bbb; }\n',""])},270:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(1),i=function(e){return e&&e.__esModule?e:{default:e}}(r),s=n(22);n(279);var a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.showMenu=n.showMenu.bind(n),n.cancelMenu=n.cancelMenu.bind(n),n.editPost=n.editPost.bind(n),n.deletePost=n.deletePost.bind(n),n.removePost=n.removePost.bind(n),n.restorePost=n.restorePost.bind(n),n.postHistory=n.postHistory.bind(n),n.state={clicked:!0},n.contextPath=n.props.context?"/"+n.props.context:"",n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),o(t,[{key:"deletePost",value:function(){var e=this;s.tp.confirm({message:"Delete this?",onYes:function(){s.tp.api.deletePost({key:e.props.postKey,uuid:s.tp.user.uuid}).then(function(t){"Fail"===t.status?s.tp.alert({message:t.message,style:"warning"}):s.tp.store.getState().data.posts.length>0&&s.tp.store.dispatch(s.tp.action.deletePost(e.props.postKey)),e.cancelMenu()})}})}},{key:"removePost",value:function(){var e=this;s.tp.confirm({message:"Remove this?",width:"155px",onYes:function(){s.tp.api.removePost({key:e.props.postKey,uuid:s.tp.user.uuid}).then(function(t){"Fail"===t.status?(s.tp.alert({message:"Fail<br>"+t.message,style:"danger",width:"200px"}),e.cancelMenu()):["PostHistory","List"].includes(s.tp.thispage)?(document.getElementById(e.props.postKey).style.transform="scaleY(0)",setTimeout(function(){s.tp.store.dispatch(s.tp.action.removePost(function(t){return t.key===e.props.postKey}))},500)):(document.getElementsByClassName("post")[0].style.transform="scaleX(0)",setTimeout(function(){if(s.tp.store.dispatch(s.tp.action.removePost(function(t){return t.key===e.props.postKey})),e.props.postOrigin){var t=location.pathname.split("/");t.splice(2,2,"postHistory",e.props.postOrigin),e.props.history.push(t.join("/"))}else e.props.history.push(e.contextPath+"/list")},500))})}})}},{key:"restorePost",value:function(){var e=this;s.tp.confirm({message:"Restore this?",onYes:function(){s.tp.api.restorePost({key:e.props.postKey,uuid:s.tp.user.uuid}).then(function(t){"Fail"===t.status?s.tp.alert(JSON.stringify(t,null,2)):s.tp.store.dispatch(s.tp.action.restorePost(e.props.postKey)),e.cancelMenu()})}})}},{key:"editPost",value:function(){var e=this;s.tp.api.authPost({key:this.props.postKey,uuid:s.tp.user.uuid}).then(function(t){"Success"===t.status?e.props.history.push(e.contextPath+"/edit/"+e.props.postKey):(s.tp.alert({message:t.message,style:"warning",width:"160px"}),e.cancelMenu())})}},{key:"postHistory",value:function(){var e=this;s.tp.store.dispatch(s.tp.action.removePost(function(t){return t.origin===e.props.postKey})),s.tp.api.getPostHistory(this.props.postKey).then(function(t){t.posts.length>0?(s.tp.store.dispatch(s.tp.action.addPosts(t.posts)),e.props.history.push(e.contextPath+"/postHistory/"+e.props.postKey)):(s.tp.alert({message:"Have no changes",style:"info"}),e.cancelMenu())})}},{key:"cancelMenu",value:function(){this.setState({clicked:!1})}},{key:"showMenu",value:function(){this.setState({clicked:!0})}},{key:"render",value:function(){return i.default.createElement("div",{className:"postMenu"},this.state.clicked?i.default.createElement("div",{className:"navi"},!this.props.postOrigin&&i.default.createElement("div",{className:"icon-history",onClick:this.postHistory},"History"),this.props.postDeleted?i.default.createElement("div",{className:"icon-ccw",onClick:this.restorePost},"Restore"):i.default.createElement(r.Fragment,null,!this.props.postOrigin&&i.default.createElement("div",{className:"icon-pencil",onClick:this.editPost},"Edit"),i.default.createElement("div",{className:"icon-trash-empty",onClick:this.deletePost,title:"Delete this, whenever you can restore this"},"Delete")),i.default.createElement("div",{className:"icon-trash",onClick:this.removePost,title:"Delete this, you cannot undo"},"Remove")):i.default.createElement("div",{className:"navi",onClick:this.showMenu},"..."))}}]),t}();t.default=a},278:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.api=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n(89));function r(e){return o.default.done(),e.ok?e.json():new Promise(function(t,n){n(new Error(e.statusText))})}function i(e,t){return t.hideProgress||o.default.start(),delete t.hideProgress,fetch(e,Object.assign({},{credentials:"omit"},t))}console.log("api.js start");var s=t.api={};s.addPost=function(e){return i("/api/posts/add",{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(e,null,2)}).then(r)},s.addComment=function(e){return i("/api/comments/add",{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(e,null,2)}).then(r)},s.getPosts=function(e){var t=e.idx,n=void 0===t?0:t,o=e.cnt,s=void 0===o?10:o,a=e.context,u=void 0===a?"public":a,c=e.search,l=void 0===c?"":c,p=e.hideProgress;return i("/api/posts/get/"+u+"/"+n+"/"+s,{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify({uuid:tp.user.uuid,search:l}),hideProgress:p}).then(r)},s.getComments=function(e){return i("/api/comments/get/"+e,{method:"GET"}).then(r)},s.getPost=function(e){return i("/api/posts/get/"+e,{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify({uuid:tp.user.uuid})}).then(r)},s.deletePost=function(e){return i("/api/posts/delete/"+e.key+"/"+e.uuid,{method:"GET"}).then(r)},s.removePost=function(e){return i("/api/posts/remove/"+e.key+"/"+e.uuid,{method:"GET"}).then(r)},s.restorePost=function(e){return i("/api/posts/restore/"+e.key+"/"+e.uuid,{method:"GET"}).then(r)},s.restoreComment=function(e){return i("/api/comments/restore/"+e.key+"/"+e.uuid,{method:"GET"}).then(r)},s.viewPost=function(e){return i("/api/posts/view/"+e,{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify({uuid:tp.user.uuid})}).then(r)},s.deleteComment=function(e){return i("/api/comments/delete/"+e.key+"/"+e.uuid,{method:"GET"}).then(r)},s.removeComment=function(e){return i("/api/comments/remove/"+e.key+"/"+e.uuid,{method:"GET"}).then(r)},s.authPost=function(e){return i("/api/posts/auth/"+e.key+"/"+e.uuid,{method:"GET"}).then(r)},s.authComment=function(e){return i("/api/comments/auth/"+e.key+"/"+e.uuid,{method:"GET"}).then(r)},s.updatePost=function(e){return i("/api/posts/edit/"+tp.user.uuid,{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(e,null,2)}).then(r)},s.updateComment=function(e){return i("/api/comments/edit/"+tp.user.uuid,{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(e,null,2)}).then(r)},s.getPostHistory=function(e){return i("/api/posts/history/"+e,{method:"GET"}).then(r)},s.likePost=function(e){return i("/api/posts/likePost/"+e,{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify({uuid:tp.user.uuid})}).then(r)},s.cancelLike=function(e,t){return i("/api/posts/cancelLike/"+e,{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify({uuid:tp.user.uuid})}).then(r)}},279:function(e,t,n){var o=n(280);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(15)(o,r);o.locals&&(e.exports=o.locals)},280:function(e,t,n){(e.exports=n(14)(!1)).push([e.i,"/* PostMenu component */\n.postMenu {\n  cursor: pointer;\n  color: #aaa; }\n  .postMenu .navi {\n    font-size: 12px; }\n    .postMenu .navi div {\n      font-size: 12px;\n      display: inline-block;\n      font-style: italic;\n      margin-left: 10px; }\n    .postMenu .navi .icon-history {\n      margin-left: 0px; }\n",""])},281:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function(e){return e&&e.__esModule?e:{default:e}}(n(1)),i=n(22);n(282);var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.likePost=n.likePost.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),o(t,[{key:"likePost",value:function(){this.props.post.liked?i.tp.api.cancelLike(this.props.post.key).then(function(e){i.tp.store.dispatch(i.tp.action.updatePost(e.output))}):i.tp.api.likePost(this.props.post.key).then(function(e){i.tp.store.dispatch(i.tp.action.updatePost(e.output))})}},{key:"render",value:function(){return r.default.createElement("div",{className:"postMeta"},r.default.createElement("i",{className:"icon-eye"},"View: ",this.props.post.viewCnt||0," "),r.default.createElement("i",{className:"icon-comment-empty"},"Comments: ",this.props.post.commentCnt||0),r.default.createElement("i",{className:this.props.post.liked?"icon-thumbs-up-alt liked":" icon-thumbs-up like",onClick:this.likePost},"like: ",this.props.post.likeCnt," "))}}]),t}();t.default=s},282:function(e,t,n){var o=n(283);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(15)(o,r);o.locals&&(e.exports=o.locals)},283:function(e,t,n){(e.exports=n(14)(!1)).push([e.i,"/* Post component */\n.postMeta {\n  color: #aaa;\n  font-size: 12px;\n  text-align: left; }\n  .postMeta i {\n    display: inline-block;\n    margin-right: 20px; }\n  .postMeta .liked {\n    cursor: pointer;\n    font-weight: bold; }\n  .postMeta .like {\n    cursor: pointer; }\n",""])},284:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=s(n(1));n(285);var i=s(n(287));function s(e){return e&&e.__esModule?e:{default:e}}var a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),console.log("PostMenu 생성자 호출");var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.showMenu=n.showMenu.bind(n),n.hideMenu=n.hideMenu.bind(n),n.state={clicked:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),o(t,[{key:"hideMenu",value:function(){this.setState({clicked:!1})}},{key:"showMenu",value:function(){this.setState({clicked:!0})}},{key:"render",value:function(){return console.log("Menu 렌더링"),r.default.createElement("div",{className:"menu"},r.default.createElement("div",{className:"icon-menu-1 navi",onClick:this.showMenu}),this.state.clicked&&r.default.createElement(i.default,{hideMenu:this.hideMenu}))}}]),t}();t.default=a},285:function(e,t,n){var o=n(286);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(15)(o,r);o.locals&&(e.exports=o.locals)},286:function(e,t,n){(e.exports=n(14)(!1)).push([e.i,".menu {\n  color: #aaa;\n  font-style: italic;\n  display: inline-block;\n  margin-left: 0px; }\n  .menu .navi {\n    font-size: 16px;\n    cursor: pointer; }\n",""])},287:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=u(n(1)),i=n(22),s=u(n(51));n(288);var a=n(29);function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),console.log("MenuEditUuid 생성자 호출");var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.hideMenu=n.props.hideMenu,n.confirm=n.confirm.bind(n),n.refreshUuid=n.refreshUuid.bind(n),n.deleteUuid=n.deleteUuid.bind(n),n.cancel=n.cancel.bind(n),n.handleChange=n.handleChange.bind(n),n.state={uuid:i.tp.user.uuid},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),o(t,[{key:"confirm",value:function(){"success"===this.getValidationState()?(i.tp.setUser({uuid:this.state.uuid}),i.tp.alert({message:"uuid changed",style:"info",width:"152px"}),this.hideMenu()):i.tp.alert({message:"Invalid uuid",style:"warning",width:"152px"})}},{key:"cancel",value:function(){this.setState({uuid:i.tp.user.uuid}),this.hideMenu()}},{key:"refreshUuid",value:function(){this.setState({uuid:s.default.generate()})}},{key:"deleteUuid",value:function(){this.setState({uuid:""}),this.uuidinput.focus()}},{key:"getValidationState",value:function(){var e=i.tp.$m.removeTag(this.state.uuid).trim().length;return s.default.isValid(this.state.uuid)&&e>=9?"success":e>5?"warning":e>0?"error":null}},{key:"handleChange",value:function(e){if(!(e.target.value.length>10)){var t={};t[e.target.id]=e.target.value,this.setState(t)}}},{key:"render",value:function(){var e=this;return console.log("MenuEditUuid 렌더링"),r.default.createElement("div",{className:"uuid-setting"},r.default.createElement("div",{className:"modal_div"}),r.default.createElement("div",{className:"inner_div"},r.default.createElement("div",{className:"upper_grp"},r.default.createElement(a.FormGroup,{className:"form",controlId:"uuid",validationState:this.getValidationState()},r.default.createElement(a.FormControl,{type:"text",autoFocus:!0,inputRef:function(t){e.uuidinput=t},value:this.state.uuid,onChange:this.handleChange,placeholder:"uuid.."}),r.default.createElement(a.FormControl.Feedback,null)),r.default.createElement("div",{className:"icon-cancel delete",onClick:this.deleteUuid,title:"Delete uuid"}),r.default.createElement("div",{className:"icon-spin3 refresh",onClick:this.refreshUuid,title:"Generate random uuid"})),r.default.createElement("div",{className:"btn_grp"},r.default.createElement(a.Button,{className:"searchBtn",bsStyle:"success",onClick:this.confirm},"Save"),r.default.createElement(a.Button,{className:"cancelBtn",bsStyle:"success",onClick:this.cancel},"Cancel"))))}}]),t}();t.default=c},288:function(e,t,n){var o=n(289);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(15)(o,r);o.locals&&(e.exports=o.locals)},289:function(e,t,n){(e.exports=n(14)(!1)).push([e.i,".uuid-setting {\n  height: 22px; }\n  .uuid-setting .modal_div {\n    position: absolute;\n    left: 0px;\n    top: 0px;\n    width: 100%;\n    height: 100%;\n    opacity: 0.5;\n    background-color: #808080; }\n  .uuid-setting .inner_div {\n    position: absolute;\n    top: 28px;\n    right: 10px;\n    max-width: 800px; }\n    .uuid-setting .inner_div .upper_grp .form {\n      margin-bottom: 7px; }\n      .uuid-setting .inner_div .upper_grp .form #uuid {\n        width: 248px;\n        text-indent: 3px;\n        height: 40px;\n        font-size: 20px; }\n      .uuid-setting .inner_div .upper_grp .form .form-control-feedback {\n        top: 3px;\n        left: 170px; }\n    .uuid-setting .inner_div .upper_grp .delete {\n      font-size: 15px;\n      font-weight: bold;\n      position: absolute;\n      display: inline;\n      color: #999;\n      top: 10px;\n      left: 198px;\n      cursor: pointer; }\n    .uuid-setting .inner_div .upper_grp .refresh {\n      font-size: 15px;\n      font-weight: bold;\n      position: absolute;\n      display: inline;\n      color: #999;\n      top: 10px;\n      left: 220px;\n      cursor: pointer; }\n    .uuid-setting .inner_div .btn_grp {\n      margin-top: 5px;\n      text-align: center;\n      width: 245px; }\n      .uuid-setting .inner_div .btn_grp .cancelBtn {\n        margin-left: 3px; }\n",""])},35:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(239);Object.defineProperty(t,"Excerpt",{enumerable:!0,get:function(){return v(o).default}});var r=n(270);Object.defineProperty(t,"PostMenu",{enumerable:!0,get:function(){return v(r).default}});var i=n(281);Object.defineProperty(t,"PostMeta",{enumerable:!0,get:function(){return v(i).default}});var s=n(284);Object.defineProperty(t,"Menu",{enumerable:!0,get:function(){return v(s).default}});var a=n(366);Object.defineProperty(t,"Search",{enumerable:!0,get:function(){return v(a).default}});var u=n(369);Object.defineProperty(t,"SearchBox",{enumerable:!0,get:function(){return v(u).default}});var c=n(372);Object.defineProperty(t,"CommentWrite",{enumerable:!0,get:function(){return v(c).default}});var l=n(375);Object.defineProperty(t,"CommentEdit",{enumerable:!0,get:function(){return v(l).default}});var p=n(378);Object.defineProperty(t,"CommentList",{enumerable:!0,get:function(){return v(p).default}});var d=n(381);Object.defineProperty(t,"CommentMenu",{enumerable:!0,get:function(){return v(d).default}});var f=n(384);Object.defineProperty(t,"Comment",{enumerable:!0,get:function(){return v(f).default}});var h=n(387);Object.defineProperty(t,"AlertDismissable",{enumerable:!0,get:function(){return v(h).default}});var m=n(390);Object.defineProperty(t,"Confirm",{enumerable:!0,get:function(){return v(m).default}});var y=n(393);function v(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"ListLoader",{enumerable:!0,get:function(){return v(y).default}})},366:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=s(n(1)),i=(s(n(90)),n(35));function s(e){return e&&e.__esModule?e:{default:e}}n(367);var a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),console.log("Search 생성자 호출");var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.showSearch=n.showSearch.bind(n),n.hideSearch=n.hideSearch.bind(n),n.handleChange=n.handleChange.bind(n),n.handleKeyPress=n.handleKeyPress.bind(n),n.search=n.search.bind(n),n.state={clicked:!1,word:""},n.unsubscribe=tp.store.subscribe(function(){console.log("Search가 store 상태 변경 노티 받음"),n.setState({word:tp.store.getState().view.search})}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),o(t,[{key:"hideSearch",value:function(){this.setState({clicked:!1,word:""})}},{key:"showSearch",value:function(){this.setState({clicked:!0})}},{key:"handleChange",value:function(e){console.log(e.target.value),this.setState({word:e.target.value})}},{key:"handleKeyPress",value:function(e){13===(e.keyCode||e.which)&&this.search()}},{key:"componentWillUnmount",value:function(){console.log("Search componentWillUnmount.."),this.unsubscribe()}},{key:"search",value:function(){var e=this.state.word.trim();""!==e?(tp.store.dispatch(tp.action.initPosts()),tp.isScrollLast=!1,tp.api.getPosts({idx:0,cnt:10,search:e,context:this.props.context}).then(tp.checkStatus).then(function(e){return tp.store.dispatch(tp.action.addPosts(e.posts))}),tp.store.dispatch(tp.action.setSearch(e))):tp.alert({message:"Keyword is empty",style:"warning",width:"180px"})}},{key:"render",value:function(){return console.log("Search 렌더링"),r.default.createElement("div",{className:"Search"},tp.isDesktop()?r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{className:"icon-search btn1",onClick:this.search}),r.default.createElement("div",{className:"ipt-wrapper"},r.default.createElement("input",{className:"ipt-search",value:this.state.word,onChange:this.handleChange,onKeyPress:this.handleKeyPress}))):r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{className:"icon-search btn2",onClick:this.showSearch}),this.state.clicked&&r.default.createElement(i.SearchBox,{hideSearch:this.hideSearch,context:this.props.context,title:"Search button"})))}}]),t}();t.default=a},367:function(e,t,n){var o=n(368);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(15)(o,r);o.locals&&(e.exports=o.locals)},368:function(e,t,n){(e.exports=n(14)(!1)).push([e.i,".Search {\n  text-align: right; }\n  .Search .btn1 {\n    position: relative;\n    left: 25px;\n    cursor: pointer;\n    display: inline-block;\n    font-size: 14px; }\n  .Search .btn2 {\n    cursor: pointer;\n    display: inline-block;\n    font-size: 18px; }\n  .Search .ipt-wrapper {\n    display: inline-block;\n    width: 130px; }\n    .Search .ipt-wrapper .ipt-search {\n      width: 100%;\n      font-size: 14px;\n      padding: 0px 4px 0px 25px;\n      border-width: 1px;\n      border-style: solid;\n      border-color: #eeeeee;\n      border-image: initial;\n      border-radius: 15px;\n      outline: none;\n      transition: all 0.2s ease 0s; }\n",""])},369:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function(e){return e&&e.__esModule?e:{default:e}}(n(1)),i=n(22);n(370);var s=n(29);var a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.hideSearch=n.props.hideSearch,n.search=n.search.bind(n),n.handleChange=n.handleChange.bind(n),n.state={word:"",uuid:i.tp.user.uuid},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),o(t,[{key:"search",value:function(){var e=this.state.word.trim();""!==e?(i.tp.store.dispatch(i.tp.action.initPosts()),i.tp.isScrollLast=!1,i.tp.api.getPosts({idx:0,cnt:10,search:e,context:this.props.context}).then(i.tp.checkStatus).then(function(e){return i.tp.store.dispatch(i.tp.action.addPosts(e.posts))}),i.tp.store.dispatch(i.tp.action.setSearch(e)),this.hideSearch()):i.tp.alert({message:"Keyword is empty",style:"warning",width:"180px"})}},{key:"handleChange",value:function(e){this.setState({word:e.target.value})}},{key:"render",value:function(){return console.log("Search 렌더링"),r.default.createElement("div",{className:"searchBox"},r.default.createElement("div",{className:"modal_div"}),r.default.createElement("div",{className:"search_div"},r.default.createElement(s.FormGroup,{controlId:"word"},r.default.createElement(s.FormControl,{className:"input",autoFocus:!0,value:this.state.word,onChange:this.handleChange,componentClass:"textarea",placeholder:"word.."})),r.default.createElement("div",{className:"btn_grp"},r.default.createElement(s.Button,{className:"searchBtn",bsStyle:"success",onClick:this.search},"Search"),r.default.createElement(s.Button,{className:"cancelBtn",bsStyle:"success",onClick:this.hideSearch},"Cancel"))))}}]),t}();t.default=a},370:function(e,t,n){var o=n(371);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(15)(o,r);o.locals&&(e.exports=o.locals)},371:function(e,t,n){(e.exports=n(14)(!1)).push([e.i,".searchBox .modal_div {\n  position: absolute;\n  left: 0px;\n  top: 0px;\n  width: 100%;\n  height: 100%;\n  opacity: 0.5;\n  background-color: #808080; }\n\n.searchBox .search_div {\n  position: absolute;\n  width: 90%;\n  max-width: 600px;\n  height: 20%;\n  top: 30%;\n  left: 50%;\n  transform: translateX(-50%) translateY(-30%); }\n  .searchBox .search_div .input {\n    /*height: 100%;*/\n    height: 100px;\n    width: 100%;\n    border: 1px solid #69f;\n    background-color: #fff;\n    padding: 5px;\n    overflow: auto;\n    font-size: 20px; }\n  .searchBox .search_div .cancelBtn {\n    margin-left: 3px; }\n  .searchBox .search_div .btn_grp {\n    margin-top: 5px;\n    text-align: center; }\n",""])},372:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=a(n(1)),i=n(29),s=a(n(51));function a(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(373);var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=n.handleChange.bind(n),n.saveComment=n.saveComment.bind(n),n.state={key:"",writer:tp.user.writer,content:"",uuid:tp.user.uuid,postKey:n.props.postKey,commentKey:"",date:"",isLoading:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),o(t,[{key:"handleChange",value:function(e){var t={};t[e.target.id]=e.target.value,this.setState(t),"content"===e.target.id&&(console.log("e.target.scrollHeight = "+e.target.scrollHeight),e.target.style.height=e.target.scrollHeight>20?e.target.scrollHeight+"px":"20px")}},{key:"saveComment",value:function(){var e,t=this;if(""!==this.state.content){this.setState({isLoading:!0});var n=(u(e={key:s.default.generate(),writer:this.state.writer.trim(),content:this.state.content.trim(),uuid:this.state.uuid,postKey:this.state.postKey,date:Date.now()},"uuid",tp.user.uuid),u(e,"commentKey",""),e);tp.api.addComment(n).then(function(e){console.log("# "+e.message),tp.store.dispatch(tp.action.addComment(n));var o=tp.store.getState().data.posts.find(function(e){return e.key===t.state.postKey});o.commentCnt=o.commentCnt?o.commentCnt+1:1,tp.store.dispatch(tp.action.updatePost(o)),t.setState({content:""}),tp.setUser({writer:n.writer}),t.content.style.height="",t.setState({isLoading:!1})})}else tp.alert({message:"Comment is empty",style:"warning",width:"185px"})}},{key:"render",value:function(){var e=this,t=this.state.isLoading;return console.log("Comment 렌더링.."),r.default.createElement("div",{className:"comment-write"},r.default.createElement("div",{className:"writer"},r.default.createElement(i.FormControl,{id:"writer",value:this.state.writer,onChange:this.handleChange,placeholder:"Writer.."})),r.default.createElement("div",{className:"content"},r.default.createElement(i.FormControl,{id:"content",value:this.state.content,inputRef:function(t){e.content=t},onChange:this.handleChange,componentClass:"textarea",placeholder:"Comment.."})),r.default.createElement("div",{className:"confirmBtn"},r.default.createElement(i.Button,{bsStyle:"success",disabled:t,onClick:t?null:this.saveComment},r.default.createElement("i",{className:"icon-floppy"}),"Confirm")))}}]),t}();t.default=c},373:function(e,t,n){var o=n(374);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(15)(o,r);o.locals&&(e.exports=o.locals)},374:function(e,t,n){(e.exports=n(14)(!1)).push([e.i,"/* Comment component */\n.comment-write {\n  margin: 20px;\n  display: flex;\n  flex-direction: row;\n  max-width: 800px; }\n  .comment-write .writer {\n    display: inline-block;\n    width: 100px;\n    margin-bottom: auto;\n    margin-top: auto;\n    margin-right: 10px; }\n    .comment-write .writer input {\n      border-top: 0px;\n      border-left: 0px;\n      border-right: 0px;\n      border-radius: 0px;\n      padding-top: 0px;\n      padding-bottom: 0px;\n      height: 20px; }\n  .comment-write .content {\n    margin-left: 3px;\n    margin-right: 10px;\n    flex-grow: 1;\n    margin-bottom: auto;\n    margin-top: auto; }\n    .comment-write .content textarea {\n      overflow: hidden;\n      border-top: 0px;\n      border-left: 0px;\n      border-right: 0px;\n      border-radius: 0px;\n      padding-top: 0px;\n      padding-bottom: 0px;\n      height: 20px; }\n    .comment-write .content textarea.autosize {\n      min-height: 34px; }\n  .comment-write .confirmBtn {\n    width: 70px;\n    margin: 1px 0px; }\n    .comment-write .confirmBtn .btn {\n      font-size: 12px;\n      margin-right: 3px;\n      padding-top: 3px;\n      padding-bottom: 2px;\n      padding-left: 3px;\n      padding-right: 6px; }\n",""])},375:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function(e){return e&&e.__esModule?e:{default:e}}(n(1)),i=n(22);n(376);var s=n(29);var a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.hideEdit=n.props.hideEdit,n.hideMenu=n.props.hideMenu,n.save=n.save.bind(n),n.handleChange=n.handleChange.bind(n),n.state=n.props.comment,n.state.uuid=i.tp.user.uuid,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),o(t,[{key:"save",value:function(){""!==this.state.content.trim()?(i.tp.api.updateComment(this.state).then(i.tp.checkStatus).then(function(e){return i.tp.store.dispatch(i.tp.action.updateComment(e.output))}),this.hideEdit(),this.hideMenu()):i.tp.alert("Comment is empty")}},{key:"handleChange",value:function(e){var t={};t[e.target.id]=e.target.value,this.setState(t)}},{key:"render",value:function(){return console.log("Search 렌더링"),r.default.createElement("div",{className:"CommentEditBox"},r.default.createElement("div",{className:"modal_div"}),r.default.createElement("div",{className:"inner_div"},r.default.createElement(s.FormGroup,{controlId:"writer"},r.default.createElement(s.FormControl,{className:"writer",value:this.state.writer,onChange:this.handleChange,componentClass:"textarea",placeholder:"writer.."})),r.default.createElement(s.FormGroup,{controlId:"content"},r.default.createElement(s.FormControl,{className:"content",autoFocus:!0,value:this.state.content,onChange:this.handleChange,componentClass:"textarea",placeholder:"comment.."})),r.default.createElement("div",{className:"btn_grp"},r.default.createElement(s.Button,{className:"searchBtn",bsStyle:"success",onClick:this.save},"Save"),r.default.createElement(s.Button,{className:"cancelBtn",bsStyle:"success",onClick:this.hideEdit},"Cancel"))))}}]),t}();t.default=a},376:function(e,t,n){var o=n(377);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(15)(o,r);o.locals&&(e.exports=o.locals)},377:function(e,t,n){(e.exports=n(14)(!1)).push([e.i,".CommentEditBox .modal_div {\n  position: absolute;\n  left: 0px;\n  top: 0px;\n  width: 100%;\n  height: 100%;\n  opacity: 0.5;\n  background-color: #808080; }\n\n.CommentEditBox .inner_div {\n  position: absolute;\n  width: 90%;\n  max-width: 600px;\n  height: 20%;\n  top: 30%;\n  left: 50%;\n  transform: translateX(-50%) translateY(-30%); }\n  .CommentEditBox .inner_div .form-group {\n    margin-bottom: 5px; }\n  .CommentEditBox .inner_div .writer {\n    margin-bottom: 5px;\n    height: 40px;\n    width: 40%;\n    border: 1px solid #69f;\n    background-color: #fff;\n    padding: 5px;\n    overflow: auto;\n    font-size: 20px; }\n  .CommentEditBox .inner_div .content {\n    height: 100px;\n    width: 100%;\n    border: 1px solid #69f;\n    background-color: #fff;\n    padding: 5px;\n    overflow: auto;\n    font-size: 20px; }\n  .CommentEditBox .inner_div .btn_grp {\n    margin-top: 5px;\n    text-align: center; }\n    .CommentEditBox .inner_div .btn_grp .cancelBtn {\n      margin-left: 3px; }\n",""])},378:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function(e){return e&&e.__esModule?e:{default:e}}(n(1)),i=n(35),s=n(22);n(379);var a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),console.log("CommentList 생성자 호출");var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={comments:s.tp.store.getState().data.comments.filter(function(e){return e.postKey===n.props.postKey})},s.tp.view.CommentList=n,n.unsubscribe=s.tp.store.subscribe(function(){console.log("# CommentList setState called.."),n.setState({comments:s.tp.store.getState().data.comments.filter(function(e){return e.postKey===n.props.postKey})})}),0===n.state.comments.length&&n.props.commentCnt>0&&s.tp.api.getComments(n.props.postKey).then(s.tp.checkStatus).then(function(e){return s.tp.store.dispatch(s.tp.action.addComments(e.comments))}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),o(t,[{key:"componentWillUnmount",value:function(){console.log("# CommentList unsubscribe store.."),this.unsubscribe()}},{key:"render",value:function(){var e=this;return console.log("CommentList 렌더링.."),r.default.createElement("div",{className:"CommentList"},this.state.comments.map(function(t){return r.default.createElement(i.Comment,{history:e.props.history,key:t.key,comment:t,context:e.props.context})}))}}]),t}();t.default=a},379:function(e,t,n){var o=n(380);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(15)(o,r);o.locals&&(e.exports=o.locals)},380:function(e,t,n){(e.exports=n(14)(!1)).push([e.i,"/* CommentList component */\n",""])},381:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function(e){return e&&e.__esModule?e:{default:e}}(n(1)),i=n(22),s=n(35);n(382);var a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),console.log("CommentMenu 생성자 호출");var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.showMenu=n.showMenu.bind(n),n.hideMenu=n.hideMenu.bind(n),n.showEdit=n.showEdit.bind(n),n.hideEdit=n.hideEdit.bind(n),n.editComment=n.editComment.bind(n),n.deleteComment=n.deleteComment.bind(n),n.removeComment=n.removeComment.bind(n),n.restoreComment=n.restoreComment.bind(n),n.state={clicked:!1,editClicekd:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),o(t,[{key:"deleteComment",value:function(){var e=this;i.tp.confirm({message:"Delete this?",width:"inherit",onYes:function(){i.tp.api.deleteComment({key:e.props.comment.key,uuid:i.tp.user.uuid}).then(function(t){"Fail"===t.status?i.tp.alert({message:t.message,style:"danger",width:"175px"}):i.tp.store.dispatch(i.tp.action.deleteComment(e.props.comment.key)),e.hideMenu()})},onNo:function(){e.hideMenu()}})}},{key:"removeComment",value:function(){var e=this;i.tp.confirm({message:"Remove this?",onYes:function(){i.tp.api.removeComment({key:e.props.comment.key,uuid:i.tp.user.uuid}).then(function(t){if("Fail"===t.status)i.tp.alert({message:t.message,style:"danger"});else{i.tp.store.dispatch(i.tp.action.removeComment(e.props.comment.key));var n=e.props.comment.postKey,o=i.tp.store.getState().data.posts.find(function(e){return e.key===n});o.commentCnt=o.commentCnt?o.commentCnt-1:1,i.tp.store.dispatch(i.tp.action.updatePost(o))}})},onNo:function(){e.hideMenu()}})}},{key:"restoreComment",value:function(){var e=this;i.tp.confirm({message:"Restore this?",onYes:function(){i.tp.api.restoreComment({key:e.props.comment.key,uuid:i.tp.user.uuid}).then(function(t){"Fail"===t.status?i.tp.alert({message:t.message,style:"danger"}):i.tp.store.dispatch(i.tp.action.restoreComment(e.props.comment.key)),e.hideMenu()})}})}},{key:"editComment",value:function(){var e=this;i.tp.api.authComment({key:this.props.comment.key,uuid:i.tp.user.uuid}).then(function(t){"Success"===t.status?e.showEdit():i.tp.alert({message:t.message,style:"danger"})})}},{key:"hideMenu",value:function(){this.setState({clicked:!1})}},{key:"showMenu",value:function(){this.setState({clicked:!0})}},{key:"hideEdit",value:function(){this.setState({editClicked:!1,writer:"",content:""})}},{key:"showEdit",value:function(){this.setState({editClicked:!0})}},{key:"render",value:function(){return console.log("CommentMenu 렌더링"),r.default.createElement("div",{className:"commentMenu"},this.state.clicked?r.default.createElement("div",{className:"navi"},this.props.comment.deleted?r.default.createElement("div",{className:"icon-ccw",onClick:this.restoreComment},"Restore"):r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{className:"icon-pencil",onClick:this.editComment},"Edit"),r.default.createElement("div",{className:"icon-trash-empty",onClick:this.deleteComment},"Delete")),r.default.createElement("div",{className:"icon-trash",onClick:this.removeComment},"Remove"),r.default.createElement("div",{className:"icon-cancel",onClick:this.hideMenu},"Cancel")):r.default.createElement("div",{className:"navi",onClick:this.showMenu},"..."),this.state.editClicked&&r.default.createElement(s.CommentEdit,{hideEdit:this.hideEdit,hideMenu:this.hideMenu,comment:this.props.comment}))}}]),t}();t.default=a},382:function(e,t,n){var o=n(383);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(15)(o,r);o.locals&&(e.exports=o.locals)},383:function(e,t,n){(e.exports=n(14)(!1)).push([e.i,"/* Comment component */\n.commentMenu {\n  cursor: pointer;\n  color: #aaa;\n  float: right; }\n  .commentMenu .navi {\n    text-align: right;\n    font-size: 18px; }\n    .commentMenu .navi div {\n      margin-left: 10px;\n      font-size: 12px;\n      display: inline-block;\n      font-style: italic; }\n",""])},384:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=u(n(1)),i=n(22),s=u(n(8)),a=n(35);function u(e){return e&&e.__esModule?e:{default:e}}n(385);var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),console.log("Comment 생성자 호출");var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={key:"",writer:"",content:"",date:"",uuid:"",postKey:""},n.deleteComment=n.deleteComment.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),o(t,[{key:"deleteComment",value:function(){var e=this;confirm("delete this comment?")&&i.tp.api.deleteComment({key:this.state.key,uuid:i.tp.user.uuid}).then(function(t){"Fail"===t.status?i.tp.alert({message:t.message,style:"danger"}):(i.tp.store&&i.tp.store.dispatch(i.tp.action.deleteComment(e.state.key)),e.props.history.push("/list"))})}},{key:"render",value:function(){console.log("Comment 렌더링"),this.props.comment&&(this.state=this.props.comment);var e=i.tp.$m.txtToHtml(this.state.content);return r.default.createElement("div",{className:"comment"},r.default.createElement("div",null,r.default.createElement("div",{className:"meta"},this.state.writer," - ",(0,s.default)(this.state.date).format("MM/DD dd HH:mm")),r.default.createElement(a.CommentMenu,{comment:this.state})),r.default.createElement("div",{className:this.state.deleted?"content deleted":"content",dangerouslySetInnerHTML:{__html:e}}))}}]),t}();t.default=c},385:function(e,t,n){var o=n(386);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(15)(o,r);o.locals&&(e.exports=o.locals)},386:function(e,t,n){(e.exports=n(14)(!1)).push([e.i,"/* Comment component */\n.comment {\n  margin: 10px 20px; }\n  .comment .meta {\n    color: #aaa;\n    text-align: left;\n    font-size: 12px;\n    display: inline-block; }\n  .comment .content {\n    color: #777;\n    font-size: 14px; }\n  .comment .deleted {\n    text-decoration: line-through;\n    color: #ccc; }\n",""])},387:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function(e){return e&&e.__esModule?e:{default:e}}(n(1)),i=n(11),s=n(29);n(388);var a=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.handleDismiss=o.handleDismiss.bind(o),o.handleShow=o.handleShow.bind(o),o.state={show:!1,style:"warning",message:"",width:void 0},tp.view.AlertDismissable=o,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),o(t,[{key:"handleDismiss",value:function(){this.setState({show:!1,message:""}),"function"==typeof this.onClose&&(this.onClose(),this.onClose=void 0)}},{key:"handleShow",value:function(e){var t=e.message,n=e.style,o=void 0===n?"warning":n,r=e.width,i=e.onClose;this.setState({show:!0,message:t,style:o,width:r}),this.onClose=i}},{key:"componentDidUpdate",value:function(){this.state.show&&(0,i.findDOMNode)(this.refs.closeBtn).focus()}},{key:"render",value:function(){return this.state.show?r.default.createElement("div",{className:"alertDismissable"},r.default.createElement("div",{className:"modal_div"}),r.default.createElement(s.Alert,{bsStyle:this.state.style,style:{width:this.state.width},onDismiss:this.handleDismiss},r.default.createElement("p",{dangerouslySetInnerHTML:{__html:this.state.message}}),r.default.createElement("p",null,r.default.createElement(s.Button,{bsStyle:this.state.style,ref:"closeBtn",onClick:this.handleDismiss},"Close")))):null}}]),t}();t.default=a},388:function(e,t,n){var o=n(389);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(15)(o,r);o.locals&&(e.exports=o.locals)},389:function(e,t,n){(e.exports=n(14)(!1)).push([e.i,"/* AlertDismissable component */\n.alertDismissable .alert {\n  position: fixed;\n  display: inline;\n  top: 50%;\n  left: 50%;\n  -webkit-transform: translate(-50%, -50%);\n  -ms-transform: translate(-50%, -50%);\n  -moz-transform: translate(-50%, -50%);\n  -o-transform: translate(-50%, -50%);\n  transform: translate(-50%, -50%); }\n\n.alertDismissable .modal_div {\n  position: fixed;\n  left: 0px;\n  top: 0px;\n  width: 100%;\n  height: 100%;\n  opacity: 0.3;\n  background-color: #808080; }\n",""])},390:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=a(n(1)),i=a(n(11)),s=n(29);function a(e){return e&&e.__esModule?e:{default:e}}n(391);var u=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.handleDismiss=o.handleDismiss.bind(o),o.handleShow=o.handleShow.bind(o),o.handleYes=o.handleYes.bind(o),o.handleNo=o.handleNo.bind(o),o.state={show:!1,style:"info",message:"",width:void 0},tp.view.Confirm=o,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),o(t,[{key:"handleDismiss",value:function(){this.setState({show:!1,message:""})}},{key:"handleYes",value:function(){this.handleDismiss(),"function"==typeof this.onYes&&(this.onYes(),this.onYes=void 0)}},{key:"handleNo",value:function(){this.handleDismiss(),"function"==typeof this.onNo&&(this.onNo(),this.onNo=void 0)}},{key:"componentDidUpdate",value:function(){this.state.show&&i.default.findDOMNode(this.refs.yesBtn).focus()}},{key:"handleShow",value:function(e){var t=e.message,n=e.style,o=void 0===n?"info":n,r=e.width,i=e.onYes,s=e.onNo;this.setState({show:!0,message:t,style:o,width:r}),this.onYes=i,this.onNo=s}},{key:"render",value:function(){return this.state.show?r.default.createElement("div",{className:"confirm"},r.default.createElement("div",{className:"modal_div"}),r.default.createElement(s.Alert,{bsStyle:this.state.style,style:{width:this.state.width},onDismiss:this.handleDismiss},r.default.createElement("p",{dangerouslySetInnerHTML:{__html:this.state.message}}),r.default.createElement("p",null,r.default.createElement(s.Button,{bsStyle:"info",ref:"yesBtn",onClick:this.handleYes},"YES"),r.default.createElement("span",null," or "),r.default.createElement(s.Button,{bsStyle:"warning",onClick:this.handleNo},"NO")))):null}}]),t}();t.default=u},391:function(e,t,n){var o=n(392);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(15)(o,r);o.locals&&(e.exports=o.locals)},392:function(e,t,n){(e.exports=n(14)(!1)).push([e.i,"/* Confirm component */\n.confirm .alert {\n  position: fixed;\n  display: inline;\n  top: 50%;\n  left: 50%;\n  -webkit-transform: translate(-50%, -50%);\n  -ms-transform: translate(-50%, -50%);\n  -moz-transform: translate(-50%, -50%);\n  -o-transform: translate(-50%, -50%);\n  transform: translate(-50%, -50%); }\n\n.confirm .modal_div {\n  position: fixed;\n  left: 0px;\n  top: 0px;\n  width: 100%;\n  height: 100%;\n  opacity: 0.3;\n  background-color: #808080; }\n",""])},393:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=s(n(1)),i=s(n(394));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return r.default.createElement("div",{className:"excerpt"},r.default.createElement(i.default,o({height:50,width:400,speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},e),r.default.createElement("rect",{x:"300",y:"3",rx:"4",ry:"4",width:"100.5",height:"10"}),r.default.createElement("rect",{x:"2",y:"21",rx:"3",ry:"3",width:"399",height:"7"}),r.default.createElement("rect",{x:"2",y:"31",rx:"3",ry:"3",width:"399",height:"7"}),r.default.createElement("rect",{x:"2",y:"41",rx:"3",ry:"3",width:"100",height:"7"})))}},398:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];return{view:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case s.SETSEARCH:return Object.assign({},e,{search:t.search});case s.SETUUID:return Object.assign({},e,{uuid:t.uuid});default:return e}}(e.view,t),data:{posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case s.ADDPOST:return[t.post].concat(r(e));case s.SCROLLEND:case s.ADDPOSTS:return[].concat(r(e),r(t.posts));case s.INITPOSTS:return[];case s.SETPOSTS:return t.posts;case s.DELETEPOST:var n=i.clone(e),o=n.findIndex(function(e){return e.key===t.key});return n[o].deleted=!0,n;case s.VIEWPOST:var a=i.clone(e),u=a.findIndex(function(e){return e.key===t.key});return a[u]=Object.assign({},a[u]),a[u].viewCnt=a[u].viewCnt?a[u].viewCnt+1:1,a;case s.RESTOREPOST:var c=i.clone(e),l=c.findIndex(function(e){return e.key===t.key});return c[l].deleted=!1,c;case s.REMOVEPOST:var p=i.clone(e);return p.filter(function(e){return!t.predi(e)});case s.UPDATEPOST:var d=i.clone(e),f=d.findIndex(function(e){return e.key===t.post.key});return d.splice(f,1,t.post),d.sort(function(e,t){return t.date-e.date}),d;default:return e}}(e.data.posts,t),comments:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case s.ADDCOMMENT:return[].concat(r(e),[t.comment]);case s.ADDCOMMENTS:return[].concat(r(e),r(t.comments));case s.DELETECOMMENT:var n=i.clone(e),o=n.findIndex(function(e){return e.key===t.key});return n[o].deleted=!0,n;case s.REMOVECOMMENT:var a=i.clone(e),u=a.findIndex(function(e){return e.key===t.key});return a.splice(u,1),a;case s.UPDATECOMMENT:var c=i.clone(e),l=c.findIndex(function(e){return e.key===t.comment.key});return c.splice(l,1,t.comment),c;case s.RESTORECOMMENT:var p=i.clone(e),d=p.findIndex(function(e){return e.key===t.key});return p[d].deleted=!1,p;default:return e}}(e.data.comments,t)}}};var o=function(e){return e&&e.__esModule?e:{default:e}}(n(216));function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var i=n(62),s=o.default.type},90:function(e,t,n){"use strict";var o={all_shortcuts:{},add:function(e,t,n){var o={type:"keydown",propagate:!1,disable_in_input:!1,target:document,keycode:!1};if(n)for(var r in o)void 0===n[r]&&(n[r]=o[r]);else n=o;var i=n.target;"string"==typeof n.target&&(i=document.getElementById(n.target));e=e.toLowerCase();var s=function(o){var r,i,s;if((o=o||window.event,n.disable_in_input)&&(o.target?s=o.target:o.srcElement&&(s=o.srcElement),3==s.nodeType&&(s=s.parentNode),"INPUT"==s.tagName||"TEXTAREA"==s.tagName))return;o.keyCode?r=o.keyCode:o.which&&(r=o.which);var a=String.fromCharCode(r).toLowerCase();188==r&&(a=","),190==r&&(a=".");var u=e.split("+"),c=0,l={"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":":","'":'"',",":"<",".":">","/":"?","\\":"|"},p={esc:27,escape:27,tab:9,space:32,return:13,enter:13,backspace:8,scrolllock:145,scroll_lock:145,scroll:145,capslock:20,caps_lock:20,caps:20,numlock:144,num_lock:144,num:144,pause:19,break:19,insert:45,home:36,delete:46,end:35,pageup:33,page_up:33,pu:33,pagedown:34,page_down:34,pd:34,left:37,up:38,right:39,down:40,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},d={shift:{wanted:!1,pressed:!1},ctrl:{wanted:!1,pressed:!1},alt:{wanted:!1,pressed:!1},meta:{wanted:!1,pressed:!1}};o.ctrlKey&&(d.ctrl.pressed=!0),o.shiftKey&&(d.shift.pressed=!0),o.altKey&&(d.alt.pressed=!0),o.metaKey&&(d.meta.pressed=!0);for(var f=0;i=u[f],f<u.length;f++)"ctrl"==i||"control"==i?(c++,d.ctrl.wanted=!0):"shift"==i?(c++,d.shift.wanted=!0):"alt"==i?(c++,d.alt.wanted=!0):"meta"==i?(c++,d.meta.wanted=!0):i.length>1?p[i]==r&&c++:n.keycode?n.keycode==r&&c++:a==i?c++:l[a]&&o.shiftKey&&(a=l[a])==i&&c++;if(c==u.length&&d.ctrl.pressed==d.ctrl.wanted&&d.shift.pressed==d.shift.wanted&&d.alt.pressed==d.alt.wanted&&d.meta.pressed==d.meta.wanted&&(t(o),!n.propagate))return o.cancelBubble=!0,o.returnValue=!1,o.stopPropagation&&(o.stopPropagation(),o.preventDefault()),!1};this.all_shortcuts[e]={callback:s,target:i,event:n.type},i.addEventListener?i.addEventListener(n.type,s,!1):i.attachEvent?i.attachEvent("on"+n.type,s):i["on"+n.type]=s},remove:function(e){e=e.toLowerCase();var t=this.all_shortcuts[e];if(delete this.all_shortcuts[e],t){var n=t.event,o=t.target,r=t.callback;o.detachEvent?o.detachEvent("on"+n,r):o.removeEventListener?o.removeEventListener(n,r,!1):o["on"+n]=!1}}};e.exports=o}});
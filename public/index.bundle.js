!function(e){function t(t){for(var r,s,a=t[0],u=t[1],c=t[2],d=0,f=[];d<a.length;d++)s=a[d],o[s]&&f.push(o[s][0]),o[s]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);for(l&&l(t);f.length;)f.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,a=1;a<n.length;a++){var u=n[a];0!==o[u]&&(r=!1)}r&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},o={3:0},i=[];function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n=o[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise(function(t,r){n=o[e]=[t,r]});t.push(n[2]=r);var i,a=document.getElementsByTagName("head")[0],u=document.createElement("script");u.charset="utf-8",u.timeout=120,s.nc&&u.setAttribute("nonce",s.nc),u.src=function(e){return s.p+""+({0:"vendors~Edit~List~Post~PostHistory~Write~react",1:"vendors~List~Post~PostHistory",5:"List",6:"Post",7:"Edit",8:"Write",9:"PostHistory",11:"vendors~highlightjs",12:"vendors~Post"}[e]||e)+".chunk.js"}(e),i=function(t){u.onerror=u.onload=null,clearTimeout(c);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src,s=new Error("Loading chunk "+e+" failed.\n("+r+": "+i+")");s.type=r,s.request=i,n[1](s)}o[e]=void 0}};var c=setTimeout(function(){i({type:"timeout",target:u})},12e4);u.onerror=u.onload=i,a.appendChild(u)}return Promise.all(t)},s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var a=window.webpackJsonp=window.webpackJsonp||[],u=a.push.bind(a);a.push=t,a=a.slice();for(var c=0;c<a.length;c++)t(a[c]);var l=u;i.push([187,2,10]),n()}({160:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(126));var o={};t.default=o;var i=o.type={ADDPOST:"ADDPOST",ADDPOSTS:"ADDPOSTS",INITPOSTS:"INITPOSTS",SETPOSTS:"SETPOSTS",DELETEPOST:"DELETEPOST",UPDATEPOST:"UPDATEPOST",REMOVEPOST:"REMOVEPOST",RESTOREPOST:"RESTOREPOST",VIEWPOST:"VIEWPOST",ADDCOMMENT:"ADDCOMMENT",ADDCOMMENTS:"ADDCOMMENTS",DELETECOMMENT:"DELETECOMMENT",UPDATECOMMENT:"UPDATECOMMENT",REMOVECOMMENT:"REMOVECOMMENT",SETSEARCH:"SETSEARCH",SETUUID:"SETUUID",SCROLLEND:"SCROLLEND"};o.addPost=function(e){return e.key=e.key||r.default.generate(),{type:i.ADDPOST,post:e}},o.initPosts=function(){return{type:i.INITPOSTS}},o.setPosts=function(e){return{type:i.SETPOSTS,posts:e}},o.scrollEnd=function(e){return{type:i.SCROLLEND,posts:e}},o.addPosts=function(e){return{type:i.ADDPOSTS,posts:e}},o.deletePost=function(e){return{type:i.DELETEPOST,key:e}},o.removePost=function(e){return{type:i.REMOVEPOST,predi:e}},o.viewPost=function(e){return{type:i.VIEWPOST,key:e}},o.restorePost=function(e){return{type:i.RESTOREPOST,key:e}},o.updatePost=function(e){return{type:i.UPDATEPOST,post:e}},o.updateComment=function(e){return{type:i.UPDATECOMMENT,comment:e}},o.deleteComment=function(e){return{type:i.DELETECOMMENT,key:e}},o.removeComment=function(e){return{type:i.REMOVECOMMENT,key:e}},o.addComment=function(e){return{type:i.ADDCOMMENT,comment:e}},o.addComments=function(e){return{type:i.ADDCOMMENTS,comments:e}},o.setSearch=function(e){return{type:i.SETSEARCH,search:e}},o.setUuid=function(e){return{type:i.SETUUID,uuid:e}}},184:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tp=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=l(n(160)),i=n(299),s=l(n(126)),a=l(n(300)),u=l(n(162)),c=l(n(1));function l(e){return e&&e.__esModule?e:{default:e}}console.log("tp.js start");var d=t.tp={view:{},asyncCache:{},action:o.default,store:void 0,user:void 0,api:i.api,nprogress:u.default,isScrollLast:!1,temp:void 0,$m:a.default,hljs:void 0};d.bodyScroll=function(){if(!d.isScrollLast&&"List"===d.thispage){var e=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight);Math.max(document.documentElement.scrollTop,document.body.scrollTop)+document.documentElement.clientHeight==e&&(u.default.start(),(0,a.default)("#nprogress .spinner").css("top","95%"),d.api.getPosts({idx:d.store.getState().data.posts.filter(function(e){return void 0===e.origin}).length,cnt:10,search:d.store.getState().view.search,hideProgress:!0,context:d.context}).then(function(e){if(d.store.dispatch(d.action.scrollEnd(e.posts)),e.posts.length<10)return console.log("Scroll has touched bottom"),void(d.isScrollLast=!0)}))}},d.checkStatus=function(e){if("Success"===e.status)return e;throw alert(e.message),Error(e.message)},d.setCookie=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=new Date;r.setTime(r.getTime()+24*n*60*60*1e3);var o="expires="+r.toUTCString();document.cookie=e+"="+t+";"+o+";path=/"},d.getCookie=function(e){for(var t=e+"=",n=decodeURIComponent(document.cookie).split(";"),r=0;r<n.length;r++){for(var o=n[r];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return""},d.isDesktop=function(){return["win16","win32","win64","mac","macintel"].includes(navigator.platform.toLowerCase())},d.highlight=function(e,t){if(t){var n=new RegExp("("+t+")","gi");e=e.replace(n,'<span style="background-color:yellow;">$1</span>')}return e},d.setUser=function(e){var t={uuid:s.default.generate(),writer:""},n=void 0;return n="string"==typeof e?Object.assign(d.user,{uuid:e}):e?Object.assign(d.user,e):t,d.setCookie("user",JSON.stringify(n)),n},d.getUser=function(){return d.getCookie("user")?JSON.parse(d.getCookie("user")):d.setUser()},d.asyncComponent=function(e,t){return function(n){function o(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e));return n.state={Component:d.asyncCache[t]},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,c.default.Component),r(o,[{key:"componentWillMount",value:function(){var n=this;this.state.Component?console.log("## tp.asyncCache["+t+"] used"):e().then(function(e){console.log("@@@@@ 동적로딩이요~"),d.asyncCache[t]=e.default,n.setState({Component:e.default})})}},{key:"render",value:function(){var e=this.state.Component;return e?c.default.createElement(e,this.props):c.default.createElement("div",null,c.default.createElement("i",{className:"icon-spin3 animate-spin"})," Loading.. [",t,"]")}}]),o}()},d.init=function(){d.user=d.getUser()},d.init(),window.tp=d},186:function(e,t,n){"use strict";var r={all_shortcuts:{},add:function(e,t,n){var r={type:"keydown",propagate:!1,disable_in_input:!1,target:document,keycode:!1};if(n)for(var o in r)void 0===n[o]&&(n[o]=r[o]);else n=r;var i=n.target;"string"==typeof n.target&&(i=document.getElementById(n.target));e=e.toLowerCase();var s=function(r){var o,i,s;if((r=r||window.event,n.disable_in_input)&&(r.target?s=r.target:r.srcElement&&(s=r.srcElement),3==s.nodeType&&(s=s.parentNode),"INPUT"==s.tagName||"TEXTAREA"==s.tagName))return;r.keyCode?o=r.keyCode:r.which&&(o=r.which);var a=String.fromCharCode(o).toLowerCase();188==o&&(a=","),190==o&&(a=".");var u=e.split("+"),c=0,l={"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":":","'":'"',",":"<",".":">","/":"?","\\":"|"},d={esc:27,escape:27,tab:9,space:32,return:13,enter:13,backspace:8,scrolllock:145,scroll_lock:145,scroll:145,capslock:20,caps_lock:20,caps:20,numlock:144,num_lock:144,num:144,pause:19,break:19,insert:45,home:36,delete:46,end:35,pageup:33,page_up:33,pu:33,pagedown:34,page_down:34,pd:34,left:37,up:38,right:39,down:40,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},f={shift:{wanted:!1,pressed:!1},ctrl:{wanted:!1,pressed:!1},alt:{wanted:!1,pressed:!1},meta:{wanted:!1,pressed:!1}};r.ctrlKey&&(f.ctrl.pressed=!0),r.shiftKey&&(f.shift.pressed=!0),r.altKey&&(f.alt.pressed=!0),r.metaKey&&(f.meta.pressed=!0);for(var p=0;i=u[p],p<u.length;p++)"ctrl"==i||"control"==i?(c++,f.ctrl.wanted=!0):"shift"==i?(c++,f.shift.wanted=!0):"alt"==i?(c++,f.alt.wanted=!0):"meta"==i?(c++,f.meta.wanted=!0):i.length>1?d[i]==o&&c++:n.keycode?n.keycode==o&&c++:a==i?c++:l[a]&&r.shiftKey&&(a=l[a])==i&&c++;if(c==u.length&&f.ctrl.pressed==f.ctrl.wanted&&f.shift.pressed==f.shift.wanted&&f.alt.pressed==f.alt.wanted&&f.meta.pressed==f.meta.wanted&&(t(r),!n.propagate))return r.cancelBubble=!0,r.returnValue=!1,r.stopPropagation&&(r.stopPropagation(),r.preventDefault()),!1};this.all_shortcuts[e]={callback:s,target:i,event:n.type},i.addEventListener?i.addEventListener(n.type,s,!1):i.attachEvent?i.attachEvent("on"+n.type,s):i["on"+n.type]=s},remove:function(e){e=e.toLowerCase();var t=this.all_shortcuts[e];if(delete this.all_shortcuts[e],t){var n=t.event,r=t.target,o=t.callback;r.detachEvent?r.detachEvent("on"+n,o):r.removeEventListener?r.removeEventListener(n,o,!1):r["on"+n]=!1}}};e.exports=r},187:function(e,t,n){"use strict";var r=a(n(1)),o=a(n(14)),i=n(278);n(283),n(286);var s=a(n(288));function a(e){return e&&e.__esModule?e:{default:e}}o.default.render(r.default.createElement(i.AppContainer,null,r.default.createElement(s.default,null)),document.getElementById("root"))},286:function(e,t,n){var r=n(287);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(125)(r,o);r.locals&&(e.exports=r.locals)},287:function(e,t,n){(e.exports=n(124)(!1)).push([e.i,'@charset "UTF-8";\n#root {\n  max-width: 800px;\n  margin: auto; }\n\n/* 공통 css 스타일 설정 */\n.context {\n  font-size: 120px;\n  opacity: 0.07;\n  font-weight: bold;\n  position: fixed;\n  color: #555555;\n  z-index: -100;\n  /* transform: rotate(-90deg); */\n  /* transform-origin: 100% 0; */ }\n\nimg {\n  max-width: 100%; }\n\n/* 입력 컨트롤 테두리의 top쪽 그림자 제거 */\ninput, textarea {\n  -webkit-appearance: none; }\n\n/* bootstrap.css 커스터마이징 */\n.form-control {\n  box-shadow: initial; }\n\n.btn {\n  padding: 5px 6px; }\n\n.btn:active {\n  transform: rotate(10deg);\n  -webkit-transform: rotate(10deg); }\n\ndiv[class^="icon-"] {\n  transition: all 0.1s ease-in-out; }\n\ndiv[class^="icon-"]:hover {\n  transform: scale(1.2);\n  -webkit-transform: scale(1.2); }\n\ndiv[class^="icon-"]:active {\n  transform: rotate(10deg);\n  -webkit-transform: rotate(10deg); }\n\n/* nprogress.css 커스터마이징 */\n#nprogress {\n  /*\r\n    .bar {\r\n        display: none;\r\n        position: absolute;\r\n        top: 30px;\r\n        background: #708c0c;\r\n    }\r\n    */ }\n  #nprogress .spinner {\n    top: 50%;\n    right: 50%; }\n',""])},288:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(1)),o=n(82),i=s(n(291));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(){return r.default.createElement(o.BrowserRouter,null,r.default.createElement(o.Route,{path:"/",component:i.default}))}},291:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=l(n(1)),i=n(82),s=l(n(186)),a=n(184),u=n(301),c=n(304);function l(e){return e&&e.__esModule?e:{default:e}}n(127);var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),console.log("App 생성자 호출!!");var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=location.pathname.split("/")[1],o=["","list","post","edit","postHistory","write"].includes(r)?"":"/"+r;return s.default.add("Alt+W",function(){return n.props.history.push(o+"/write")}),s.default.add("Alt+L",function(){return n.props.history.push(o+"/list")}),a.tp.view.App=n,a.tp.store=(0,u.createStore)(c.reducer,{view:{search:"",uuid:a.tp.user.uuid},data:{posts:[],comments:[]}}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"shouldComponentUpdate",value:function(e,t){return e.location.pathname!==this.props.location.pathname}},{key:"render",value:function(){console.log("App 렌더링..");var e=function(e){var t=e.history,r=e.match;a.tp.thispage="List";var i=a.tp.asyncComponent(function(){return Promise.all([n.e(0),n.e(1),n.e(5)]).then(n.t.bind(null,382,7))},"/pages/List");return o.default.createElement(i,{history:t,context:r.params.context})},t=function(e){var t=e.history,r=e.match;a.tp.thispage="Post";var i=a.tp.asyncComponent(function(){return Promise.all([n.e(0),n.e(1),n.e(12),n.e(6)]).then(n.t.bind(null,383,7))},"/pages/Post");return o.default.createElement(i,{history:t,postKey:r.params.key,context:r.params.context})},r=function(e){var t=e.history,r=e.match;a.tp.thispage="Edit";var i=a.tp.asyncComponent(function(){return Promise.all([n.e(0),n.e(7)]).then(n.t.bind(null,384,7))},"/pages/Edit");return o.default.createElement(i,{history:t,postKey:r.params.key,context:r.params.context})},s=function(e){var t=e.history,r=e.match;a.tp.thispage="Write";var i=a.tp.asyncComponent(function(){return Promise.all([n.e(0),n.e(8)]).then(n.t.bind(null,385,7))},"/pages/Write");return o.default.createElement(i,{history:t,context:r.params.context})},u=function(e){var t=e.history,r=e.match;a.tp.thispage="PostHistory";var i=a.tp.asyncComponent(function(){return Promise.all([n.e(0),n.e(1),n.e(9)]).then(n.t.bind(null,386,7))},"/pages/PostHistory");return o.default.createElement(i,{history:t,postKey:r.params.key,context:r.params.context})};return o.default.createElement("div",null,o.default.createElement(i.Switch,null,o.default.createElement(i.Route,{path:"/post/:key",render:t}),o.default.createElement(i.Route,{path:"/postHistory/:key",render:u}),o.default.createElement(i.Route,{path:"/edit/:key",render:r}),o.default.createElement(i.Route,{path:"/write",render:s}),o.default.createElement(i.Route,{path:"/list",render:e}),o.default.createElement(i.Route,{path:"/:context/post/:key",render:t}),o.default.createElement(i.Route,{path:"/:context/postHistory/:key",render:u}),o.default.createElement(i.Route,{path:"/:context/edit/:key",render:r}),o.default.createElement(i.Route,{path:"/:context/write",render:s}),o.default.createElement(i.Route,{path:"/:context/list",render:e}),o.default.createElement(i.Route,{path:"/:context",render:e}),o.default.createElement(i.Route,{path:"/",render:e})))}}]),t}();t.default=d},299:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.api=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(162));function o(e){if(r.default.done(),!e.ok)throw Error(e.statusText);return e.json()}function i(e,t){return t.hideProgress||r.default.start(),delete t.hideProgress,fetch(e,Object.assign({},{credentials:"omit"},t))}console.log("api.js start");var s=t.api={};s.addPost=function(e){return i("/api/posts/add",{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(e,null,2)}).then(o)},s.addComment=function(e){return i("/api/comments/add",{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(e,null,2)}).then(o)},s.getPosts=function(e){var t=e.idx,n=e.cnt,r=e.context,s=e.search,a=e.hideProgress;return i("/api/posts/get/"+(r||"root")+"/"+t+"/"+n,{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify({uuid:tp.user.uuid,search:s}),hideProgress:a}).then(o)},s.getComments=function(e){return i("/api/comments/get/"+e,{method:"GET"}).then(o)},s.getPost=function(e){return i("/api/posts/get/"+e,{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify({uuid:tp.user.uuid})}).then(o)},s.deletePost=function(e){return i("/api/posts/delete/"+e.key+"/"+e.uuid,{method:"GET"}).then(o)},s.removePost=function(e){return i("/api/posts/remove/"+e.key+"/"+e.uuid,{method:"GET"}).then(o)},s.restorePost=function(e){return i("/api/posts/restore/"+e.key+"/"+e.uuid,{method:"GET"}).then(o)},s.viewPost=function(e){return i("/api/posts/view/"+e,{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify({uuid:tp.user.uuid})}).then(o)},s.deleteComment=function(e){return i("/api/comments/delete/"+e.key+"/"+e.uuid,{method:"GET"}).then(o)},s.removeComment=function(e){return i("/api/comments/remove/"+e.key+"/"+e.uuid,{method:"GET"}).then(o)},s.authPost=function(e){return i("/api/posts/auth/"+e.key+"/"+e.uuid,{method:"GET"}).then(o)},s.authComment=function(e){return i("/api/comments/auth/"+e.key+"/"+e.uuid,{method:"GET"}).then(o)},s.updatePost=function(e){return i("/api/posts/edit/"+tp.user.uuid,{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(e,null,2)}).then(o)},s.updateComment=function(e){return i("/api/comments/edit/"+tp.user.uuid,{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(e,null,2)}).then(o)},s.getPostHistory=function(e){return i("/api/posts/history/"+e,{method:"GET"}).then(o)},s.likePost=function(e){return i("/api/posts/likePost/"+e,{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify({uuid:tp.user.uuid})}).then(o)},s.cancelLike=function(e,t){return i("/api/posts/cancelLike/"+e,{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify({uuid:tp.user.uuid})}).then(o)}},300:function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function o(e){return new o.fn.init(e)}e.exports=o,o.fn={init:function(e){"string"==typeof e?(this.sel=e,this.doms=document.querySelectorAll(e),this.length=this.doms.length):e instanceof o.fn.init?(this.sel=e.sel,this.doms=e.doms,this.length=e.length):e instanceof Node?(this.doms=[e],this.length=1):e[0]instanceof Node&&(this.doms=e,this.length=e.length),1===this.length&&(this.dom=this.doms[0])},html:function(e){if(0!=this.length)return void 0===e?this.doms[0].innerHTML:(o._each(this.doms,function(t){t.innerHTML=e}),this)},text:function(e){if(0!=this.length)return void 0===e?this.doms[0].textContent:(o._each(this.doms,function(t){t.textContent=e}),this)},css:function(e,t){if(0!=this.length){if(void 0===t)return this.doms[0].style[e];if("number"==typeof t){["left","top","right","bottom","width","height"].indexOf(e)>=0&&(t+="px")}return o._each(this.doms,function(n){n.style[e]=t}),this}},position:function(){if(0!=this.length){var e=this.doms[0].style.top;e=Number(e.substring(0,e.length-2));var t=this.doms[0].style.left;return{top:e,left:t=Number(t.substring(0,t.length-2))}}},parent:function(e,t){if(0!==this.length){if(void 0===t)t=this.doms[0];else if("BODY"===t.tagName)return;if(void 0===e)return t.parentNode;if("#"===e[0]);else if("."!==e[0])return t.parentNode.tagName===e.toUpperCase()?t.parentNode:this.parent(e,t.parentNode)}},animate:function(){},bind:function(){},attr:function(e,t){if(0!=this.length)return void 0===t?this.doms[0].getAttribute(e):(o._each(this.doms,function(n){n.setAttribute(e,t)}),this)},removeAttr:function(e){if(0!=this.length)return o._each(this.doms,function(t){t.removeAttribute(e)}),this},addClass:function(e){return o._each(this.doms,function(t){var n=t.getAttribute("class");n=null===n?e:n+" "+e,t.setAttribute("class",n)}),this},removeClass:function(e){return o._each(this.doms,function(t){var n=t.getAttribute("class");if(null===n)return this;var r=n.split(" "),o=r.indexOf(e);o<0||(r.splice(o,1),t.setAttribute("class",r.join(" ")))}),this},each:function(e){return o._each(this.doms,function(t,n,r){e.call(t,t,n,r)}),this},remove:function(){o._each(this.doms,function(e){e.parentNode.removeChild(e)})},append:function(e){return o._each(this.doms,function(t){1!==t.nodeType&&11!==t.nodeType&&9!==t.nodeType||t.appendChild(o.clone(e))}),this},prepend:function(e){return o._each(this.doms,function(t){1!==t.nodeType&&11!==t.nodeType&&9!==t.nodeType||t.insertBefore(o.clone(e),t.firstChild)}),this},show:function(){return o._each(this.doms,function(e){e.style.display="block"}),this},hide:function(){return o._each(this.doms,function(e){e.style.display="none"}),this},val:function(e){if(0!=this.length)return void 0===e?this.doms[0].value:(o._each(this.doms,function(t){t.value=e}),this)},focus:function(){0!=this.length&&this.doms[0].focus()}},o.fn.init.prototype=o.fn,o.clone=function(e){var t;if("string"==typeof e){var n=document.createElement("div");n.innerHTML=e,t=n.firstChild}else t=e.cloneNode(!0);return t},o.scrollTo=function(e,t){return window.scrollTo(e,t)},o.txtToHtml=function(e,t){if(t)var n=new RegExp("("+t+")","gi");return e.split("\n").map(function(e){return e.split(" ").map(function(e){var r=e;return t&&(r=r.replace(n,'<span style="background-color:yellow;">$1</span>')),0==e.indexOf("http://")||0==e.indexOf("https://")?'<a href="'+e+'" target="_blank">'+r+"</a>":r}).join(" ").replace(/  /gi,"&nbsp;&nbsp")}).join("<br/>")},o.html=function(e,t){return o(e).html(t)},o.css=function(e,t,n){return o(e).css(t,n)},o.val=function(e,t){return o(e).val(t)},o.show=function(e){return o(e).show()},o.hide=function(e){return o(e).hide()},o._curry=function(e){return function(t,n){return 2===arguments.length?e(t,n):function(n){return e(t,n)}}},o._curryr=function(e){return function(t,n){return 2===arguments.length?e(t,n):function(n){return e(n,t)}}},o._each=o._curryr(function(e,t){if("object"!==(void 0===e?"undefined":r(e))||!e)return[];for(var n=Object.keys(e),o=0;o<n.length;o++)t(e[n[o]],n[o],e);return e}),o._map=o._curryr(function(e,t){var n=[];return o._each(e,function(e,r,o){n.push(t(e,r,o))}),n}),o._filter=o._curryr(function(e,t){var n=[];return o._each(e,function(e,r,o){t(e,r,o)&&n.push(e)}),n}),o._reduce=function(e,t,n){var r=n;return void 0===n&&(r=e&&e[0],e=e&&e.slice(1)),o._each(e,function(e,n,o){r=t(e,r,n,o)}),r},o._slice=function(e,t,n){if("number"==typeof arguments[0]){t=arguments[0],n=arguments[1];return function(e){return Array.prototype.slice.call(e,t,n)}}return Array.prototype.slice.call(e,t,n)},o._join=o._curryr(function(e,t){return Array.prototype.join.call(e,t)}),o._split=o._curryr(function(e,t){return String.prototype.split.call(e,t)}),o._go=function(){var e=arguments,t=o._slice(e,1);return o._pipe(t)(e[0])},o._pipe=function(){var e=Array.isArray(arguments[0])?arguments[0]:arguments;return function(){return o._reduce(e,function(e,t,n,r){return e(t)},arguments[0])}},o._find=o._curryr(function(e,t){if("object"===(void 0===e?"undefined":r(e))&&e)for(var n=Object.keys(e),o=0;o<n.length;o++)if(t(e[n[o]],n[o],e))return e[n[o]]}),o._findIndex=o._curryr(function(e,t){if("object"===(void 0===e?"undefined":r(e))&&e)for(var n=Object.keys(e),o=0;o<n.length;o++)if(t(e[n[o]],n[o],e))return n[o]})},304:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];return{view:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case s.SETSEARCH:return Object.assign({},e,{search:t.search});case s.SETUUID:return Object.assign({},e,{uuid:t.uuid});default:return e}}(e.view,t),data:{posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case s.ADDPOST:return[t.post].concat(o(e));case s.SCROLLEND:case s.ADDPOSTS:return[].concat(o(e),o(t.posts));case s.INITPOSTS:return[];case s.SETPOSTS:return t.posts;case s.DELETEPOST:var n=i.clone(e),r=n.findIndex(function(e){return e.key===t.key});return n[r].deleted=!0,n;case s.VIEWPOST:var a=i.clone(e),u=a.findIndex(function(e){return e.key===t.key});return a[u]=Object.assign({},a[u]),a[u].viewCnt=a[u].viewCnt?a[u].viewCnt+1:1,a;case s.RESTOREPOST:var c=i.clone(e),l=c.findIndex(function(e){return e.key===t.key});return c[l].deleted=!1,c;case s.REMOVEPOST:var d=i.clone(e);return d.filter(function(e){return!t.predi(e)});case s.UPDATEPOST:var f=i.clone(e),p=f.findIndex(function(e){return e.key===t.post.key});return t.post.isPrivate?p<0||f.splice(p,1):p<0?f.splice(0,0,t.post):f.splice(p,1,t.post),f.sort(function(e,t){return t.date-e.date}),f;default:return e}}(e.data.posts,t),comments:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case s.ADDCOMMENT:return[].concat(o(e),[t.comment]);case s.ADDCOMMENTS:return[].concat(o(e),o(t.comments));case s.DELETECOMMENT:var n=i.clone(e),r=n.findIndex(function(e){return e.key===t.key});return n[r].deleted=!0,n;case s.REMOVECOMMENT:var a=i.clone(e),u=a.findIndex(function(e){return e.key===t.key});return a.splice(u,1),a;case s.UPDATECOMMENT:var c=i.clone(e),l=c.findIndex(function(e){return e.key===t.comment.key});return c.splice(l,1,t.comment),c;default:return e}}(e.data.comments,t)}}};var r=function(e){return e&&e.__esModule?e:{default:e}}(n(160));function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var i=n(127),s=r.default.type}});
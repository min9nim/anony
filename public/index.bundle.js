!function(t){function e(e){for(var r,s,a=e[0],u=e[1],c=e[2],p=0,d=[];p<a.length;p++)s=a[p],o[s]&&d.push(o[s][0]),o[s]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(t[r]=u[r]);for(l&&l(e);d.length;)d.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],r=!0,a=1;a<n.length;a++){var u=n[a];0!==o[u]&&(r=!1)}r&&(i.splice(e--,1),t=s(s.s=n[0]))}return t}var r={},o={3:0},i=[];function s(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(t){var e=[],n=o[t];if(0!==n)if(n)e.push(n[2]);else{var r=new Promise(function(e,r){n=o[t]=[e,r]});e.push(n[2]=r);var i,a=document.getElementsByTagName("head")[0],u=document.createElement("script");u.charset="utf-8",u.timeout=120,s.nc&&u.setAttribute("nonce",s.nc),u.src=function(t){return s.p+""+({0:"vendors~Edit~List~Post~PostHistory~Write",1:"vendors~List~Post~PostHistory",5:"List",6:"Post",7:"Edit",8:"Write",9:"PostHistory",10:"PostMenu",11:"CommentWrite",12:"CommentList",13:"PostMeta",15:"vendors~Post"}[t]||t)+".chunk.js"}(t),i=function(e){u.onerror=u.onload=null,clearTimeout(c);var n=o[t];if(0!==n){if(n){var r=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src,s=new Error("Loading chunk "+t+" failed.\n("+r+": "+i+")");s.type=r,s.request=i,n[1](s)}o[t]=void 0}};var c=setTimeout(function(){i({type:"timeout",target:u})},12e4);u.onerror=u.onload=i,a.appendChild(u)}return Promise.all(e)},s.m=t,s.c=r,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(n,r,function(e){return t[e]}.bind(null,r));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/",s.oe=function(t){throw console.error(t),t};var a=window.webpackJsonp=window.webpackJsonp||[],u=a.push.bind(a);a.push=e,a=a.slice();for(var c=0;c<a.length;c++)e(a[c]);var l=u;i.push([99,2,14]),n()}({198:function(t,e,n){var r=n(199);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(56)(r,o);r.locals&&(t.exports=r.locals)},199:function(t,e,n){(t.exports=n(55)(!1)).push([t.i,'@charset "UTF-8";\n/* 공통 css 스타일 설정 */\n.context {\n  font-size: 120px;\n  opacity: 0.07;\n  font-weight: bold;\n  position: fixed;\n  color: #555555;\n  left: 0px;\n  top: -35px;\n  z-index: -100; }\n\nimg {\n  max-width: 100%; }\n\n/* 입력 컨트롤 테두리의 top쪽 그림자 제거 */\ninput, textarea {\n  -webkit-appearance: none; }\n\n/* bootstrap.css 커스터마이징 */\n.form-control {\n  box-shadow: initial; }\n\n.btn {\n  padding: 5px 6px; }\n\n/* nprogress.css 커스터마이징 */\n#nprogress {\n  /*\r\n    .bar {\r\n        display: none;\r\n        position: absolute;\r\n        top: 30px;\r\n        background: #708c0c;\r\n    }\r\n    */ }\n  #nprogress .spinner {\n    top: 50%;\n    right: 50%; }\n',""])},200:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s(n(1)),o=n(36),i=s(n(203));function s(t){return t&&t.__esModule?t:{default:t}}e.default=function(){return r.default.createElement(o.BrowserRouter,null,r.default.createElement(o.Route,{path:"/",component:i.default}))}},203:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=l(n(1)),i=n(36),s=l(n(98)),a=n(97),u=n(213),c=n(216);function l(t){return t&&t.__esModule?t:{default:t}}console.log("App.js start");var p=n(59),d=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),console.log("App 생성자 호출..");var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),r=location.pathname.split("/")[1],o=["","list","post","edit","postHistory","write"].includes(r)?"":"/"+r;return s.default.add("Alt+W",function(){return n.props.history.push(o+"/write")}),s.default.add("Alt+L",function(){return n.props.history.push(o+"/list")}),n.state={view:{search:"",uuid:a.tp.user.uuid},data:{posts:[],comments:[]}},a.tp.view.App=n,a.tp.store=(0,u.createStore)(c.reducer,n.state),n.unsubscribe=a.tp.store.subscribe(function(){n.setState(a.tp.store.getState())}),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.default.Component),r(e,[{key:"shouldComponentUpdate",value:function(t,e){return t.location.pathname!==this.props.location.pathname||!p.equals(e,this.state)}},{key:"componentWillUnmount",value:function(){console.log("# App unsubscribe store.."),this.unsubscribe()}},{key:"render",value:function(){var t=this;console.log("App 렌더링..");var e=function(e){var r=e.history,i=e.match;a.tp.thispage="List",a.tp.asyncCache.List||(a.tp.asyncCache.List=a.tp.asyncComponent(function(){return Promise.all([n.e(0),n.e(1),n.e(5)]).then(n.t.bind(null,218,7))}));var s=a.tp.asyncCache.List;return o.default.createElement(s,{history:r,posts:t.state.data.posts.filter(function(t){return void 0===t.origin&&!0!==t.isPrivate}),context:i.params.context})},r=function(e){var r=e.history,i=e.match;a.tp.thispage="Post",a.tp.asyncCache.Post||(a.tp.asyncCache.Post=a.tp.asyncComponent(function(){return Promise.all([n.e(0),n.e(1),n.e(15),n.e(6)]).then(n.t.bind(null,219,7))}));var s=a.tp.asyncCache.Post;return o.default.createElement(s,{history:r,postKey:i.params.key,post:t.state.data.posts.find(function(t){return t.key===i.params.key}),context:i.params.context})},s=function(e){var r=e.history,i=e.match;a.tp.thispage="Edit",a.tp.asyncCache.Edit||(a.tp.asyncCache.Edit=a.tp.asyncComponent(function(){return Promise.all([n.e(0),n.e(7)]).then(n.t.bind(null,220,7))}));var s=a.tp.asyncCache.Edit;return o.default.createElement(s,{history:r,postKey:i.params.key,post:t.state.data.posts.find(function(t){return t.key===i.params.key}),context:i.params.context})},u=function(t){var e=t.history,r=t.match;a.tp.thispage="Write",a.tp.asyncCache.Write||(a.tp.asyncCache.Write=a.tp.asyncComponent(function(){return Promise.all([n.e(0),n.e(8)]).then(n.t.bind(null,221,7))}));var i=a.tp.asyncCache.Write;return o.default.createElement(i,{history:e,context:r.params.context})},c=function(e){var r=e.history,i=e.match;a.tp.thispage="PostHistory",a.tp.asyncCache.PostHistory||(a.tp.asyncCache.PostHistory=a.tp.asyncComponent(function(){return Promise.all([n.e(0),n.e(1),n.e(9)]).then(n.t.bind(null,222,7))}));var s=a.tp.asyncCache.PostHistory;return o.default.createElement(s,{history:r,postKey:i.params.key,phist:t.state.data.posts.filter(function(t){return t.origin===i.params.key}),context:i.params.context})};return o.default.createElement("div",null,o.default.createElement(i.Switch,null,o.default.createElement(i.Route,{path:"/post/:key",render:r}),o.default.createElement(i.Route,{path:"/postHistory/:key",render:c}),o.default.createElement(i.Route,{path:"/edit/:key",render:s}),o.default.createElement(i.Route,{path:"/write",render:u}),o.default.createElement(i.Route,{path:"/list",render:e}),o.default.createElement(i.Route,{path:"/:context/post/:key",render:r}),o.default.createElement(i.Route,{path:"/:context/postHistory/:key",render:c}),o.default.createElement(i.Route,{path:"/:context/edit/:key",render:s}),o.default.createElement(i.Route,{path:"/:context/write",render:u}),o.default.createElement(i.Route,{path:"/:context/list",render:e}),o.default.createElement(i.Route,{path:"/:context",render:e}),o.default.createElement(i.Route,{path:"/",render:e})))}}]),e}();e.default=d},211:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.api=void 0;var r=function(t){return t&&t.__esModule?t:{default:t}}(n(94));function o(t){if(r.default.done(),!t.ok)throw Error(t.statusText);return t.json()}function i(t,e){return e.hideProgress||r.default.start(),delete e.hideProgress,fetch(t,Object.assign({},{credentials:"omit"},e))}console.log("api.js start");var s=e.api={};s.addPost=function(t){return i("/api/posts/add",{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(t,null,2)}).then(o)},s.addComment=function(t){return i("/api/comments/add",{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(t,null,2)}).then(o)},s.getPosts=function(t){var e=t.idx,n=t.cnt,r=t.context,s=t.search,a=t.hideProgress;return i("/api/posts/get/"+(r||"root")+"/"+e+"/"+n,{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify({uuid:tp.user.uuid,search:s}),hideProgress:a}).then(o)},s.getComments=function(t){return i("/api/comments/get/"+t,{method:"GET"}).then(o)},s.getPost=function(t){return i("/api/posts/get/"+t,{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify({uuid:tp.user.uuid})}).then(o)},s.deletePost=function(t){return i("/api/posts/delete/"+t.key+"/"+t.uuid,{method:"GET"}).then(o)},s.removePost=function(t){return i("/api/posts/remove/"+t.key+"/"+t.uuid,{method:"GET"}).then(o)},s.restorePost=function(t){return i("/api/posts/restore/"+t.key+"/"+t.uuid,{method:"GET"}).then(o)},s.viewPost=function(t){return i("/api/posts/view/"+t,{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify({uuid:tp.user.uuid})}).then(o)},s.deleteComment=function(t){return i("/api/comments/delete/"+t.key+"/"+t.uuid,{method:"GET"}).then(o)},s.removeComment=function(t){return i("/api/comments/remove/"+t.key+"/"+t.uuid,{method:"GET"}).then(o)},s.authPost=function(t){return i("/api/posts/auth/"+t.key+"/"+t.uuid,{method:"GET"}).then(o)},s.updatePost=function(t){return i("/api/posts/edit/"+tp.user.uuid,{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(t,null,2)}).then(o)},s.getPostHistory=function(t){return i("/api/posts/history/"+t,{method:"GET"}).then(o)},s.likePost=function(t){return i("/api/posts/likePost/"+t,{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify({uuid:tp.user.uuid})}).then(o)},s.cancelLike=function(t,e){return i("/api/posts/cancelLike/"+t,{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify({uuid:tp.user.uuid})}).then(o)}},212:function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function o(t){return new o.fn.init(t)}t.exports=o,o.fn={init:function(t){"string"==typeof t?(this.sel=t,this.doms=document.querySelectorAll(t),this.length=this.doms.length):t instanceof o.fn.init?(this.sel=t.sel,this.doms=t.doms,this.length=t.length):t instanceof Node?(this.doms=[t],this.length=1):t[0]instanceof Node&&(this.doms=t,this.length=t.length),1===this.length&&(this.dom=this.doms[0])},html:function(t){if(0!=this.length)return void 0===t?this.doms[0].innerHTML:(o._each(this.doms,function(e){e.innerHTML=t}),this)},text:function(t){if(0!=this.length)return void 0===t?this.doms[0].textContent:(o._each(this.doms,function(e){e.textContent=t}),this)},css:function(t,e){if(0!=this.length){if(void 0===e)return this.doms[0].style[t];if("number"==typeof e){["left","top","right","bottom","width","height"].indexOf(t)>=0&&(e+="px")}return o._each(this.doms,function(n){n.style[t]=e}),this}},position:function(){if(0!=this.length){var t=this.doms[0].style.top;t=Number(t.substring(0,t.length-2));var e=this.doms[0].style.left;return{top:t,left:e=Number(e.substring(0,e.length-2))}}},parent:function(t,e){if(0!==this.length){if(void 0===e)e=this.doms[0];else if("BODY"===e.tagName)return;if(void 0===t)return e.parentNode;if("#"===t[0]);else if("."!==t[0])return e.parentNode.tagName===t.toUpperCase()?e.parentNode:this.parent(t,e.parentNode)}},animate:function(){},bind:function(){},attr:function(t,e){if(0!=this.length)return void 0===e?this.doms[0].getAttribute(t):(o._each(this.doms,function(n){n.setAttribute(t,e)}),this)},removeAttr:function(t){if(0!=this.length)return o._each(this.doms,function(e){e.removeAttribute(t)}),this},addClass:function(t){return o._each(this.doms,function(e){var n=e.getAttribute("class");n=null===n?t:n+" "+t,e.setAttribute("class",n)}),this},removeClass:function(t){return o._each(this.doms,function(e){var n=e.getAttribute("class");if(null===n)return this;var r=n.split(" "),o=r.indexOf(t);o<0||(r.splice(o,1),e.setAttribute("class",r.join(" ")))}),this},each:function(t){return o._each(this.doms,function(e,n,r){t.call(e,e,n,r)}),this},remove:function(){o._each(this.doms,function(t){t.parentNode.removeChild(t)})},append:function(t){return o._each(this.doms,function(e){1!==e.nodeType&&11!==e.nodeType&&9!==e.nodeType||e.appendChild(o.clone(t))}),this},prepend:function(t){return o._each(this.doms,function(e){1!==e.nodeType&&11!==e.nodeType&&9!==e.nodeType||e.insertBefore(o.clone(t),e.firstChild)}),this},show:function(){return o._each(this.doms,function(t){t.style.display="block"}),this},hide:function(){return o._each(this.doms,function(t){t.style.display="none"}),this},val:function(t){if(0!=this.length)return void 0===t?this.doms[0].value:(o._each(this.doms,function(e){e.value=t}),this)},focus:function(){0!=this.length&&this.doms[0].focus()}},o.fn.init.prototype=o.fn,o.clone=function(t){var e;if("string"==typeof t){var n=document.createElement("div");n.innerHTML=t,e=n.firstChild}else e=t.cloneNode(!0);return e},o.scrollTo=function(t,e){return window.scrollTo(t,e)},o.txtToHtml=function(t,e){if(e)var n=new RegExp("("+e+")","gi");return t.split("\n").map(function(t){return t.split(" ").map(function(t){var r=t;return e&&(r=r.replace(n,'<span style="background-color:yellow;">$1</span>')),0==t.indexOf("http://")||0==t.indexOf("https://")?'<a href="'+t+'" target="_blank">'+r+"</a>":r}).join(" ").replace(/  /gi,"&nbsp;&nbsp")}).join("<br/>")},o.html=function(t,e){return o(t).html(e)},o.css=function(t,e,n){return o(t).css(e,n)},o.val=function(t,e){return o(t).val(e)},o.show=function(t){return o(t).show()},o.hide=function(t){return o(t).hide()},o._curry=function(t){return function(e,n){return 2===arguments.length?t(e,n):function(n){return t(e,n)}}},o._curryr=function(t){return function(e,n){return 2===arguments.length?t(e,n):function(n){return t(n,e)}}},o._each=o._curryr(function(t,e){if("object"!==(void 0===t?"undefined":r(t))||!t)return[];for(var n=Object.keys(t),o=0;o<n.length;o++)e(t[n[o]],n[o],t);return t}),o._map=o._curryr(function(t,e){var n=[];return o._each(t,function(t,r,o){n.push(e(t,r,o))}),n}),o._filter=o._curryr(function(t,e){var n=[];return o._each(t,function(t,r,o){e(t,r,o)&&n.push(t)}),n}),o._reduce=function(t,e,n){var r=n;return void 0===n&&(r=t&&t[0],t=t&&t.slice(1)),o._each(t,function(t,n,o){r=e(t,r,n,o)}),r},o._slice=function(t,e,n){if("number"==typeof arguments[0]){e=arguments[0],n=arguments[1];return function(t){return Array.prototype.slice.call(t,e,n)}}return Array.prototype.slice.call(t,e,n)},o._join=o._curryr(function(t,e){return Array.prototype.join.call(t,e)}),o._split=o._curryr(function(t,e){return String.prototype.split.call(t,e)}),o._go=function(){var t=arguments,e=o._slice(t,1);return o._pipe(e)(t[0])},o._pipe=function(){var t=Array.isArray(arguments[0])?arguments[0]:arguments;return function(){return o._reduce(t,function(t,e,n,r){return t(e)},arguments[0])}},o._find=o._curryr(function(t,e){if("object"===(void 0===t?"undefined":r(t))&&t)for(var n=Object.keys(t),o=0;o<n.length;o++)if(e(t[n[o]],n[o],t))return t[n[o]]}),o._findIndex=o._curryr(function(t,e){if("object"===(void 0===t?"undefined":r(t))&&t)for(var n=Object.keys(t),o=0;o<n.length;o++)if(e(t[n[o]],n[o],t))return n[o]})},216:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.reducer=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];return{view:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];switch(e.type){case s.SETSEARCH:return Object.assign({},t,{search:e.search});case s.SETUUID:return Object.assign({},t,{uuid:e.uuid});default:return t}}(t.view,e),data:{posts:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1];switch(e.type){case s.ADDPOST:return[e.post].concat(o(t));case s.SCROLLEND:case s.ADDPOSTS:return[].concat(o(t),o(e.posts));case s.INITPOSTS:return[];case s.DELETEPOST:var n=i.clone(t),r=n.findIndex(function(t){return t.key===e.key});return n[r].deleted=!0,n;case s.VIEWPOST:var a=i.clone(t),u=a.findIndex(function(t){return t.key===e.key});return a[u]=Object.assign({},a[u]),a[u].viewCnt=a[u].viewCnt?a[u].viewCnt+1:1,a;case s.RESTOREPOST:var c=i.clone(t),l=c.findIndex(function(t){return t.key===e.key});return c[l].deleted=!1,c;case s.REMOVEPOST:var p=i.clone(t);return p.filter(function(t){return!e.predi(t)});case s.UPDATEPOST:var d=i.clone(t),f=d.findIndex(function(t){return t.key===e.post.key});return e.post.isPrivate?f<0||d.splice(f,1):f<0?d.splice(0,0,e.post):d.splice(f,1,e.post),d.sort(function(t,e){return e.date-t.date}),d;default:return t}}(t.data.posts,e),comments:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1];switch(e.type){case s.ADDCOMMENT:return[].concat(o(t),[e.comment]);case s.ADDCOMMENTS:return[].concat(o(t),o(e.comments));case s.DELETECOMMENT:var n=i.clone(t),r=n.findIndex(function(t){return t.key===e.key});return n[r].deleted=!0,n;case s.REMOVECOMMENT:var a=i.clone(t),u=a.findIndex(function(t){return t.key===e.key});return a.splice(u,1),a;case s.UPDATECOMMENT:var c=i.clone(t),l=c.findIndex(function(t){return t.key===e.comment.key});return c.splice(l,1,e.comment),c;default:return t}}(t.data.comments,e)}}};var r=function(t){return t&&t.__esModule?t:{default:t}}(n(92));function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var i=n(59),s=r.default.type},92:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(58));var o={};e.default=o;var i=o.type={ADDPOST:"ADDPOST",ADDPOSTS:"ADDPOSTS",INITPOSTS:"INITPOSTS",DELETEPOST:"DELETEPOST",UPDATEPOST:"UPDATEPOST",REMOVEPOST:"REMOVEPOST",RESTOREPOST:"RESTOREPOST",VIEWPOST:"VIEWPOST",ADDCOMMENT:"ADDCOMMENT",ADDCOMMENTS:"ADDCOMMENTS",DELETECOMMENT:"DELETECOMMENT",UPDATECOMMENT:"UPDATECOMMENT",REMOVECOMMENT:"REMOVECOMMENT",SETSEARCH:"SETSEARCH",SETUUID:"SETUUID",SCROLLEND:"SCROLLEND"};o.addPost=function(t){return t.key=t.key||r.default.generate(),{type:i.ADDPOST,post:t}},o.initPosts=function(){return{type:i.INITPOSTS}},o.scrollEnd=function(t){return{type:i.SCROLLEND,posts:t}},o.addPosts=function(t){return{type:i.ADDPOSTS,posts:t}},o.deletePost=function(t){return{type:i.DELETEPOST,key:t}},o.removePost=function(t){return{type:i.REMOVEPOST,predi:t}},o.viewPost=function(t){return{type:i.VIEWPOST,key:t}},o.restorePost=function(t){return{type:i.RESTOREPOST,key:t}},o.deleteComment=function(t){return{type:i.DELETECOMMENT,key:t}},o.removeComment=function(t){return{type:i.REMOVECOMMENT,key:t}},o.updatePost=function(t){return{type:i.UPDATEPOST,post:t}},o.addComment=function(t){return{type:i.ADDCOMMENT,comment:t}},o.addComments=function(t){return{type:i.ADDCOMMENTS,comments:t}},o.setSearch=function(t){return{type:i.SETSEARCH,search:t}},o.setUuid=function(t){return{type:i.SETUUID,uuid:t}}},97:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.tp=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=l(n(92)),i=n(211),s=l(n(58)),a=l(n(212)),u=l(n(94)),c=l(n(1));function l(t){return t&&t.__esModule?t:{default:t}}console.log("tp.js start");var p=e.tp={view:{},asyncCache:{},action:o.default,store:void 0,user:void 0,api:i.api,nprogress:u.default,temp:void 0,$m:a.default};p.bodyScroll=function(){if(!p.isScrollLast&&"List"===p.thispage){var t=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight);Math.max(document.documentElement.scrollTop,document.body.scrollTop)+document.documentElement.clientHeight==t&&(u.default.start(),(0,a.default)("#nprogress .spinner").css("top","95%"),p.api.getPosts({idx:p.view.App.state.data.posts.length,cnt:10,search:p.store.getState().view.search,hideProgress:!0,context:p.context}).then(function(t){if(p.store.dispatch(p.action.scrollEnd(t.posts)),t.posts.length<10)return console.log("Scroll has touched bottom"),void(p.isScrollLast=!0)}))}},p.checkStatus=function(t){if("Success"===t.status)return t;throw alert(t.message),Error(t.message)},p.setCookie=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=new Date;r.setTime(r.getTime()+24*n*60*60*1e3);var o="expires="+r.toUTCString();document.cookie=t+"="+e+";"+o+";path=/"},p.getCookie=function(t){for(var e=t+"=",n=decodeURIComponent(document.cookie).split(";"),r=0;r<n.length;r++){for(var o=n[r];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(e))return o.substring(e.length,o.length)}return""},p.isDesktop=function(){return["win16","win32","win64","mac","macintel"].includes(navigator.platform.toLowerCase())},p.highlight=function(t,e){if(e){var n=new RegExp("("+e+")","gi");t=t.replace(n,'<span style="background-color:yellow;">$1</span>')}return t},p.setUser=function(t){var e={uuid:s.default.generate(),writer:""},n=void 0;return n="string"==typeof t?Object.assign(p.user,{uuid:t}):t?Object.assign(p.user,t):e,p.setCookie("user",JSON.stringify(n)),n},p.getUser=function(){return p.getCookie("user")?JSON.parse(p.getCookie("user")):p.setUser()},p.asyncComponent=function(t){return function(e){function n(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return e.state={Component:void 0},e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,c.default.Component),r(n,[{key:"componentDidMount",value:function(){var e=this;t().then(function(t){e.setState({Component:t.default})}).catch(function(t){console.log(t.message)})}},{key:"render",value:function(){var t=this.state.Component;return t?c.default.createElement(t,this.props):c.default.createElement("div",null,"Loading..")}}]),n}()},p.init=function(){p.user=p.getUser()},p.init(),window.tp=p},98:function(t,e,n){"use strict";var r={all_shortcuts:{},add:function(t,e,n){var r={type:"keydown",propagate:!1,disable_in_input:!1,target:document,keycode:!1};if(n)for(var o in r)void 0===n[o]&&(n[o]=r[o]);else n=r;var i=n.target;"string"==typeof n.target&&(i=document.getElementById(n.target));t=t.toLowerCase();var s=function(r){var o,i,s;if((r=r||window.event,n.disable_in_input)&&(r.target?s=r.target:r.srcElement&&(s=r.srcElement),3==s.nodeType&&(s=s.parentNode),"INPUT"==s.tagName||"TEXTAREA"==s.tagName))return;r.keyCode?o=r.keyCode:r.which&&(o=r.which);var a=String.fromCharCode(o).toLowerCase();188==o&&(a=","),190==o&&(a=".");var u=t.split("+"),c=0,l={"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":":","'":'"',",":"<",".":">","/":"?","\\":"|"},p={esc:27,escape:27,tab:9,space:32,return:13,enter:13,backspace:8,scrolllock:145,scroll_lock:145,scroll:145,capslock:20,caps_lock:20,caps:20,numlock:144,num_lock:144,num:144,pause:19,break:19,insert:45,home:36,delete:46,end:35,pageup:33,page_up:33,pu:33,pagedown:34,page_down:34,pd:34,left:37,up:38,right:39,down:40,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},d={shift:{wanted:!1,pressed:!1},ctrl:{wanted:!1,pressed:!1},alt:{wanted:!1,pressed:!1},meta:{wanted:!1,pressed:!1}};r.ctrlKey&&(d.ctrl.pressed=!0),r.shiftKey&&(d.shift.pressed=!0),r.altKey&&(d.alt.pressed=!0),r.metaKey&&(d.meta.pressed=!0);for(var f=0;i=u[f],f<u.length;f++)"ctrl"==i||"control"==i?(c++,d.ctrl.wanted=!0):"shift"==i?(c++,d.shift.wanted=!0):"alt"==i?(c++,d.alt.wanted=!0):"meta"==i?(c++,d.meta.wanted=!0):i.length>1?p[i]==o&&c++:n.keycode?n.keycode==o&&c++:a==i?c++:l[a]&&r.shiftKey&&(a=l[a])==i&&c++;if(c==u.length&&d.ctrl.pressed==d.ctrl.wanted&&d.shift.pressed==d.shift.wanted&&d.alt.pressed==d.alt.wanted&&d.meta.pressed==d.meta.wanted&&(e(r),!n.propagate))return r.cancelBubble=!0,r.returnValue=!1,r.stopPropagation&&(r.stopPropagation(),r.preventDefault()),!1};this.all_shortcuts[t]={callback:s,target:i,event:n.type},i.addEventListener?i.addEventListener(n.type,s,!1):i.attachEvent?i.attachEvent("on"+n.type,s):i["on"+n.type]=s},remove:function(t){t=t.toLowerCase();var e=this.all_shortcuts[t];if(delete this.all_shortcuts[t],e){var n=e.event,r=e.target,o=e.callback;r.detachEvent?r.detachEvent("on"+n,o):r.removeEventListener?r.removeEventListener(n,o,!1):r["on"+n]=!1}}};t.exports=r},99:function(t,e,n){"use strict";var r=a(n(1)),o=a(n(57)),i=n(190);n(195),n(198);var s=a(n(200));function a(t){return t&&t.__esModule?t:{default:t}}o.default.render(r.default.createElement(i.AppContainer,null,r.default.createElement(s.default,null)),document.getElementById("root"))}});
(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{402:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),r=c(o(1)),s=o(29),i=c(o(239)),p=o(22),a=o(50);function c(t){return t&&t.__esModule?t:{default:t}}o(472),console.log("PostHistory.js start");var u=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),console.log("PostHistory 생성자 호출");var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return o.state={phist:p.tp.store.getState().data.posts.filter(function(t){return t.origin===o.props.postKey})},0===o.state.phist.length&&p.tp.api.getPostHistory(o.props.postKey).then(p.tp.checkStatus).then(function(t){t.posts.length>0?p.tp.store.dispatch(p.tp.action.addPosts(t.posts)):p.tp.alert("Have no changes")}),o.contextPath=o.props.context?"/"+o.props.context:"",o.unsubscribe=p.tp.store.subscribe(function(){console.log("PostHistory 가 store 상태변경 노티 받음"),o.setState({phist:p.tp.store.getState().data.posts.filter(function(t){return t.origin===o.props.postKey})})}),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.default.Component),n(e,[{key:"componentWillUnmount",value:function(){console.log("# PostHistory unsubscribe store.."),this.unsubscribe()}},{key:"componentDidMount",value:function(){document.title=(this.props.context||"Anony")+" - "+p.tp.thispage}},{key:"render",value:function(){var t=this;return console.log("PostHistory 렌더링.."),r.default.createElement("div",{className:"postHistory"},this.state.phist.map(function(e){return r.default.createElement(i.default,{history:t.props.history,context:t.props.context,key:e.key,post:e})}),r.default.createElement("div",{className:"btnWrapper"},r.default.createElement(a.Link,{to:this.contextPath+"/post/"+this.props.postKey},r.default.createElement(s.Button,{bsStyle:"success"},r.default.createElement("i",{className:"icon-to-end"}),"Last"))))}}]),e}();e.default=u},472:function(t,e,o){var n=o(473);"string"==typeof n&&(n=[[t.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};o(15)(n,r);n.locals&&(t.exports=n.locals)},473:function(t,e,o){(t.exports=o(14)(!1)).push([t.i,"/* List component */\n.postHistory {\n  margin: 0px; }\n  .postHistory .btnWrapper {\n    background-color: #fff;\n    padding-left: 15px;\n    padding-top: 10px; }\n    .postHistory .btnWrapper .btn {\n      opacity: 0.7;\n      font-size: 12px;\n      padding-top: 3px;\n      padding-bottom: 2px;\n      padding-left: 2px;\n      padding-right: 8px; }\n",""])}}]);
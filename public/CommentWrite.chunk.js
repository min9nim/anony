(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{249:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=s(n(1)),i=n(231),a=s(n(58));function s(t){return t&&t.__esModule?t:{default:t}}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n(250);var l=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.handleChange=n.handleChange.bind(n),n.saveComment=n.saveComment.bind(n),n.state={key:"",writer:tp.user.writer,content:"",uuid:tp.user.uuid,postKey:n.props.postKey,commentKey:"",date:""},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.default.Component),o(e,[{key:"shouldComponentUpdate",value:function(t,e){return!0}},{key:"handleChange",value:function(t){var e={};e[t.target.id]=t.target.value,this.setState(e),"content"===t.target.id&&(t.target.style.height=2+t.target.scrollHeight+"px")}},{key:"saveComment",value:function(){var t,e=this;if(""!==this.state.content){var n=(c(t={key:a.default.generate(),writer:this.state.writer.trim(),content:this.state.content.trim(),uuid:this.state.uuid,postKey:this.state.postKey,date:Date.now()},"uuid",tp.user.uuid),c(t,"commentKey",""),t);tp.api.addComment(n).then(function(t){console.log("# "+t.message),tp.store.dispatch(tp.action.addComment(n));var o=tp.store.getState().data.posts.find(function(t){return t.key===e.state.postKey});o.commentCnt=o.commentCnt?o.commentCnt+1:1,tp.store.dispatch(tp.action.updatePost(o)),e.setState({content:""}),tp.setUser({writer:n.writer}),document.getElementById("content").style.height=""})}else alert("No input")}},{key:"render",value:function(){return console.log("Comment 렌더링.."),r.default.createElement("div",{className:"comment-write"},r.default.createElement("div",{className:"writer"},r.default.createElement(i.FormControl,{id:"writer",value:this.state.writer,onChange:this.handleChange,placeholder:"Writer.."})),r.default.createElement("div",{className:"content"},r.default.createElement(i.FormControl,{id:"content",value:this.state.content,onChange:this.handleChange,componentClass:"textarea",placeholder:"Comment.."})),r.default.createElement("div",{className:"confirmBtn"},r.default.createElement(i.Button,{bsStyle:"success",onClick:this.saveComment},"Confirm")))}}]),e}();e.default=l},250:function(t,e,n){var o=n(251);"string"==typeof o&&(o=[[t.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(56)(o,r);o.locals&&(t.exports=o.locals)},251:function(t,e,n){(t.exports=n(55)(!1)).push([t.i,"/* Comment component */\n.comment-write {\n  margin: 20px; }\n  .comment-write .writer {\n    display: inline-block;\n    width: 100px;\n    margin-bottom: 0px; }\n  .comment-write .content {\n    position: absolute;\n    display: inline-block;\n    width: calc(100% - 220px);\n    margin: 0px 3px; }\n    .comment-write .content textarea {\n      position: absolute;\n      height: 34px;\n      overflow: visible; }\n    .comment-write .content textarea.autosize {\n      min-height: 34px; }\n  .comment-write .confirmBtn {\n    position: absolute;\n    right: 20px;\n    display: inline-block;\n    width: 70px;\n    margin: 1px 0px; }\n",""])}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{400:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=u(n(1)),r=n(29),s=n(35),a=n(20),l=n(50),c=u(n(89)),p=u(n(240));function u(t){return t&&t.__esModule?t:{default:t}}function d(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}n(412);var f=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=d(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.logoClick=n.logoClick.bind(n),n.state={posts:a.tp.store.getState().data.posts.filter(function(t){return void 0===t.origin})},a.tp.view.List=n,n.props.context&&n.props.context.length>a.tp.MAXCONTEXTLEN?(alert("채널이름은 최대 "+a.tp.MAXCONTEXTLEN+"자 까지 가능합니다"),history.back(),d(n)):(a.tp.context=n.props.context&&n.props.context.length<=a.tp.MAXCONTEXTLEN?n.props.context:"public",(a.tp.store.getState().data.posts.filter(function(t){return void 0===t.origin}).length<=1&&""===a.tp.store.getState().view.search||a.tp.store.getState().data.posts.map(function(t){return t.context}).filter(function(t,e,n){return n.indexOf(t)===e}).length>1)&&a.tp.api.getPosts({idx:0,cnt:10,context:a.tp.context}).then(a.tp.checkStatus).then(function(t){return a.tp.store.dispatch(a.tp.action.setPosts(t.posts))}),n.unsubscribe=a.tp.store.subscribe(function(){n.setState(a.tp.store.getState().data)}),n)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.default.Component),o(e,[{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"componentDidMount",value:function(){document.title=(a.tp.context||"Anony")+" - "+a.tp.thispage,a.tp.$m.scrollTo(0,a.tp.scrollTop)}},{key:"logoClick",value:function(){a.tp.store.dispatch(a.tp.action.setSearch("")),a.tp.isScrollLast=!1,a.tp.api.getPosts({idx:0,cnt:10,context:a.tp.context}).then(a.tp.checkStatus).then(function(t){return a.tp.store.dispatch(a.tp.action.setPosts(t.posts))})}},{key:"shouldComponentUpdate",value:function(t,e){return this.state.posts.length!==e.posts.length?(console.log("목록 개수가 달라서 List 렌더링"),!0):(console.log("List 렌더링 안함 "),!1)}},{key:"render",value:function(){var t=this,e=(a.tp.user.uuid,a.tp.context&&a.tp.context,a.tp.user.uuid),n=a.tp.context?" /"+a.tp.context:"",o=a.tp.store.getState().view.search;return o&&" > "+o+"'s result",i.default.createElement("div",{className:"list"},i.default.createElement("div",{className:"header"},i.default.createElement("div",{className:"logo"},i.default.createElement("img",{src:"/image/logo_transparent.png",onClick:this.logoClick})),i.default.createElement(s.Search,{context:a.tp.context}),i.default.createElement("div",{className:"menu-title"},!o&&i.default.createElement(s.Menu,null),i.default.createElement("div",{className:"uuid"},e)),i.default.createElement("div",{className:"channel"},n)),this.state.posts.map(function(e){return i.default.createElement(s.Excerpt,{history:t.props.history,key:e.key,post:e,context:a.tp.context})}),i.default.createElement(s.ListLoader,null),""!==a.tp.store.getState().view.search&&i.default.createElement("div",{className:"backBtn"},i.default.createElement(r.Button,{bsStyle:"success",onClick:this.logoClick},"Back")),i.default.createElement("div",{className:"writeBtn"},i.default.createElement(l.Link,{to:"/"+a.tp.context+"/write"},i.default.createElement(r.Button,{bsStyle:"success"},i.default.createElement("i",{className:"icon-doc-new"}),"Write"))))}}]),e}();e.default=f,document.body.onscroll=function(){if("List"===a.tp.thispage&&!a.tp.view.ListLoader.state.loading){var t=Math.max(document.documentElement.scrollTop,document.body.scrollTop);if(a.tp.scrollTop=t,!a.tp.isScrollLast){var e=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),n=document.documentElement.clientHeight;(t+n==e||a.tp.isMobileChrome()&&t+n==e-56)&&(c.default.start(),(0,p.default)("#nprogress .spinner").css("top","95%"),a.tp.view.ListLoader.setState({loading:!0}),a.tp.api.getPosts({idx:a.tp.store.getState().data.posts.filter(function(t){return void 0===t.origin}).length,cnt:10,search:a.tp.store.getState().view.search,hideProgress:!0,context:a.tp.context}).then(function(t){a.tp.view.ListLoader.setState({loading:!1}),a.tp.store.dispatch(a.tp.action.scrollEnd(t.posts)),t.posts.length<10&&(a.tp.isScrollLast=!0)}))}}}},412:function(t,e,n){var o=n(413);"string"==typeof o&&(o=[[t.i,o,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(15)(o,i);o.locals&&(t.exports=o.locals)},413:function(t,e,n){(t.exports=n(14)(!1)).push([t.i,"/* List component */\n.list {\n  margin: 0px; }\n  .list .header {\n    display: flex;\n    flex-wrap: wrap;\n    color: #aaa;\n    background-color: #fff;\n    padding: 3px 15px 3px 10px;\n    margin-bottom: 4px;\n    border-bottom: 1px solid #eee; }\n    .list .header .logo {\n      flex: 1;\n      min-width: 110px; }\n      .list .header .logo img {\n        position: absolute;\n        width: 110px;\n        cursor: pointer;\n        filter: grayscale(100%);\n        opacity: 0.4; }\n    .list .header .Search {\n      text-align: left;\n      margin-right: 15px; }\n    .list .header .channel {\n      margin-left: 5px;\n      display: inline-block;\n      font-size: 16px; }\n    .list .header .status {\n      margin-left: 5px;\n      display: inline-block;\n      font-size: 16px; }\n    .list .header .menu-title {\n      text-align: right; }\n      .list .header .menu-title .uuid {\n        display: inline-block;\n        font-size: 16px;\n        cursor: pointer; }\n  .list .writeBtn {\n    padding-right: 15px;\n    position: fixed;\n    bottom: 15px;\n    width: 100%;\n    max-width: 800px;\n    text-align: right;\n    opacity: 0.7; }\n    .list .writeBtn .btn {\n      padding-top: 5px;\n      padding-bottom: 5px;\n      padding-left: 7px;\n      padding-right: 10px; }\n  .list .backBtn {\n    background-color: #fff;\n    padding-left: 15px;\n    padding-top: 10px; }\n",""])}}]);
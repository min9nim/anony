(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["Post"],{

/***/ "./node_modules/css-loader/index.js!./node_modules/sass-loader/lib/loader.js!./src/Pages/Post.scss":
/*!************************************************************************************************!*\
  !*** ./node_modules/css-loader!./node_modules/sass-loader/lib/loader.js!./src/Pages/Post.scss ***!
  \************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("exports = module.exports = __webpack_require__(/*! ../../node_modules/css-loader/lib/css-base.js */ \"./node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.i, \"/* Post component */\\n.post {\\n  margin: 20px; }\\n  .post .title {\\n    display: inline-block;\\n    width: 100%;\\n    margin: 0px;\\n    color: #555;\\n    font-size: 24px;\\n    text-align: right;\\n    margin-bottom: 20px; }\\n    .post .title sup {\\n      font-size: 14px;\\n      margin-left: 20px;\\n      color: #999; }\\n  .post .meta {\\n    color: #aaa;\\n    font-size: 12px;\\n    display: inline-block; }\\n  .post .postMenu {\\n    margin-top: -6px; }\\n  .post .content {\\n    margin-top: 20px;\\n    color: #777;\\n    font-size: 18px; }\\n  .post .markdown {\\n    margin-top: 20px;\\n    color: #777;\\n    font-size: 16px; }\\n  .post .btn {\\n    margin-top: 30px;\\n    margin-right: 3px;\\n    padding: 4px 10px; }\\n  .post .deleted {\\n    text-decoration: line-through;\\n    color: #ccc; }\\n\", \"\"]);\n\n// exports\n\n\n//# sourceURL=webpack:///./src/Pages/Post.scss?./node_modules/css-loader!./node_modules/sass-loader/lib/loader.js");

/***/ }),

/***/ "./node_modules/css-loader/index.js!./node_modules/sass-loader/lib/loader.js!./src/css/hljsTheme/xcode.css":
/*!********************************************************************************************************!*\
  !*** ./node_modules/css-loader!./node_modules/sass-loader/lib/loader.js!./src/css/hljsTheme/xcode.css ***!
  \********************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("exports = module.exports = __webpack_require__(/*! ../../../node_modules/css-loader/lib/css-base.js */ \"./node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.i, \"/*\\r\\n\\r\\nXCode style (c) Angel Garcia <angelgarcia.mail@gmail.com>\\r\\n\\r\\n*/\\n.hljs {\\n  display: block;\\n  overflow-x: auto;\\n  padding: 0.5em;\\n  background: #fff;\\n  color: black; }\\n\\n.hljs-comment,\\n.hljs-quote {\\n  color: #006a00; }\\n\\n.hljs-keyword,\\n.hljs-selector-tag,\\n.hljs-literal {\\n  color: #aa0d91; }\\n\\n.hljs-name {\\n  color: #008; }\\n\\n.hljs-variable,\\n.hljs-template-variable {\\n  color: #660; }\\n\\n.hljs-string {\\n  color: #c41a16; }\\n\\n.hljs-regexp,\\n.hljs-link {\\n  color: #080; }\\n\\n.hljs-title,\\n.hljs-tag,\\n.hljs-symbol,\\n.hljs-bullet,\\n.hljs-number,\\n.hljs-meta {\\n  color: #1c00cf; }\\n\\n.hljs-section,\\n.hljs-class .hljs-title,\\n.hljs-type,\\n.hljs-attr,\\n.hljs-built_in,\\n.hljs-builtin-name,\\n.hljs-params {\\n  color: #5c2699; }\\n\\n.hljs-attribute,\\n.hljs-subst {\\n  color: #000; }\\n\\n.hljs-formula {\\n  background-color: #eee;\\n  font-style: italic; }\\n\\n.hljs-addition {\\n  background-color: #baeeba; }\\n\\n.hljs-deletion {\\n  background-color: #ffc8bd; }\\n\\n.hljs-selector-id,\\n.hljs-selector-class {\\n  color: #9b703f; }\\n\\n.hljs-doctag,\\n.hljs-strong {\\n  font-weight: bold; }\\n\\n.hljs-emphasis {\\n  font-style: italic; }\\n\", \"\"]);\n\n// exports\n\n\n//# sourceURL=webpack:///./src/css/hljsTheme/xcode.css?./node_modules/css-loader!./node_modules/sass-loader/lib/loader.js");

/***/ }),

/***/ "./src/Pages/Post.js":
/*!***************************!*\
  !*** ./src/Pages/Post.js ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(/*! react */ \"./node_modules/react/react.js\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _tp = __webpack_require__(/*! ../tp */ \"./src/tp.js\");\n\nvar _ramda = __webpack_require__(/*! ramda */ \"./node_modules/ramda/es/index.js\");\n\nvar _ramda2 = _interopRequireDefault(_ramda);\n\nvar _moment = __webpack_require__(/*! moment */ \"./node_modules/moment/moment.js\");\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _components = __webpack_require__(/*! ../components */ \"./src/components/index.js\");\n\nvar _reactBootstrap = __webpack_require__(/*! react-bootstrap */ \"./node_modules/react-bootstrap/es/index.js\");\n\nvar _reactRouterDom = __webpack_require__(/*! react-router-dom */ \"./node_modules/react-router-dom/es/index.js\");\n\nvar _remarkable = __webpack_require__(/*! remarkable */ \"./node_modules/remarkable/index.js\");\n\nvar _remarkable2 = _interopRequireDefault(_remarkable);\n\nvar _highlight = __webpack_require__(/*! highlight.js */ \"./node_modules/highlight.js/lib/index.js\");\n\nvar _highlight2 = _interopRequireDefault(_highlight);\n\nvar _shortcut = __webpack_require__(/*! ../ext/shortcut */ \"./src/ext/shortcut.js\");\n\nvar _shortcut2 = _interopRequireDefault(_shortcut);\n\n__webpack_require__(/*! ./Post.scss */ \"./src/Pages/Post.scss\");\n\n__webpack_require__(/*! ../css/hljsTheme/xcode.css */ \"./src/css/hljsTheme/xcode.css\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Post = function (_React$Component) {\n    _inherits(Post, _React$Component);\n\n    function Post(props) {\n        _classCallCheck(this, Post);\n\n        console.log(\"Post 생성자 호출\");\n\n        var _this = _possibleConstructorReturn(this, (Post.__proto__ || Object.getPrototypeOf(Post)).call(this, props));\n\n        _this.state = {\n            key: \"\",\n            title: \"\",\n            writer: \"\",\n            content: \"\",\n            date: \"\",\n            deleted: false,\n            uuid: \"\"\n        };\n\n        _shortcut2.default.add(\"Alt+E\", function () {\n            if (location.pathname.indexOf(\"post\") >= 0) {\n                // 글보기 화면인 경우에만\n                _this.props.history.push(location.pathname.replace(\"post\", \"edit\"));\n            }\n        });\n\n        _this.contextPath = _this.props.context ? \"/\" + _this.props.context : \"\";\n        _tp.tp.view.Post = _this;\n\n        _this.md = new _remarkable2.default({\n            html: true,\n            linkify: true,\n            xhtmlOut: true,\n            breaks: true,\n            // Highlighter function. Should return escaped HTML,\n            // or '' if the source string is not changed\n            highlight: function highlight(str, lang) {\n                if (lang && _highlight2.default.getLanguage(lang)) {\n                    try {\n                        return _highlight2.default.highlight(lang, str).value;\n                    } catch (err) {}\n                }\n\n                try {\n                    return _highlight2.default.highlightAuto(str).value;\n                } catch (err) {}\n\n                return ''; // use external default escaping\n            }\n        });\n\n        if (_this.props.post) {\n            var diff = Date.now() - _this.props.post.date;\n            console.log(\"# diff = \" + diff);\n            if (diff < 1000) {\n                // 1. 글등록이나 수정하고 바로 들어온 경우\n                // 조회수 증가 처리 필요없고, 스토어 업데이트도 필요없음\n            } else {\n                // 2. List 에서 글 선택해서 들어온 경우\n                // - viewPost 호출한 후에 store 업데이트 필요\n                _tp.tp.api.viewPost(_this.props.postKey).then(function (res) {\n                    if (res.status == \"Success\") {\n                        // 일반post 인 경우\n                        _tp.tp.store.dispatch(_tp.tp.action.viewPost(_this.props.postKey));\n                    } else {\n                        // 수정내역post 인 경우\n                    }\n                });\n            }\n        } else {\n            // 3. 직접URL로 치고 들어온 경우\n            // - viewPost 호출한 후에 getPost로 응답결과를 그냥 화면에 보여주면 됨\n            // - store 업데이트 필요없음\n            _tp.tp.api.viewPost(_this.props.postKey).then(function (res) {\n                if (res.status == \"Success\") {\n                    // 일반post 인 경우\n                    _tp.tp.store.dispatch(_tp.tp.action.addPost(res.output));\n                } else {\n                    // 수정내역post 인 경우\n                    _tp.tp.api.getPost(_this.props.postKey).then(_ramda2.default.pipe(_tp.tp.checkStatus, _ramda2.default.prop(\"post\"), _tp.tp.action.addPost, _tp.tp.store.dispatch));\n                }\n            });\n        }\n\n        return _this;\n    }\n\n    _createClass(Post, [{\n        key: \"componentDidMount\",\n        value: function componentDidMount() {\n            // 이거는 컴포넌트가 dom에 로드될 때 최초 한번밖에 호출이 안되네\n            document.title = this.state.title;\n        }\n    }, {\n        key: \"render\",\n        value: function render() {\n            console.log(\"Post 렌더링\");\n            if (this.props.post) {\n                // post 프롭이 들어오는 경우는 다시 업데이트하지 말라고 일부러 setState 를 사용하지 않고 state를 갱신함\n                this.state = this.props.post;\n\n                // 해당 글로 직접 access 한 경우에도 타이틀 세팅해주려면 여기서 한번 더 타이틀 설정이 필요함\n                document.title = this.state.title;\n            } else {\n                return _react2.default.createElement(\"div\", null);\n            }\n\n            var title = void 0;\n            var search = _tp.tp.store.getState().view.search;\n            title = _tp.tp.highlight(this.state.title, search);\n            title += this.state.isPrivate ? _react2.default.createElement(\n                \"sup\",\n                null,\n                \" - Private -\"\n            ) : \"\";\n\n            function nl2br(str) {\n                return str.replace(/\\n\\n\\n/g, \"\\n<br><br>\\n\").replace(/\\n\\n/g, \"\\n<br>\\n\");\n            }\n\n            function highlight_nl2br(str) {\n                return str.split(\"```\").map(function (v, i) {\n                    return i % 2 ? v : v.split(\"`\").map(function (v, i) {\n                        return i % 2 ? v : nl2br(_tp.tp.highlight(v, search));\n                    }).join(\"`\");\n                }).join(\"```\");\n            }\n\n            // const searchHighlight = R.curry(tp.highlight)(R.__, search);\n            // const highlight_nl2br = R.pipe(\n            //     R.split(\"```\"),\n            //     R.map(R.ifElse(\n            //         (v, i) => i%2,\n            //         R.identity,\n            //         R.pipe(searchHighlight, nl2br)\n            //     )),\n            //     R.join(\"```\")\n            // );        \n\n\n            var contentClass = this.state.isMarkdown ? \"markdown\" : \"content\";\n            var contentStyle = this.state.deleted ? contentClass + \"  deleted\" : contentClass;\n            var content = this.state.isMarkdown ? this.md.render(highlight_nl2br(this.state.content)) : _tp.tp.$m.txtToHtml(this.state.content, search);\n\n            return _react2.default.createElement(\n                \"div\",\n                null,\n                _react2.default.createElement(\n                    \"div\",\n                    { className: \"context\" },\n                    this.props.context || \"Anony\"\n                ),\n                _react2.default.createElement(\n                    \"div\",\n                    { className: \"post\" },\n                    _react2.default.createElement(\n                        \"div\",\n                        null,\n                        _react2.default.createElement(\"div\", { className: this.state.deleted ? \"title h4 deleted\" : \"title h4\",\n                            dangerouslySetInnerHTML: { __html: title } })\n                    ),\n                    _react2.default.createElement(\n                        \"div\",\n                        null,\n                        _react2.default.createElement(\n                            \"div\",\n                            { className: \"meta\" },\n                            this.state.writer,\n                            \" - \",\n                            (0, _moment2.default)(this.state.date).format('MM/DD/YYYY dd HH:mm')\n                        ),\n                        !this.state.origin && _react2.default.createElement(_components.PostMenu, { history: this.props.history, postKey: this.state.key, postDeleted: this.state.deleted, context: this.props.context })\n                    ),\n                    _react2.default.createElement(\"div\", { className: contentStyle, dangerouslySetInnerHTML: { __html: content } }),\n                    _react2.default.createElement(_components.PostMeta, { post: this.state }),\n                    !!this.state.origin || this.state.isPrivate || _react2.default.createElement(\n                        \"div\",\n                        null,\n                        _react2.default.createElement(\n                            _reactRouterDom.Link,\n                            { to: this.contextPath + \"/list\" },\n                            _react2.default.createElement(\n                                _reactBootstrap.Button,\n                                { bsStyle: \"success\", className: \"listBtn\" },\n                                \"List\"\n                            )\n                        ),\n                        _react2.default.createElement(\n                            _reactRouterDom.Link,\n                            { to: this.contextPath + \"/write\" },\n                            _react2.default.createElement(\n                                _reactBootstrap.Button,\n                                { bsStyle: \"success\", className: \"writeBtn\" },\n                                \"Write\"\n                            )\n                        )\n                    ),\n                    this.state.origin && _react2.default.createElement(\n                        _reactRouterDom.Link,\n                        { to: this.contextPath + \"/postHistory/\" + this.state.origin },\n                        _react2.default.createElement(\n                            _reactBootstrap.Button,\n                            { bsStyle: \"success\", className: \"writeBtn\" },\n                            \"History\"\n                        )\n                    )\n                ),\n                !this.state.origin && this.state.hasComment && _react2.default.createElement(\n                    \"div\",\n                    null,\n                    _react2.default.createElement(_components.CommentList, { postKey: this.state.key, ff: \"ff\", commentCnt: this.state.commentCnt }),\n                    this.state.deleted || _react2.default.createElement(_components.CommentWrite, { postKey: this.state.key })\n                )\n            );\n        }\n    }]);\n\n    return Post;\n}(_react2.default.Component);\n\nvar _default = Post;\nexports.default = _default;\n;\n\nvar _temp = function () {\n    if (typeof __REACT_HOT_LOADER__ === 'undefined') {\n        return;\n    }\n\n    __REACT_HOT_LOADER__.register(Post, \"Post\", \"C:/Users/myData/project/anony/src/Pages/Post.js\");\n\n    __REACT_HOT_LOADER__.register(_default, \"default\", \"C:/Users/myData/project/anony/src/Pages/Post.js\");\n}();\n\n;\n\n//# sourceURL=webpack:///./src/Pages/Post.js?");

/***/ }),

/***/ "./src/Pages/Post.scss":
/*!*****************************!*\
  !*** ./src/Pages/Post.scss ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("\nvar content = __webpack_require__(/*! !../../node_modules/css-loader!../../node_modules/sass-loader/lib/loader.js!./Post.scss */ \"./node_modules/css-loader/index.js!./node_modules/sass-loader/lib/loader.js!./src/Pages/Post.scss\");\n\nif(typeof content === 'string') content = [[module.i, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = __webpack_require__(/*! ../../node_modules/style-loader/lib/addStyles.js */ \"./node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(true) {\n\tmodule.hot.accept(/*! !../../node_modules/css-loader!../../node_modules/sass-loader/lib/loader.js!./Post.scss */ \"./node_modules/css-loader/index.js!./node_modules/sass-loader/lib/loader.js!./src/Pages/Post.scss\", function() {\n\t\tvar newContent = __webpack_require__(/*! !../../node_modules/css-loader!../../node_modules/sass-loader/lib/loader.js!./Post.scss */ \"./node_modules/css-loader/index.js!./node_modules/sass-loader/lib/loader.js!./src/Pages/Post.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.i, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}\n\n//# sourceURL=webpack:///./src/Pages/Post.scss?");

/***/ }),

/***/ "./src/css/hljsTheme/xcode.css":
/*!*************************************!*\
  !*** ./src/css/hljsTheme/xcode.css ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("\nvar content = __webpack_require__(/*! !../../../node_modules/css-loader!../../../node_modules/sass-loader/lib/loader.js!./xcode.css */ \"./node_modules/css-loader/index.js!./node_modules/sass-loader/lib/loader.js!./src/css/hljsTheme/xcode.css\");\n\nif(typeof content === 'string') content = [[module.i, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = __webpack_require__(/*! ../../../node_modules/style-loader/lib/addStyles.js */ \"./node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(true) {\n\tmodule.hot.accept(/*! !../../../node_modules/css-loader!../../../node_modules/sass-loader/lib/loader.js!./xcode.css */ \"./node_modules/css-loader/index.js!./node_modules/sass-loader/lib/loader.js!./src/css/hljsTheme/xcode.css\", function() {\n\t\tvar newContent = __webpack_require__(/*! !../../../node_modules/css-loader!../../../node_modules/sass-loader/lib/loader.js!./xcode.css */ \"./node_modules/css-loader/index.js!./node_modules/sass-loader/lib/loader.js!./src/css/hljsTheme/xcode.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.i, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}\n\n//# sourceURL=webpack:///./src/css/hljsTheme/xcode.css?");

/***/ })

}]);
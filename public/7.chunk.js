(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{715:function(t,e,n){var o=n(27),i=n(716);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var r={insert:"head",singleton:!1},a=(o(i,r),i.locals?i.locals:{});t.exports=a},716:function(t,e,n){(e=n(28)(!1)).push([t.i,".list{margin:0px}.list .header{display:flex;flex-wrap:wrap;color:#aaa;background-color:#fff;padding:3px 15px 3px 10px;margin-bottom:4px;border-bottom:1px solid #eee}.list .header .logo{min-width:110px}.list .header .logo img{position:absolute;width:110px;cursor:pointer;filter:grayscale(100%);opacity:0.4}.list .header .search{text-align:left;margin-right:15px;flex:1;display:flex}.list .header .channel{margin-left:5px;display:inline-block;font-size:16px}.list .header .status{margin-left:5px;display:inline-block;font-size:16px}.list .header .menu-title{text-align:right}.list .header .menu-title .menu{display:inline-block;font-size:16px;cursor:pointer}.list .header .menu-title .uuid{display:inline-block;font-size:16px;cursor:pointer}.list .writeBtn{padding-right:15px;position:fixed;bottom:15px;width:100%;max-width:800px;text-align:right;opacity:0.7}.list .writeBtn .btn{padding-top:5px;padding-bottom:5px;padding-left:7px;padding-right:10px}.list .backBtn{background-color:#fff;padding-left:15px;padding-top:10px}@media screen and (max-width: 400px){.list .header .search{order:1}.logo{flex:1}div.header>div.search>div.ipt-wrapper{max-width:initial}}.channels-wrappter{position:fixed;left:20px;top:50px}@media screen and (max-width: 1090px){.channels-wrappter .my-channels{display:none}}\n",""]),t.exports=e},954:function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return v});var o=n(0),r=n.n(o),a=n(18),s=n(104),c=n(9),l=n(105),i=n(106),u=n.n(i),p=n(88),d=n.n(p);n(715);function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function b(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function m(o){return function(){var t,e=x(o);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return;if(Reflect.construct.sham)return;if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(t){return}}()){var n=x(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return h(this,t)}}function h(t,e){return!e||"object"!==f(e)&&"function"!=typeof e?g(t):e}function g(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x(t){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var v=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(i,r.a.Component);var t,e,n,o=m(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).logoClick=e.logoClick.bind(g(e)),e.state={channels:c.b.store.getState().data.channels,comments:[],posts:c.b.store.getState().data.posts.filter(function(t){return void 0===t.origin}),menuClicked:!1},c.b.view.List=g(e),e.props.context&&e.props.context.length>c.b.MAXCONTEXTLEN?(alert("채널이름은 최대 ".concat(c.b.MAXCONTEXTLEN,"자 까지 가능합니다")),history.back(),h(e)):(c.b.context=e.props.context&&e.props.context.length<=c.b.MAXCONTEXTLEN?e.props.context:"public",(c.b.store.getState().data.posts.filter(function(t){return void 0===t.origin}).length<=1&&""===c.b.store.getState().view.search||1<c.b.store.getState().data.posts.map(function(t){return t.context}).filter(function(t,e,n){return n.indexOf(t)===e}).length)&&c.b.api.getPosts({idx:0,cnt:10,context:c.b.context}).then(function(t){return c.b.store.dispatch(c.b.action.setPosts(t.posts))}),e)}return t=i,(e=[{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"componentDidMount",value:function(){var t=this;document.title=(c.b.context||"Anony")+" - "+c.b.thispage,c.b.$m.scrollTo(0,c.b.scrollTop),this.unsubscribe=c.b.store.subscribe(function(){t.setState(c.b.store.getState().data)})}},{key:"logoClick",value:function(){c.b.store.dispatch(c.b.action.setSearch("")),c.b.isScrollLast=!1,c.b.api.getPosts({idx:0,cnt:10,context:c.b.context}).then(function(t){return c.b.store.dispatch(c.b.action.setPosts(t.posts))})}},{key:"shouldComponentUpdate",value:function(t,e){return this.state.posts!==e.posts||(this.state.channels!==e.channels||(this.state.menuClicked!==e.menuClicked||(c.b.logger.verbose("List 렌더링 안함 "),!1)))}},{key:"render",value:function(){var e=this,t=(c.b.user.uuid,c.b.context&&c.b.context,c.b.user.uuid),n=c.b.context?" /"+c.b.context:"",o=c.b.store.getState().view.search;return o&&" > ".concat(o,"'s result"),r.a.createElement("div",{className:"list"},r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"logo"},r.a.createElement("img",{src:"/image/logo_transparent.png",onClick:this.logoClick})),r.a.createElement(s.o,{context:c.b.context}),r.a.createElement("div",{className:"menu-title"},r.a.createElement("div",{className:"icon-menu-1 menu",onClick:function(){return e.setState({menuClicked:!0})}}),r.a.createElement("div",{className:"uuid"},t)),r.a.createElement("div",{className:"channel"},n)),this.state.posts.map(function(t){return r.a.createElement(s.h,{history:e.props.history,key:t.key,post:t,context:c.b.context})}),r.a.createElement(s.i,null),""!==c.b.store.getState().view.search&&r.a.createElement("div",{className:"backBtn"},r.a.createElement(a.Button,{bsStyle:"success",onClick:this.logoClick},"Back")),r.a.createElement("div",{className:"writeBtn"},r.a.createElement(l.a,{to:"/"+c.b.context+"/write"},r.a.createElement(a.Button,{bsStyle:"success"},r.a.createElement("i",{className:"icon-doc-new"}),"Write"))),r.a.createElement("div",{className:"channels-wrappter"},r.a.createElement(s.l,null)),this.state.menuClicked&&r.a.createElement(s.k,null))}}])&&b(t.prototype,e),n&&b(t,n),i}();document.body.onscroll=function(){if("List"===c.b.thispage&&!c.b.view.ListLoader.state.loading){var t=Math.max(document.documentElement.scrollTop,document.body.scrollTop);if(c.b.scrollTop=t,!c.b.isScrollLast){var e=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),n=document.documentElement.clientHeight;(t+n==e||c.b.isMobileChrome()&&e-57<t+n)&&(c.b.logger.verbose("@@ 다음 페이지 호출~"),u.a.start(),d()("#nprogress .spinner").css("top","95%"),c.b.view.ListLoader.setState({loading:!0}),c.b.api.getPosts({idx:c.b.store.getState().data.posts.filter(function(t){return void 0===t.origin}).length,cnt:10,search:c.b.store.getState().view.search,hideProgress:!0,context:c.b.context}).then(function(t){c.b.view.ListLoader.setState({loading:!1}),c.b.store.dispatch(c.b.action.scrollEnd(t.posts)),t.posts.length<10&&(c.b.isScrollLast=!0)}))}}}}}]);